<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta property="og:url" content="https://newzone.top/JavaWeb/Servlet.html"><meta property="og:site_name" content="æŒ¨è¸¢ç‰›é©¬"><meta property="og:title" content="Servlet"><meta property="og:description" content="Servlet JavaEE JavaEEè§„èŒƒ JavaEE è§„èŒƒæ˜¯ J2EE è§„èŒƒçš„æ–°åç§°ï¼Œæ—©æœŸè¢«ç§°ä¸º J2EE è§„èŒƒï¼Œå…¶å…¨ç§°æ˜¯ Java 2 Platform Enterprise Editionï¼Œå®ƒæ˜¯ç”± SUN å…¬å¸é¢†å¯¼ã€å„å‚å®¶å…±åŒåˆ¶å®šå¹¶å¾—åˆ°å¹¿æ³›è®¤å¯çš„å·¥ä¸šæ ‡å‡†ï¼ˆJCPç»„ç»‡æˆå‘˜ï¼‰ã€‚ä¹‹æ‰€ä»¥æ”¹åä¸ºJavaEEï¼Œç›®çš„è¿˜æ˜¯è®©å¤§å®¶æ¸…æ¥š J2EE åªæ˜¯ Java ä¼ä¸šåº”ç”¨ã€‚åœ¨ 2004 å¹´åº•ä¸­å›½è½¯ä»¶æŠ€æœ¯å¤§ä¼š Ioc å¾®å®¹å™¨ï¼ˆä¹Ÿå°±æ˜¯ Jdon æ¡†æ¶çš„å®ç°åŸç†ï¼‰æ¼”è®²ä¸­æŒ‡å‡ºï¼šæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè·¨ J2SE/WEB/EJB çš„å¾®å®¹å™¨ï¼Œä¿æŠ¤æˆ‘ä»¬çš„ä¸šåŠ¡æ ¸å¿ƒç»„ä»¶ï¼Œä»¥å»¶ç»­å®ƒçš„ç”Ÿå‘½åŠ›ï¼Œè€Œä¸æ˜¯ä¾èµ– J2SE/J2EE ç‰ˆæœ¬ã€‚æ­¤æ¬¡ J2EE æ”¹åä¸º Java EEï¼Œå®é™…ä¹Ÿåæ˜ å‡ºä¸šç•Œè¿™ç§å…±åŒå¿ƒå£°"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-08-16T07:46:55.000Z"><meta property="article:author" content="æŒ¨è¸¢ç‰›é©¬"><meta property="article:modified_time" content="2023-08-16T07:46:55.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Servlet","image":[""],"dateModified":"2023-08-16T07:46:55.000Z","author":[{"@type":"Person","name":"æŒ¨è¸¢ç‰›é©¬","url":"https://newzone.top"}]}</script><link rel="alternate" type="application/rss+xml" href="https://newzone.top/rss.xml" title="æŒ¨è¸¢ç‰›é©¬ RSS Feed"><title>Servlet | æŒ¨è¸¢ç‰›é©¬</title><meta name="description" content="Servlet JavaEE JavaEEè§„èŒƒ JavaEE è§„èŒƒæ˜¯ J2EE è§„èŒƒçš„æ–°åç§°ï¼Œæ—©æœŸè¢«ç§°ä¸º J2EE è§„èŒƒï¼Œå…¶å…¨ç§°æ˜¯ Java 2 Platform Enterprise Editionï¼Œå®ƒæ˜¯ç”± SUN å…¬å¸é¢†å¯¼ã€å„å‚å®¶å…±åŒåˆ¶å®šå¹¶å¾—åˆ°å¹¿æ³›è®¤å¯çš„å·¥ä¸šæ ‡å‡†ï¼ˆJCPç»„ç»‡æˆå‘˜ï¼‰ã€‚ä¹‹æ‰€ä»¥æ”¹åä¸ºJavaEEï¼Œç›®çš„è¿˜æ˜¯è®©å¤§å®¶æ¸…æ¥š J2EE åªæ˜¯ Java ä¼ä¸šåº”ç”¨ã€‚åœ¨ 2004 å¹´åº•ä¸­å›½è½¯ä»¶æŠ€æœ¯å¤§ä¼š Ioc å¾®å®¹å™¨ï¼ˆä¹Ÿå°±æ˜¯ Jdon æ¡†æ¶çš„å®ç°åŸç†ï¼‰æ¼”è®²ä¸­æŒ‡å‡ºï¼šæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè·¨ J2SE/WEB/EJB çš„å¾®å®¹å™¨ï¼Œä¿æŠ¤æˆ‘ä»¬çš„ä¸šåŠ¡æ ¸å¿ƒç»„ä»¶ï¼Œä»¥å»¶ç»­å®ƒçš„ç”Ÿå‘½åŠ›ï¼Œè€Œä¸æ˜¯ä¾èµ– J2SE/J2EE ç‰ˆæœ¬ã€‚æ­¤æ¬¡ J2EE æ”¹åä¸º Java EEï¼Œå®é™…ä¹Ÿåæ˜ å‡ºä¸šç•Œè¿™ç§å…±åŒå¿ƒå£°">
    <meta name="keywords" content="è‡ªæˆ‘æå‡,æ•ˆç‡æå‡,å¼€æºå·¥å…·,å­¦ä¹ ç¬”è®°" />
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #252232;
      }

      html,
      body {
        background: var(--bg-color);
      }
      .wwads-cn * {
        color: var(--text-color) !important;
      }
      @media screen and (max-width: 1300px) {
        .wwads-cn {
          display: none;
        }
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-962fc479.css" as="style"><link rel="stylesheet" href="/assets/style-962fc479.css">
    <link rel="modulepreload" href="/assets/app-3aac6385.js"><link rel="modulepreload" href="/assets/Servlet.html-b7a4bf62.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/Servlet.html-c5fd170b.js"><link rel="prefetch" href="/assets/index.html-3ff342bf.js" as="script"><link rel="prefetch" href="/assets/blog.html-5b492070.js" as="script"><link rel="prefetch" href="/assets/intro.html-3e827329.js" as="script"><link rel="prefetch" href="/assets/JVM.html-38517126.js" as="script"><link rel="prefetch" href="/assets/JavaSE.html-253fd3a5.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•.html-2706b582.js" as="script"><link rel="prefetch" href="/assets/AJAX.html-cba67190.js" as="script"><link rel="prefetch" href="/assets/CSS.html-ab50b6dd.js" as="script"><link rel="prefetch" href="/assets/HTML.html-9118e91a.js" as="script"><link rel="prefetch" href="/assets/HTTP.html-a472e287.js" as="script"><link rel="prefetch" href="/assets/JS.html-655a3924.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-112d02b1.js" as="script"><link rel="prefetch" href="/assets/VUE.html-17a52af9.js" as="script"><link rel="prefetch" href="/assets/MyBatis.html-cb25e492.js" as="script"><link rel="prefetch" href="/assets/Spring.html-f53fa6cf.js" as="script"><link rel="prefetch" href="/assets/SpringBoot.html-ab37d22b.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-873fd3d2.js" as="script"><link rel="prefetch" href="/assets/SpringMVC.html-13a7790a.js" as="script"><link rel="prefetch" href="/assets/AutoHotkey.html-93f77451.js" as="script"><link rel="prefetch" href="/assets/Electron.html-031583fb.js" as="script"><link rel="prefetch" href="/assets/HTML.html-262d2f4d.js" as="script"><link rel="prefetch" href="/assets/Javascript.html-1b3b627b.js" as="script"><link rel="prefetch" href="/assets/Markdown.html-756ae24c.js" as="script"><link rel="prefetch" href="/assets/Python.html-7189afc3.js" as="script"><link rel="prefetch" href="/assets/index.html-1bea80e3.js" as="script"><link rel="prefetch" href="/assets/Regex.html-e40c3d88.js" as="script"><link rel="prefetch" href="/assets/Vue.html-ddbcc429.js" as="script"><link rel="prefetch" href="/assets/Cloudflare.html-cc44ecff.js" as="script"><link rel="prefetch" href="/assets/DNS.html-15883a35.js" as="script"><link rel="prefetch" href="/assets/GitHub.html-2d104d0f.js" as="script"><link rel="prefetch" href="/assets/Static.html-9ecb0930.js" as="script"><link rel="prefetch" href="/assets/VPS.html-00f13f78.js" as="script"><link rel="prefetch" href="/assets/Comments.html-ca88c317.js" as="script"><link rel="prefetch" href="/assets/VuePress.html-f23b8ae5.js" as="script"><link rel="prefetch" href="/assets/docsify.html-d1c77532.js" as="script"><link rel="prefetch" href="/assets/Maven.html-dfae2894.js" as="script"><link rel="prefetch" href="/assets/Netty.html-af5debfd.js" as="script"><link rel="prefetch" href="/assets/RocketMQ.html-3e238d84.js" as="script"><link rel="prefetch" href="/assets/Zookeeper.html-8b4f9abb.js" as="script"><link rel="prefetch" href="/assets/Docker.html-33b7e6ff.js" as="script"><link rel="prefetch" href="/assets/Git.html-61c1908c.js" as="script"><link rel="prefetch" href="/assets/Linux.html-cc52cc1e.js" as="script"><link rel="prefetch" href="/assets/JUC.html-0ad57c4e.js" as="script"><link rel="prefetch" href="/assets/NET.html-06a07968.js" as="script"><link rel="prefetch" href="/assets/Javaæ•°æ®åº“API.html-fc1956d1.js" as="script"><link rel="prefetch" href="/assets/MySQL.html-032d438e.js" as="script"><link rel="prefetch" href="/assets/Redis.html-37f941e2.js" as="script"><link rel="prefetch" href="/assets/404.html-d452e021.js" as="script"><link rel="prefetch" href="/assets/index.html-4edb39e6.js" as="script"><link rel="prefetch" href="/assets/index.html-b9799b66.js" as="script"><link rel="prefetch" href="/assets/index.html-86025758.js" as="script"><link rel="prefetch" href="/assets/index.html-85cb61ed.js" as="script"><link rel="prefetch" href="/assets/index.html-6ea8950c.js" as="script"><link rel="prefetch" href="/assets/index.html-49598c38.js" as="script"><link rel="prefetch" href="/assets/index.html-28299f5a.js" as="script"><link rel="prefetch" href="/assets/index.html-4c521a15.js" as="script"><link rel="prefetch" href="/assets/index.html-22803f63.js" as="script"><link rel="prefetch" href="/assets/index.html-b9fff7fd.js" as="script"><link rel="prefetch" href="/assets/index.html-1e5e2781.js" as="script"><link rel="prefetch" href="/assets/index.html-202cc2d9.js" as="script"><link rel="prefetch" href="/assets/index.html-0904d946.js" as="script"><link rel="prefetch" href="/assets/index.html-a063af4b.js" as="script"><link rel="prefetch" href="/assets/index.html-b975f392.js" as="script"><link rel="prefetch" href="/assets/blog.html-bdf0a60b.js" as="script"><link rel="prefetch" href="/assets/intro.html-dbdff8b7.js" as="script"><link rel="prefetch" href="/assets/JVM.html-c170717b.js" as="script"><link rel="prefetch" href="/assets/JavaSE.html-1c00b98c.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•.html-f97b1b03.js" as="script"><link rel="prefetch" href="/assets/AJAX.html-b97ca552.js" as="script"><link rel="prefetch" href="/assets/CSS.html-c31987b3.js" as="script"><link rel="prefetch" href="/assets/HTML.html-b4b1d9ea.js" as="script"><link rel="prefetch" href="/assets/HTTP.html-2d8336c3.js" as="script"><link rel="prefetch" href="/assets/JS.html-d1aed2e6.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-f688b163.js" as="script"><link rel="prefetch" href="/assets/VUE.html-5b50a546.js" as="script"><link rel="prefetch" href="/assets/MyBatis.html-d33d8057.js" as="script"><link rel="prefetch" href="/assets/Spring.html-c6ade521.js" as="script"><link rel="prefetch" href="/assets/SpringBoot.html-10d86294.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-650c49a8.js" as="script"><link rel="prefetch" href="/assets/SpringMVC.html-813d7cfd.js" as="script"><link rel="prefetch" href="/assets/AutoHotkey.html-355f669e.js" as="script"><link rel="prefetch" href="/assets/Electron.html-61c02c3c.js" as="script"><link rel="prefetch" href="/assets/HTML.html-2c19d067.js" as="script"><link rel="prefetch" href="/assets/Javascript.html-ff9ab74c.js" as="script"><link rel="prefetch" href="/assets/Markdown.html-94c7bbcb.js" as="script"><link rel="prefetch" href="/assets/Python.html-76d6bcc6.js" as="script"><link rel="prefetch" href="/assets/index.html-2202ac76.js" as="script"><link rel="prefetch" href="/assets/Regex.html-8106b7bb.js" as="script"><link rel="prefetch" href="/assets/Vue.html-c022ab82.js" as="script"><link rel="prefetch" href="/assets/Cloudflare.html-5e38f011.js" as="script"><link rel="prefetch" href="/assets/DNS.html-a9288eff.js" as="script"><link rel="prefetch" href="/assets/GitHub.html-bc398c34.js" as="script"><link rel="prefetch" href="/assets/Static.html-8cbb84e6.js" as="script"><link rel="prefetch" href="/assets/VPS.html-a06913f6.js" as="script"><link rel="prefetch" href="/assets/Comments.html-31738cb9.js" as="script"><link rel="prefetch" href="/assets/VuePress.html-ec8deccd.js" as="script"><link rel="prefetch" href="/assets/docsify.html-0160f724.js" as="script"><link rel="prefetch" href="/assets/Maven.html-fdbac5c9.js" as="script"><link rel="prefetch" href="/assets/Netty.html-328d95cd.js" as="script"><link rel="prefetch" href="/assets/RocketMQ.html-cec36ebe.js" as="script"><link rel="prefetch" href="/assets/Zookeeper.html-e9b55c4d.js" as="script"><link rel="prefetch" href="/assets/Docker.html-e54107fd.js" as="script"><link rel="prefetch" href="/assets/Git.html-8adb41f1.js" as="script"><link rel="prefetch" href="/assets/Linux.html-4b846e04.js" as="script"><link rel="prefetch" href="/assets/JUC.html-428f7eb8.js" as="script"><link rel="prefetch" href="/assets/NET.html-06499db9.js" as="script"><link rel="prefetch" href="/assets/Javaæ•°æ®åº“API.html-dd84fd1d.js" as="script"><link rel="prefetch" href="/assets/MySQL.html-92d4238f.js" as="script"><link rel="prefetch" href="/assets/Redis.html-d4995828.js" as="script"><link rel="prefetch" href="/assets/404.html-9c56c223.js" as="script"><link rel="prefetch" href="/assets/index.html-3d541f18.js" as="script"><link rel="prefetch" href="/assets/index.html-98600397.js" as="script"><link rel="prefetch" href="/assets/index.html-a6d2e783.js" as="script"><link rel="prefetch" href="/assets/index.html-4084d10a.js" as="script"><link rel="prefetch" href="/assets/index.html-df25c848.js" as="script"><link rel="prefetch" href="/assets/index.html-ea07f84a.js" as="script"><link rel="prefetch" href="/assets/index.html-91176658.js" as="script"><link rel="prefetch" href="/assets/index.html-efb1a73d.js" as="script"><link rel="prefetch" href="/assets/index.html-a2371e27.js" as="script"><link rel="prefetch" href="/assets/index.html-1cbbbd09.js" as="script"><link rel="prefetch" href="/assets/index.html-76b3d711.js" as="script"><link rel="prefetch" href="/assets/index.html-992507f9.js" as="script"><link rel="prefetch" href="/assets/index.html-c376f763.js" as="script"><link rel="prefetch" href="/assets/index.html-47a07d9c.js" as="script"><link rel="prefetch" href="/assets/plyr.min-d2156373.js" as="script"><link rel="prefetch" href="/assets/waline-meta-56fbc549.js" as="script"><link rel="prefetch" href="/assets/component-9b7941d1.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-5794cde2.js" as="script"><link rel="prefetch" href="/assets/pageview-d8f78d7a.js" as="script"><link rel="prefetch" href="/assets/SearchResult-172f634a.js" as="script">
    <!-- <script type="text/javascript" charset="UTF-8" src="https://cdn.wwads.cn/js/makemoney.js" async></script> -->
	  <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7585955822109216"
     crossorigin="anonymous"></script> -->
    <!-- Matomo æ­¤åŒºå—ä¸ºç»Ÿè®¡ä»£ç ï¼Œè¯·åˆ é™¤-->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://piwik.seoipo.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '7']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code æ­¤åŒºå—ä¸ºç»Ÿè®¡ä»£ç ï¼Œè¯·åˆ é™¤-->
  </head>
  <body>
    <!-- <div class="wwads-cn wwads-vertical wwads-sticky" data-id="255" data-sticky-position="left" style="max-width:180px; background-color:var(--bg-color);"></div> -->
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/"><img class="vp-nav-logo" src="/æ©˜çŒ«.jpeg" alt="æŒ¨è¸¢ç‰›é©¬"><!----><span class="vp-site-name hide-in-pad">æŒ¨è¸¢ç‰›é©¬</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Contact"><span class="title"><span class="font-icon icon iconfont icon-advance" style=""></span>Contact</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="https://img.newzone.top/wechat.svg" rel="noopener noreferrer" target="_blank" aria-label="å¾®ä¿¡" class="nav-link"><span class="font-icon icon iconfont icon-wechat" style=""></span>å¾®ä¿¡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="mailto:learndata@newzone.top" aria-label="Email" class="nav-link"><span class="font-icon icon iconfont icon-alias" style=""></span>Email<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">ğŸ§° Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">ğŸŒ æ•°æ®åº“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">ğŸ—ï¸ ä¸­é—´ä»¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">ğŸ‹ Springå…¨å®¶æ¡¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">ğŸ‹ å¹¶å‘åŒ…</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">ğŸ‹ å·¥å…·</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">ğŸ‹ JavaWeb</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/JavaWeb/AJAX.html"><!---->AJAX<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/JavaWeb/CSS.html"><!---->CSS<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/JavaWeb/HTML.html"><!---->HTML<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/JavaWeb/HTTP.html"><!---->HTTP<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/JavaWeb/JS.html"><!---->JS<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/JavaWeb/Nginx.html"><!---->Nginx<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/JavaWeb/Servlet.html"><!---->Servlet<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#javaee"><!---->JavaEE<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#javaeeè§„èŒƒ"><!---->JavaEEè§„èŒƒ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#web-æ¦‚è¿°"><!---->Web æ¦‚è¿°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#ç³»ç»Ÿç»“æ„"><!---->ç³»ç»Ÿç»“æ„<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#tomcat"><!---->Tomcat<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#æœåŠ¡å™¨"><!---->æœåŠ¡å™¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#åŸºæœ¬ä»‹ç»"><!---->åŸºæœ¬ä»‹ç»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#å‘å¸ƒåº”ç”¨"><!---->å‘å¸ƒåº”ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#æ‰§è¡ŒåŸç†"><!---->æ‰§è¡ŒåŸç†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#servlet-1"><!---->Servlet<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#socket"><!---->Socket<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#åŸºæœ¬ä»‹ç»-1"><!---->åŸºæœ¬ä»‹ç»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#ç›¸å…³é—®é¢˜"><!---->ç›¸å…³é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#servletconfig"><!---->ServletConfig<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#servletcontext"><!---->ServletContext<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#æ³¨è§£å¼€å‘"><!---->æ³¨è§£å¼€å‘<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#request"><!---->Request<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è¯·æ±‚å“åº”"><!---->è¯·æ±‚å“åº”<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è¯·æ±‚å¯¹è±¡"><!---->è¯·æ±‚å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è¯·æ±‚è·¯å¾„"><!---->è¯·æ±‚è·¯å¾„<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è·å–è¯·æ±‚å¤´"><!---->è·å–è¯·æ±‚å¤´<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è¯·æ±‚å‚æ•°"><!---->è¯·æ±‚å‚æ•°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è¯·æ±‚åŸŸ"><!---->è¯·æ±‚åŸŸ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#ä¹±ç é—®é¢˜"><!---->ä¹±ç é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#response"><!---->Response<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#å“åº”å¯¹è±¡"><!---->å“åº”å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#æ“ä½œå“åº”è¡Œ"><!---->æ“ä½œå“åº”è¡Œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#æ“ä½œå“åº”ä½“"><!---->æ“ä½œå“åº”ä½“<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#æ“ä½œå“åº”å¤´"><!---->æ“ä½œå“åº”å¤´<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è·¯å¾„é—®é¢˜"><!---->è·¯å¾„é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#cookie"><!---->Cookie<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#ä¼šè¯æŠ€æœ¯"><!---->ä¼šè¯æŠ€æœ¯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#åŸºæœ¬ä»‹ç»-2"><!---->åŸºæœ¬ä»‹ç»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#åŸºæœ¬ä½¿ç”¨"><!---->åŸºæœ¬ä½¿ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#session"><!---->Session<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#åŸºæœ¬ä»‹ç»-3"><!---->åŸºæœ¬ä»‹ç»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#åŸºæœ¬ä½¿ç”¨-1"><!---->åŸºæœ¬ä½¿ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#ä¼šè¯é—®é¢˜"><!---->ä¼šè¯é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#jsp"><!---->JSP<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#jspæ¦‚è¿°"><!---->JSPæ¦‚è¿°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#æ‰§è¡ŒåŸç†-1"><!---->æ‰§è¡ŒåŸç†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#jspè¯­æ³•"><!---->JSPè¯­æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#jspæŒ‡ä»¤"><!---->JSPæŒ‡ä»¤<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#éšå¼å¯¹è±¡"><!---->éšå¼å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#å››å¤§åŸŸå¯¹è±¡"><!---->å››å¤§åŸŸå¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#mvcæ¨¡å‹"><!---->MVCæ¨¡å‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#el"><!---->EL<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#elæ¦‚è¿°"><!---->ELæ¦‚è¿°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#elç”¨æ³•"><!---->ELç”¨æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#eléšå¼å¯¹è±¡"><!---->ELéšå¼å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#jstl"><!---->JSTL<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#filter"><!---->Filter<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è¿‡æ»¤å™¨"><!---->è¿‡æ»¤å™¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#ç›¸å…³ç±»"><!---->ç›¸å…³ç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#filterä½¿ç”¨"><!---->Filterä½¿ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#filteræ¡ˆä¾‹"><!---->Filteræ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#æ‹¦æˆªè¡Œä¸º"><!---->æ‹¦æˆªè¡Œä¸º<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#å¯¹æ¯”servlet"><!---->å¯¹æ¯”Servlet<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#listener"><!---->Listener<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#è§‚å¯Ÿè€…è®¾è®¡è€…"><!---->è§‚å¯Ÿè€…è®¾è®¡è€…<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#ç›‘å¬å™¨åˆ†ç±»"><!---->ç›‘å¬å™¨åˆ†ç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/JavaWeb/Servlet.html#ç›‘å¬å™¨ä½¿ç”¨"><!---->ç›‘å¬å™¨ä½¿ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/JavaWeb/VUE.html"><!---->VUE<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Servlet</h1><div class="page-info"><!----><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 22826 å­—</span><meta property="wordCount" content="22826"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 76 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT76M"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="waline-pageview-count" data-path="/JavaWeb/Servlet.html">...</span></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#javaee">JavaEE</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#javaeeè§„èŒƒ">JavaEEè§„èŒƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#web-æ¦‚è¿°">Web æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç³»ç»Ÿç»“æ„">ç³»ç»Ÿç»“æ„</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#tomcat">Tomcat</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æœåŠ¡å™¨">æœåŠ¡å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#åŸºæœ¬ä»‹ç»">åŸºæœ¬ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#å‘å¸ƒåº”ç”¨">å‘å¸ƒåº”ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ‰§è¡ŒåŸç†">æ‰§è¡ŒåŸç†</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#servlet-1">Servlet</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#socket">Socket</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#åŸºæœ¬ä»‹ç»-1">åŸºæœ¬ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç›¸å…³é—®é¢˜">ç›¸å…³é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#servletconfig">ServletConfig</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#servletcontext">ServletContext</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ³¨è§£å¼€å‘">æ³¨è§£å¼€å‘</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#request">Request</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è¯·æ±‚å“åº”">è¯·æ±‚å“åº”</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è¯·æ±‚å¯¹è±¡">è¯·æ±‚å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è¯·æ±‚è·¯å¾„">è¯·æ±‚è·¯å¾„</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è·å–è¯·æ±‚å¤´">è·å–è¯·æ±‚å¤´</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è¯·æ±‚å‚æ•°">è¯·æ±‚å‚æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è¯·æ±‚åŸŸ">è¯·æ±‚åŸŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¹±ç é—®é¢˜">ä¹±ç é—®é¢˜</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#response">Response</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#å“åº”å¯¹è±¡">å“åº”å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ“ä½œå“åº”è¡Œ">æ“ä½œå“åº”è¡Œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ“ä½œå“åº”ä½“">æ“ä½œå“åº”ä½“</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ“ä½œå“åº”å¤´">æ“ä½œå“åº”å¤´</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è·¯å¾„é—®é¢˜">è·¯å¾„é—®é¢˜</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#cookie">Cookie</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¼šè¯æŠ€æœ¯">ä¼šè¯æŠ€æœ¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#åŸºæœ¬ä»‹ç»-2">åŸºæœ¬ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#åŸºæœ¬ä½¿ç”¨">åŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#session">Session</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#åŸºæœ¬ä»‹ç»-3">åŸºæœ¬ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#åŸºæœ¬ä½¿ç”¨-1">åŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¼šè¯é—®é¢˜">ä¼šè¯é—®é¢˜</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#jsp">JSP</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#jspæ¦‚è¿°">JSPæ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ‰§è¡ŒåŸç†-1">æ‰§è¡ŒåŸç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#jspè¯­æ³•">JSPè¯­æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#jspæŒ‡ä»¤">JSPæŒ‡ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#éšå¼å¯¹è±¡">éšå¼å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#å››å¤§åŸŸå¯¹è±¡">å››å¤§åŸŸå¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#mvcæ¨¡å‹">MVCæ¨¡å‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#el">EL</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#elæ¦‚è¿°">ELæ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#elç”¨æ³•">ELç”¨æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#eléšå¼å¯¹è±¡">ELéšå¼å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#jstl">JSTL</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#filter">Filter</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è¿‡æ»¤å™¨">è¿‡æ»¤å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç›¸å…³ç±»">ç›¸å…³ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#filterä½¿ç”¨">Filterä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#filteræ¡ˆä¾‹">Filteræ¡ˆä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ‹¦æˆªè¡Œä¸º">æ‹¦æˆªè¡Œä¸º</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#å¯¹æ¯”servlet">å¯¹æ¯”Servlet</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#listener">Listener</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è§‚å¯Ÿè€…è®¾è®¡è€…">è§‚å¯Ÿè€…è®¾è®¡è€…</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç›‘å¬å™¨åˆ†ç±»">ç›‘å¬å™¨åˆ†ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç›‘å¬å™¨ä½¿ç”¨">ç›‘å¬å™¨ä½¿ç”¨</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="servlet" tabindex="-1"><a class="header-anchor" href="#servlet" aria-hidden="true">#</a> Servlet</h1><h2 id="javaee" tabindex="-1"><a class="header-anchor" href="#javaee" aria-hidden="true">#</a> JavaEE</h2><h3 id="javaeeè§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#javaeeè§„èŒƒ" aria-hidden="true">#</a> JavaEEè§„èŒƒ</h3><p><code>JavaEE</code> è§„èŒƒæ˜¯ <code>J2EE</code> è§„èŒƒçš„æ–°åç§°ï¼Œæ—©æœŸè¢«ç§°ä¸º <code>J2EE</code> è§„èŒƒï¼Œå…¶å…¨ç§°æ˜¯ <code>Java 2 Platform Enterprise Edition</code>ï¼Œå®ƒæ˜¯ç”± SUN å…¬å¸é¢†å¯¼ã€å„å‚å®¶å…±åŒåˆ¶å®šå¹¶å¾—åˆ°å¹¿æ³›è®¤å¯çš„å·¥ä¸šæ ‡å‡†ï¼ˆ<code>JCP</code>ç»„ç»‡æˆå‘˜ï¼‰ã€‚ä¹‹æ‰€ä»¥æ”¹åä¸º<code>JavaEE</code>ï¼Œç›®çš„è¿˜æ˜¯è®©å¤§å®¶æ¸…æ¥š <code>J2EE</code> åªæ˜¯ <code>Java</code> ä¼ä¸šåº”ç”¨ã€‚åœ¨ 2004 å¹´åº•ä¸­å›½è½¯ä»¶æŠ€æœ¯å¤§ä¼š <code>Ioc</code> å¾®å®¹å™¨ï¼ˆä¹Ÿå°±æ˜¯ <code>Jdon</code> æ¡†æ¶çš„å®ç°åŸç†ï¼‰æ¼”è®²ä¸­æŒ‡å‡ºï¼šæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè·¨ <code>J2SE/WEB/EJB</code> çš„å¾®å®¹å™¨ï¼Œä¿æŠ¤æˆ‘ä»¬çš„ä¸šåŠ¡æ ¸å¿ƒç»„ä»¶ï¼Œä»¥å»¶ç»­å®ƒçš„ç”Ÿå‘½åŠ›ï¼Œè€Œä¸æ˜¯ä¾èµ– <code>J2SE/J2EE</code> ç‰ˆæœ¬ã€‚æ­¤æ¬¡ <code>J2EE</code> æ”¹åä¸º <code>Java EE</code>ï¼Œå®é™…ä¹Ÿåæ˜ å‡ºä¸šç•Œè¿™ç§å…±åŒå¿ƒå£°</p><p><code>JavaEE</code> è§„èŒƒæ˜¯å¾ˆå¤š Java å¼€å‘æŠ€æœ¯çš„æ€»ç§°ã€‚è¿™äº›æŠ€æœ¯è§„èŒƒéƒ½æ˜¯æ²¿ç”¨è‡ª <code>J2EE</code> çš„ã€‚ä¸€å…±åŒ…æ‹¬äº† 13 ä¸ªæŠ€æœ¯è§„èŒƒï¼Œä¾‹å¦‚ï¼š<code>jsp/servlet</code>ï¼Œ<code>jndi</code>ï¼Œ<code>jaxp</code>ï¼Œ<code>jdbc</code>ï¼Œ<code>jni</code>ï¼Œ<code>jaxb</code>ï¼Œ<code>jmf</code>ï¼Œ<code>jta</code>ï¼Œ<code>jpa</code>ï¼Œ<code>EJB</code>ç­‰ã€‚</p><p>å…¶ä¸­ï¼Œ<code>JCP</code> ç»„ç»‡çš„å…¨ç§°æ˜¯ Java Community Processï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾çš„å›½é™…ç»„ç»‡ï¼Œä¸»è¦ç”± Java å¼€å‘è€…ä»¥åŠè¢«æˆæƒè€…ç»„æˆï¼ŒèŒèƒ½æ˜¯å‘å±•å’Œæ›´æ–°ã€‚æˆç«‹äº 1998 å¹´ã€‚å®˜ç½‘æ˜¯ï¼š<a href="https://jcp.org/en/home/index" target="_blank" rel="noopener noreferrer">JCP<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><code>JavaEE</code> çš„ç‰ˆæœ¬æ˜¯å»¶ç»­äº† <code>J2EE</code> çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯æ²¡æœ‰ç»§ç»­é‡‡ç”¨å…¶å‘½åè§„åˆ™ã€‚<code>J2EE</code> çš„ç‰ˆæœ¬ä» 1.0 å¼€å§‹åˆ° 1.4 ç»“æŸï¼Œè€Œ <code>JavaEE</code> ç‰ˆæœ¬æ˜¯ä» <code>JavaEE 5</code> ç‰ˆæœ¬å¼€å§‹ï¼Œç›®å‰æœ€æ–°çš„çš„ç‰ˆæœ¬æ˜¯ <code>JavaEE 8</code></p><p>è¯¦æƒ…è¯·å‚è€ƒï¼š<a href="https://www.oracle.com/technetwork/cn/java/javaee/overview/index.html" target="_blank" rel="noopener noreferrer">JavaEE8 è§„èŒƒæ¦‚è§ˆ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><hr><h3 id="web-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#web-æ¦‚è¿°" aria-hidden="true">#</a> Web æ¦‚è¿°</h3><p>Webï¼Œåœ¨è®¡ç®—æœºé¢†åŸŸæŒ‡ç½‘ç»œã€‚åƒæˆ‘ä»¬æ¥è§¦çš„ <code>WWW</code>ï¼Œå®ƒæ˜¯ç”± 3 ä¸ªå•è¯ç»„æˆçš„ï¼Œå³ï¼š<code>World Wide Web </code>ï¼Œä¸­æ–‡å«ä¹‰æ˜¯<b>ä¸‡ç»´ç½‘</b>ã€‚è€Œæˆ‘ä»¬å‰é¢å­¦çš„ HTML çš„å‚è€ƒæ–‡æ¡£ã€ŠW3School å…¨å¥—æ•™ç¨‹ã€‹ä¸­çš„ <code>W3C</code> å°±æ˜¯ä¸‡ç»´ç½‘è”ç›Ÿï¼Œä»–ä»¬çš„å‡ºç°éƒ½æ˜¯ä¸ºäº†è®©æˆ‘ä»¬åœ¨ç½‘ç»œçš„ä¸–ç•Œä¸­è·å–èµ„æºï¼Œè¿™äº›èµ„æºçš„å­˜æ”¾ä¹‹å¤„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç½‘ç«™ã€‚æˆ‘ä»¬é€šè¿‡è¾“å…¥ç½‘ç«™çš„åœ°å€ï¼ˆç½‘å€ï¼‰ï¼Œå°±å¯ä»¥è®¿é—®ç½‘ç«™ä¸­æä¾›çš„èµ„æºã€‚åœ¨ç½‘ä¸Šæˆ‘ä»¬èƒ½è®¿é—®åˆ°çš„å†…å®¹å…¨æ˜¯èµ„æºï¼ˆä¸åŒºåˆ†å±€åŸŸç½‘è¿˜æ˜¯å¹¿åŸŸç½‘ï¼‰ï¼Œåªä¸è¿‡ä¸åŒç±»å‹çš„èµ„æºå±•ç¤ºçš„æ•ˆæœä¸ä¸€æ ·</p><p>èµ„æºåˆ†ä¸ºé™æ€èµ„æºå’ŒåŠ¨æ€èµ„æº</p><ul><li><p>é™æ€èµ„æºæŒ‡çš„æ˜¯ï¼Œç½‘ç«™ä¸­æä¾›ç»™äººä»¬å±•ç¤ºçš„èµ„æºæ˜¯ä¸€æˆä¸å˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸åŒäººæˆ–è€…åœ¨ä¸åŒæ—¶é—´ï¼Œçœ‹åˆ°çš„å†…å®¹éƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬çœ‹åˆ°çš„æ–°é—»ï¼Œç½‘ç«™çš„ä½¿ç”¨æ‰‹å†Œï¼Œç½‘ç«™åŠŸèƒ½è¯´æ˜æ–‡æ¡£ç­‰ç­‰ã€‚è€Œä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬ç¼–å†™çš„ <code>html</code>ã€<code>css</code>ã€<code>js</code> å›¾ç‰‡ï¼Œå¤šåª’ä½“ç­‰ç­‰éƒ½å¯ä»¥ç§°ä¸ºé™æ€èµ„æº</p></li><li><p>åŠ¨æ€èµ„æºå®ƒæŒ‡çš„æ˜¯ï¼Œç½‘ç«™ä¸­æä¾›ç»™äººä»¬å±•ç¤ºçš„èµ„æºæ˜¯ç”±ç¨‹åºäº§ç”Ÿçš„ï¼Œåœ¨ä¸åŒçš„æ—¶é—´æˆ–è€…ç”¨ä¸åŒçš„äººå‘˜ç”±äºèº«ä»½çš„ä¸åŒï¼Œæ‰€çœ‹åˆ°çš„å†…å®¹æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨CSDNä¸Šä¸‹è½½èµ„æ–™ï¼Œåªæœ‰ç™»å½•æˆåŠŸåï¼Œä¸”ç§¯åˆ†è¶³å¤Ÿæ—¶æ‰èƒ½ä¸‹è½½ã€‚å¦åˆ™å°±ä¸èƒ½ä¸‹è½½ï¼Œè¿™å°±æ˜¯è®¿å®¢èº«ä»½å’Œä¼šå‘˜èº«ä»½çš„åŒºåˆ«ã€‚ä½œä¸ºå¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬ç¼–å†™çš„ <code>JSP</code>ï¼Œ<code>servlet</code>ï¼Œ<code>php</code>ï¼Œ<code>ASP</code> ç­‰éƒ½æ˜¯åŠ¨æ€èµ„æºã€‚</p></li></ul><p>å…³äºå¹¿åŸŸç½‘å’Œå±€åŸŸç½‘çš„åˆ’åˆ†</p><ul><li>å¹¿åŸŸç½‘æŒ‡çš„å°±æ˜¯ä¸‡ç»´ç½‘ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„äº’è”ç½‘ã€‚</li><li>å±€åŸŸç½‘æ˜¯æŒ‡çš„æ˜¯åœ¨ä¸€å®šèŒƒå›´ä¹‹å†…å¯ä»¥è®¿é—®çš„ç½‘ç»œï¼Œå‡ºäº†è¿™ä¸ªèŒƒå›´ï¼Œå°±ä¸èƒ½å†ä½¿ç”¨çš„ç½‘ç»œã€‚</li></ul><hr><h3 id="ç³»ç»Ÿç»“æ„" tabindex="-1"><a class="header-anchor" href="#ç³»ç»Ÿç»“æ„" aria-hidden="true">#</a> ç³»ç»Ÿç»“æ„</h3><p>åŸºç¡€ç»“æ„åˆ’åˆ†ï¼šC/Sç»“æ„ï¼ŒB/Sç»“æ„ä¸¤ç±»ã€‚</p><p>æŠ€æœ¯é€‰å‹åˆ’åˆ†ï¼šModel1æ¨¡å‹ï¼ŒModel2æ¨¡å‹ï¼ŒMVCæ¨¡å‹å’Œä¸‰å±‚æ¶æ„+MVCæ¨¡å‹ã€‚</p><p>éƒ¨ç½²æ–¹å¼åˆ’åˆ†ï¼šä¸€ä½“åŒ–æ¶æ„ï¼Œå‚ç›´æ‹†åˆ†æ¶æ„ï¼Œåˆ†å¸ƒå¼æ¶æ„ï¼ŒæµåŠ¨è®¡ç®—æ¶æ„ï¼Œå¾®æœåŠ¡æ¶æ„ã€‚</p><ul><li><p>C/Sç»“æ„ï¼šå®¢æˆ·ç«¯â€”æœåŠ¡å™¨çš„æ–¹å¼ã€‚å…¶ä¸­Cä»£è¡¨Clientï¼ŒSä»£è¡¨æœåŠ¡å™¨ã€‚C/Sç»“æ„çš„ç³»ç»Ÿè®¾è®¡å›¾å¦‚ä¸‹ï¼š<br><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/JavaEE-CSç»“æ„å›¾.jpg" style="zoom:67%;"></p></li><li><p>B/Sç»“æ„æ˜¯æµè§ˆå™¨â€”æœåŠ¡å™¨çš„æ–¹å¼ã€‚Bä»£è¡¨Browserï¼ŒSä»£è¡¨æœåŠ¡å™¨ã€‚B/Sç»“æ„çš„ç³»ç»Ÿè®¾è®¡å›¾å¦‚ä¸‹ï¼š</p><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/JavaEE-BSç»“æ„å›¾.jpg" style="zoom:67%;"></li><li><p>ä¸¤ç§ç»“æ„çš„åŒºåˆ«åŠä¼˜åŠ£</p><ul><li><p>åŒºåˆ«ï¼š</p><ul><li>ç¬¬ä¸€ï¼šç¡¬ä»¶ç¯å¢ƒä¸åŒï¼ŒC/Sé€šå¸¸æ˜¯å»ºç«‹åœ¨ä¸“ç”¨çš„ç½‘ç»œæˆ–å°èŒƒå›´çš„ç½‘ç»œç¯å¢ƒä¸Šï¼ˆå³å±€åŸŸç½‘ï¼‰ï¼Œä¸”å¿…é¡»è¦å®‰è£…å®¢æˆ·ç«¯ã€‚è€ŒB/Sæ˜¯å»ºç«‹åœ¨å¹¿åŸŸç½‘ä¸Šçš„ï¼Œé€‚åº”èŒƒå›´å¼ºï¼Œé€šå¸¸æœ‰æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨å°±è¡Œã€‚</li><li>ç¬¬äºŒï¼šC/Sç»“æ„æ¯”B/Sç»“æ„æ›´å®‰å…¨ï¼Œå› ä¸ºç”¨æˆ·ç¾¤ç›¸å¯¹å›ºå®šï¼Œå¯¹ä¿¡æ¯çš„ä¿æŠ¤æ›´å¼ºã€‚</li><li>ç¬¬ä¸‰ï¼šB/Sç»“æ„ç»´æŠ¤å‡çº§æ¯”è¾ƒç®€å•ï¼Œè€ŒC/Sç»“æ„ç»´æŠ¤å‡çº§ç›¸å¯¹å›°éš¾ã€‚</li></ul></li><li><p>ä¼˜åŠ£</p><ul><li>C/Sï¼šèƒ½å……åˆ†å‘æŒ¥å®¢æˆ·ç«¯PCçš„å¤„ç†èƒ½åŠ›ï¼Œå¾ˆå¤šå·¥ä½œå¯ä»¥åœ¨å®¢æˆ·ç«¯å¤„ç†åå†æäº¤ç»™æœåŠ¡å™¨ã€‚å¯¹åº”çš„ä¼˜ç‚¹å°±æ˜¯å®¢æˆ·ç«¯å“åº”é€Ÿåº¦å¿«ã€‚</li><li>B/Sï¼šæ€»ä½“æ‹¥æœ‰æˆæœ¬ä½ã€ç»´æŠ¤æ–¹ä¾¿ã€ åˆ†å¸ƒæ€§å¼ºã€å¼€å‘ç®€å•ï¼Œå¯ä»¥ä¸ç”¨å®‰è£…ä»»ä½•ä¸“é—¨çš„è½¯ä»¶å°±èƒ½å®ç°åœ¨ä»»ä½•åœ°æ–¹è¿›è¡Œæ“ä½œï¼Œå®¢æˆ·ç«¯é›¶ç»´æŠ¤ï¼Œç³»ç»Ÿçš„æ‰©å±•éå¸¸å®¹æ˜“ï¼Œåªè¦æœ‰ä¸€å°èƒ½ä¸Šç½‘çš„ç”µè„‘å°±èƒ½ä½¿ç”¨ã€‚</li></ul></li></ul></li><li><p>æˆ‘ä»¬çš„è¯¾ç¨‹ä¸­æ¶‰åŠçš„ç³»ç»Ÿç»“æ„éƒ½æ˜¯æ˜¯åŸºäºB/Sç»“æ„</p></li></ul><hr><h2 id="tomcat" tabindex="-1"><a class="header-anchor" href="#tomcat" aria-hidden="true">#</a> Tomcat</h2><h3 id="æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡å™¨" aria-hidden="true">#</a> æœåŠ¡å™¨</h3><p>æœåŠ¡å™¨çš„æ¦‚å¿µéå¸¸çš„å¹¿æ³›ï¼Œå®ƒå¯ä»¥æŒ‡ä»£ä¸€å°ç‰¹æ®Šçš„è®¡ç®—æœºï¼ˆç›¸æ¯”æ™®é€šè®¡ç®—æœºè¿è¡Œæ›´å¿«ã€è´Ÿè½½æ›´é«˜ã€ä»·æ ¼æ›´è´µï¼‰ï¼Œä¹Ÿå¯ä»¥æŒ‡ä»£ç”¨äºéƒ¨ç½²ç½‘ç«™çš„åº”ç”¨ã€‚æˆ‘ä»¬è¿™é‡Œè¯´çš„æœåŠ¡å™¨ï¼Œå…¶å®æ˜¯webæœåŠ¡å™¨ï¼Œæˆ–è€…åº”ç”¨æœåŠ¡å™¨ã€‚å®ƒæœ¬è´¨å°±æ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œä¸€ä¸ªåº”ç”¨ã€‚ä½œç”¨å°±æ˜¯å‘å¸ƒæˆ‘ä»¬çš„åº”ç”¨ï¼ˆå·¥ç¨‹ï¼‰ï¼Œè®©ç”¨æˆ·å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®æˆ‘ä»¬çš„åº”ç”¨ã€‚</p><p>å¸¸è§çš„åº”ç”¨æœåŠ¡å™¨ï¼Œè¯·çœ‹ä¸‹è¡¨ï¼š</p><table><thead><tr><th>æœåŠ¡å™¨åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>weblogic</td><td>å®ç°äº† JavaEE è§„èŒƒï¼Œé‡é‡çº§æœåŠ¡å™¨ï¼Œåˆç§°ä¸º JavaEE å®¹å™¨</td></tr><tr><td>websphereAS</td><td>å®ç°äº† JavaEE è§„èŒƒï¼Œé‡é‡çº§æœåŠ¡å™¨ã€‚</td></tr><tr><td>JBOSSAS</td><td>å®ç°äº† JavaEE è§„èŒƒï¼Œé‡é‡çº§æœåŠ¡å™¨ï¼Œå…è´¹</td></tr><tr><td>Tomcat</td><td>å®ç°äº† jsp/servlet è§„èŒƒï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§æœåŠ¡å™¨ï¼Œå¼€æºå…è´¹</td></tr></tbody></table><hr><h3 id="åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä»‹ç»" aria-hidden="true">#</a> åŸºæœ¬ä»‹ç»</h3><h4 id="windowså®‰è£…" tabindex="-1"><a class="header-anchor" href="#windowså®‰è£…" aria-hidden="true">#</a> Windowså®‰è£…</h4><p>ä¸‹è½½åœ°å€ï¼š<a href="http://tomcat.apache.org/" target="_blank" rel="noopener noreferrer">http://tomcat.apache.org/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ç›®å½•ç»“æ„è¯¦è§£ï¼š</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Tomcatç›®å½•ç»“æ„è¯¦è§£.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h4 id="linuxå®‰è£…" tabindex="-1"><a class="header-anchor" href="#linuxå®‰è£…" aria-hidden="true">#</a> Linuxå®‰è£…</h4><p>è§£å‹apache-tomcat-8.5.32.tar.gzã€‚</p><p>é˜²ç«å¢™è®¾ç½®</p><ul><li><p>æ–¹å¼1ï¼šservice iptables stop å…³é—­é˜²ç«å¢™(ä¸å»ºè®®); ç”¨åˆ°å“ªä¸€ä¸ªç«¯å£å·å°±æ”¾è¡Œå“ªä¸€ä¸ª(80,8080,3306...)</p></li><li><p>æ–¹å¼2ï¼šæ”¾è¡Œ8080 ç«¯å£</p><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶<code>cd /etc/sysconfig</code>--&gt;<code>vi iptables</code><br><code>-A INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT</code></li><li>é‡å¯åŠ è½½é˜²ç«å¢™æˆ–è€…é‡å¯é˜²ç«å¢™<br><code>service iptables reload</code> æˆ–è€…<code>service iptables restart</code></li></ul></li></ul><hr><h4 id="å¯åŠ¨åœæ­¢" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨åœæ­¢" aria-hidden="true">#</a> å¯åŠ¨åœæ­¢</h4><p>TomcatæœåŠ¡å™¨çš„å¯åŠ¨æ–‡ä»¶åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ç›®å½•binä¸­ï¼šstartup.batï¼Œ<a href="http://startup.sh" target="_blank" rel="noopener noreferrer">startup.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>TomcatæœåŠ¡å™¨çš„åœæ­¢æ–‡ä»¶ä¹Ÿåœ¨äºŒè¿›åˆ¶æ–‡ä»¶ç›®å½•binä¸­ï¼šshutdown.batï¼Œ<a href="http://shutdown.sh" target="_blank" rel="noopener noreferrer">shutdown.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ï¼ˆæ¨èç›´æ¥å…³é—­æ§åˆ¶å°ï¼‰</p><p>å…¶ä¸­<code>.bat</code>æ–‡ä»¶æ˜¯é’ˆå¯¹windowsç³»ç»Ÿçš„è¿è¡Œç¨‹åºï¼Œ<code>.sh</code>æ–‡ä»¶æ˜¯é’ˆå¯¹linuxç³»ç»Ÿçš„è¿è¡Œç¨‹åºã€‚</p><hr><h4 id="å¸¸è§é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é—®é¢˜" aria-hidden="true">#</a> å¸¸è§é—®é¢˜</h4><ul><li><p>å¯åŠ¨ä¸€é—ªè€Œè¿‡</p><p>æ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡ï¼Œé…ç½®ä¸Š JAVA_HOME ç¯å¢ƒå˜é‡ã€‚</p></li><li><p>Tomcat å¯åŠ¨åæ§åˆ¶å°è¾“å‡ºä¹±ç </p><p>æ‰“å¼€ <code>/conf/logging.properties</code>ï¼Œè®¾ç½® gbk <code>java.util.logging.ConsoleHandler.encoding = gbk</code></p></li><li><p>Address already in use : JVM_Bindï¼šç«¯å£è¢«å ç”¨ï¼Œæ‰¾åˆ°å ç”¨è¯¥ç«¯å£çš„åº”ç”¨</p><ul><li><p>è¿›ç¨‹ä¸é‡è¦ï¼šä½¿ç”¨cmdå‘½ä»¤ï¼šnetstat -a -o æŸ¥çœ‹ pid åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ç»“æŸå ç”¨ç«¯å£çš„è¿›ç¨‹</p></li><li><p>è¿›ç¨‹å¾ˆé‡è¦ï¼šä¿®æ”¹è‡ªå·±çš„ç«¯å£å·ã€‚ä¿®æ”¹çš„æ˜¯ Tomcat ç›®å½•ä¸‹<code>\conf\server.xml</code>ä¸­çš„é…ç½®ã€‚</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Tomcat-server.xmlç«¯å£é…ç½®.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li></ul></li></ul><hr><h4 id="ideaé›†æˆ" tabindex="-1"><a class="header-anchor" href="#ideaé›†æˆ" aria-hidden="true">#</a> IDEAé›†æˆ</h4><p>Run -&gt; Edit Configurations -&gt; Templates -&gt; Tomcat Server -&gt; Local</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Tomcat-IDEAé…ç½®Tomcat.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h3 id="å‘å¸ƒåº”ç”¨" tabindex="-1"><a class="header-anchor" href="#å‘å¸ƒåº”ç”¨" aria-hidden="true">#</a> å‘å¸ƒåº”ç”¨</h3><h4 id="è™šæ‹Ÿç›®å½•" tabindex="-1"><a class="header-anchor" href="#è™šæ‹Ÿç›®å½•" aria-hidden="true">#</a> è™šæ‹Ÿç›®å½•</h4><p>åœ¨ <code>server.xml</code> çš„ <code>&lt;Host&gt;</code> å…ƒç´ ä¸­åŠ ä¸€ä¸ª <code>&lt;Context path=&quot;&quot; docBase=&quot;&quot;/&gt;</code> å…ƒç´ </p><ul><li><code>path</code>ï¼šè®¿é—®èµ„æºURIï¼ŒURIåç§°å¯ä»¥éšä¾¿èµ·ï¼Œä½†æ˜¯å¿…é¡»åœ¨å‰é¢åŠ ä¸Šä¸€ä¸ª/</li><li><code>docBase</code>ï¼šèµ„æºæ‰€åœ¨çš„ç£ç›˜ç‰©ç†åœ°å€</li></ul><hr><h4 id="è™šæ‹Ÿä¸»æœº" tabindex="-1"><a class="header-anchor" href="#è™šæ‹Ÿä¸»æœº" aria-hidden="true">#</a> è™šæ‹Ÿä¸»æœº</h4><p>åœ¨<code>&lt;Engine&gt;</code>å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ª<code>&lt;Host name=&quot;&quot; appBase=&quot;&quot; unparkWARs=&quot;&quot; autoDeploy=&quot;&quot; /&gt;</code>ï¼Œå…¶ä¸­ï¼š</p><ul><li><code>name</code>ï¼šæŒ‡å®šä¸»æœºçš„åç§°</li><li><code>appBase</code>ï¼šå½“å‰ä¸»æœºçš„åº”ç”¨å‘å¸ƒç›®å½•</li><li><code>unparkWARs</code>ï¼šå¯åŠ¨æ—¶æ˜¯å¦è‡ªåŠ¨è§£å‹waråŒ…</li><li><code>autoDeploy</code>ï¼šæ˜¯å¦è‡ªåŠ¨å‘å¸ƒ</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Host</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.itcast.cn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">appBase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>D:\itcastapps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">unpackWARs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autoDeploy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Host</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.itheima.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">appBase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>D:\itheimaapps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">unpackWARs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autoDeploy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ideaéƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#ideaéƒ¨ç½²" aria-hidden="true">#</a> IDEAéƒ¨ç½²</h4><ul><li><p>æ–°å»ºå·¥ç¨‹<br><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Tomcat-IEDAæ–°å»ºå·¥ç¨‹.png" style="zoom:67%;"></p></li><li><p>å‘å¸ƒå·¥ç¨‹<br><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Tomcat-IDEAå‘å¸ƒå·¥ç¨‹.png" alt="" loading="lazy"></p></li><li><p>Run</p></li></ul><hr><h4 id="ideaå‘å¸ƒ" tabindex="-1"><a class="header-anchor" href="#ideaå‘å¸ƒ" aria-hidden="true">#</a> IDEAå‘å¸ƒ</h4><p>æŠŠèµ„æºç§»åŠ¨åˆ° Tomcat å·¥ç¨‹ä¸‹ web ç›®å½•ä¸­ï¼Œä¸¤ç§è®¿é—®æ–¹å¼</p><ul><li><p>ç›´æ¥è®¿é—®ï¼š<a href="http://localhost:8080/Tomcat/login/login.html" target="_blank" rel="noopener noreferrer">http://localhost:8080/Tomcat/login/login.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>åœ¨ web.xml ä¸­é…ç½®é»˜è®¤ä¸»é¡µ</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>/é»˜è®¤ä¸»é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="æ‰§è¡ŒåŸç†" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡ŒåŸç†" aria-hidden="true">#</a> æ‰§è¡ŒåŸç†</h3><h4 id="æ•´ä½“æ¶æ„" tabindex="-1"><a class="header-anchor" href="#æ•´ä½“æ¶æ„" aria-hidden="true">#</a> æ•´ä½“æ¶æ„</h4><p>Tomcat æ ¸å¿ƒç»„ä»¶æ¶æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Tomcat-æ ¸å¿ƒç»„ä»¶æ¶æ„å›¾.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç»„ä»¶ä»‹ç»ï¼š</p><ul><li>GlobalNamingResourcesï¼šå®ç° JNDIï¼ŒæŒ‡å®šä¸€äº›èµ„æºçš„é…ç½®ä¿¡æ¯</li><li>Serverï¼šTomcat æ˜¯ä¸€ä¸ª Servlet å®¹å™¨ï¼Œä¸€ä¸ª Tomcat å¯¹åº”ä¸€ä¸ª Serverï¼Œä¸€ä¸ª Server å¯ä»¥åŒ…å«å¤šä¸ª Service</li><li>Serviceï¼šæ ¸å¿ƒæœåŠ¡æ˜¯ Catalinaï¼Œç”¨æ¥å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œä¸€ä¸ª Service åŒ…å«å¤šä¸ª Connector å’Œä¸€ä¸ª Container</li><li>Connectorï¼šè¿æ¥å™¨ï¼Œè´Ÿè´£å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè§£æä¸åŒåè®®åŠ I/O æ–¹å¼</li><li>Executorï¼šçº¿ç¨‹æ± </li><li>Containerï¼šå®¹æ˜“åŒ…å« Engineï¼ŒHostï¼ŒContextï¼ŒWrapper ç­‰ç»„ä»¶</li><li>Engineï¼šæœåŠ¡äº¤ç»™å¼•æ“å¤„ç†è¯·æ±‚ï¼ŒContainer å®¹å™¨ä¸­é¡¶å±‚çš„å®¹å™¨å¯¹è±¡ï¼Œä¸€ä¸ª Engine å¯ä»¥åŒ…å«å¤šä¸ª Host ä¸»æœº</li><li>Hostï¼šEngine å®¹å™¨çš„å­å®¹å™¨ï¼Œä¸€ä¸ª Host å¯¹åº”ä¸€ä¸ªç½‘ç»œåŸŸåï¼Œä¸€ä¸ª Host åŒ…å«å¤šä¸ª Context</li><li>Contextï¼šHost å®¹å™¨çš„å­å®¹å™¨ï¼Œè¡¨ç¤ºä¸€ä¸ª Web åº”ç”¨</li><li>Wrapperï¼šTomcat ä¸­çš„æœ€å°å®¹å™¨å•å…ƒï¼Œè¡¨ç¤º Web åº”ç”¨ä¸­çš„ Servlet</li></ul><p>æ ¸å¿ƒç±»åº“ï¼š</p><ul><li>Coyoteï¼šTomcat è¿æ¥å™¨çš„åç§°ï¼Œå°è£…äº†åº•å±‚çš„ç½‘ç»œé€šä¿¡ï¼Œä¸º Catalina å®¹å™¨æä¾›äº†ç»Ÿä¸€çš„æ¥å£ï¼Œä½¿å®¹å™¨ä¸å…·ä½“çš„åè®®ä»¥åŠ I/O è§£è€¦</li><li>EndPointï¼šCoyote é€šä¿¡ç«¯ç‚¹ï¼Œå³é€šä¿¡ç›‘å¬çš„æ¥å£ï¼Œæ˜¯ Socket æ¥æ”¶å’Œå‘é€å¤„ç†å™¨ï¼Œæ˜¯å¯¹ä¼ è¾“å±‚çš„æŠ½è±¡ï¼Œç”¨æ¥å®ç° TCP/IP åè®®</li><li>Processor ï¼š Coyote åè®®å¤„ç†æ¥å£ï¼Œç”¨æ¥å®ç° HTTP åè®®ï¼ŒProcessor æ¥æ”¶æ¥è‡ª EndPoint çš„ Socketï¼Œè¯»å–å­—èŠ‚æµè§£ææˆ Tomcat çš„ Request å’Œ Response å¯¹è±¡ï¼Œå¹¶é€šè¿‡ Adapter å°†å…¶æäº¤åˆ°å®¹å™¨å¤„ç†ï¼ŒProcessor æ˜¯å¯¹åº”ç”¨å±‚åè®®çš„æŠ½è±¡</li><li>CoyoteAdapterï¼šé€‚é…å™¨ï¼Œè¿æ¥å™¨è°ƒç”¨ CoyoteAdapter çš„ sevice æ–¹æ³•ï¼Œä¼ å…¥çš„æ˜¯ TomcatRequest å¯¹è±¡ï¼ŒCoyoteAdapter è´Ÿè´£å°†TomcatRequest è½¬æˆ ServletRequestï¼Œå†è°ƒç”¨å®¹å™¨çš„ service æ–¹æ³•</li></ul><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.jianshu.com/p/7c9401b85704" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/7c9401b85704<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.yuque.com/yinhuidong/yu877c/ktq82e" target="_blank" rel="noopener noreferrer">https://www.yuque.com/yinhuidong/yu877c/ktq82e<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><hr><h4 id="å¯åŠ¨è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨è¿‡ç¨‹" aria-hidden="true">#</a> å¯åŠ¨è¿‡ç¨‹</h4><p>Tomcat çš„å¯åŠ¨å…¥å£æ˜¯ Bootstrap#main å‡½æ•°ï¼Œé¦–å…ˆé€šè¿‡è°ƒç”¨ <code>bootstrap.init()</code> åˆå§‹åŒ–ç›¸å…³ç»„ä»¶ï¼š</p><ul><li><code>initClassLoaders()</code>ï¼šåˆå§‹åŒ–ä¸‰ä¸ªç±»åŠ è½½å™¨ï¼ŒcommonLoader çš„çˆ¶ç±»åŠ è½½å™¨æ˜¯å¯åŠ¨ç±»åŠ è½½å™¨</li><li><code>Thread.currentThread().setContextClassLoader(catalinaLoader)</code>ï¼šè‡ªå®šä¹‰ç±»åŠ è½½å™¨åŠ è½½ Catalina ç±»ï¼Œ<strong>æ‰“ç ´åŒäº²å§”æ´¾</strong></li><li><code>Object startupInstance = startupClass.getConstructor().newInstance()</code>ï¼šåå°„åˆ›å»º Catalina å¯¹è±¡</li><li><code>method.invoke(startupInstance, paramValues)</code>ï¼šåå°„è°ƒç”¨æ–¹æ³•ï¼Œè®¾ç½®çˆ¶ç±»åŠ è½½å™¨æ˜¯ sharedLoader</li><li><code>catalinaDaemon = startupInstance</code>ï¼šå¼•ç”¨ Catalina å¯¹è±¡</li></ul><p><code>daemon.load(args)</code> æ–¹æ³•åå°„è°ƒç”¨ Catalina å¯¹è±¡çš„ load æ–¹æ³•ï¼Œå¯¹<strong>æœåŠ¡å™¨çš„ç»„ä»¶è¿›è¡Œåˆå§‹åŒ–</strong>ï¼Œå¹¶ç»‘å®šäº† ServerSocket çš„ç«¯å£ï¼š</p><ul><li><p><code>parseServerXml(true)</code>ï¼šè§£æ XML é…ç½®æ–‡ä»¶</p></li><li><p><code>getServer().init()</code>ï¼šæœåŠ¡å™¨æ‰§è¡Œåˆå§‹åŒ–ï¼Œé‡‡ç”¨è´£ä»»é“¾çš„æ‰§è¡Œæ–¹å¼</p><ul><li><p><code>LifecycleBase.init()</code>ï¼šç”Ÿå‘½å‘¨æœŸæ¥å£çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¼€å§‹é“¾å¼è°ƒç”¨</p></li><li><p><code>StandardServer.initInternal()</code>ï¼šServer çš„åˆå§‹åŒ–ï¼Œéå†æ‰€æœ‰çš„ Service è¿›è¡Œåˆå§‹åŒ–</p></li><li><p><code>StandardService.initInternal()</code>ï¼šService çš„åˆå§‹åŒ–ï¼Œå¯¹ Engineã€Executorã€listenerã€Connector è¿›è¡Œåˆå§‹åŒ–</p></li><li><p><code>StandardEngine.initInternal()</code>ï¼šEngine çš„åˆå§‹åŒ–</p><ul><li><code>getRealm()</code>ï¼šåˆ›å»ºä¸€ä¸ª Realm å¯¹è±¡</li><li><code>ContainerBase.initInternal()</code>ï¼šå®¹å™¨çš„åˆå§‹åŒ–ï¼Œè®¾ç½®å¤„ç†å®¹å™¨å†…ç»„ä»¶çš„å¯åŠ¨å’Œåœæ­¢äº‹ä»¶çš„çº¿ç¨‹æ± </li></ul></li><li><p><code>Connector.initInternal()</code>ï¼šConnector çš„åˆå§‹åŒ–</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Connector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token string">&quot;HTTP/1.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é»˜è®¤æ— å‚æ„é€ æ–¹æ³•ï¼Œä¼šåˆ›å»ºå‡º Http11NioProtocol çš„åè®®å¤„ç†å™¨</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>adapter = new CoyoteAdapter(this)</code>ï¼šå®ä¾‹åŒ– CoyoteAdapter å¯¹è±¡</p></li><li><p><code>protocolHandler.setAdapter(adapter)</code>ï¼šè®¾ç½®åˆ° ProtocolHandler åè®®å¤„ç†å™¨ä¸­</p></li><li><p><code>ProtocolHandler.init()</code>ï¼šåè®®å¤„ç†å™¨çš„åˆå§‹åŒ–ï¼Œåº•å±‚è°ƒç”¨ <code>AbstractProtocol#init</code> æ–¹æ³•</p><p><code>endpoint.init()</code>ï¼šç«¯å£çš„åˆå§‹åŒ–ï¼Œåº•å±‚è°ƒç”¨ <code>AbstractEndpoint#init</code> æ–¹æ³•</p><p><code>NioEndpoint.bind()</code>ï¼šç»‘å®šæ–¹æ³•</p><ul><li><code>initServerSocket()</code>ï¼š<strong>åˆå§‹åŒ– ServerSocket</strong>ï¼Œä»¥ NIO çš„æ–¹å¼ç›‘å¬ç«¯å£ <ul><li><code>serverSock = ServerSocketChannel.open()</code>ï¼š<strong>NIO çš„æ–¹å¼æ‰“å¼€é€šé“</strong></li><li><code>serverSock.bind(addr, getAcceptCount())</code>ï¼šé€šé“ç»‘å®šè¿æ¥ç«¯å£</li><li><code>serverSock.configureBlocking(true)</code>ï¼šåˆ‡æ¢ä¸ºé˜»å¡æ¨¡å¼ï¼ˆæ²¡æ‡‚ï¼Œä¸ºä»€ä¹ˆé˜»å¡ï¼‰</li></ul></li><li><code>initialiseSsl()</code>ï¼šåˆå§‹åŒ– SSL è¿æ¥</li><li><code>selectorPool.open(getName())</code>ï¼šæ‰“å¼€é€‰æ‹©å™¨ï¼Œç±»ä¼¼ NIO çš„å¤šè·¯å¤ç”¨å™¨</li></ul></li></ul></li></ul></li></ul><p>åˆå§‹åŒ–å®Œæ‰€æœ‰çš„ç»„ä»¶ï¼Œè°ƒç”¨ <code>daemon.start()</code> è¿›è¡Œ<strong>ç»„ä»¶çš„å¯åŠ¨</strong>ï¼Œåº•å±‚åå°„è°ƒç”¨ Catalina å¯¹è±¡çš„ start æ–¹æ³•ï¼š</p><ul><li><p><code>getServer().start()</code>ï¼šå¯åŠ¨ç»„ä»¶ï¼Œä¹Ÿæ˜¯è´£ä»»é“¾çš„æ¨¡å¼</p><ul><li><p><code>LifecycleBase.start()</code>ï¼šç”Ÿå‘½å‘¨æœŸæ¥å£çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¼€å§‹é“¾å¼è°ƒç”¨</p></li><li><p><code>StandardServer.startInternal()</code>ï¼šServer æœåŠ¡çš„å¯åŠ¨</p><ul><li><code>globalNamingResources.start()</code>ï¼šå¯åŠ¨ JNDI æœåŠ¡</li><li><code>for (Service service : services)</code>ï¼šéå†æ‰€æœ‰çš„ Service è¿›è¡Œå¯åŠ¨</li></ul></li><li><p><code>StandardService.startInternal()</code>ï¼šService çš„å¯åŠ¨ï¼Œå¯¹æ‰€æœ‰ Executorã€listenerã€Connector è¿›è¡Œå¯</p></li><li><p><code>StandardEngine.startInternal()</code>ï¼šå¯åŠ¨å¼•æ“ï¼Œéƒ¨ç½²é¡¹ç›®</p><ul><li><code>ContainerBase.startInternal()</code>ï¼šå®¹å™¨çš„å¯åŠ¨ <ul><li>å¯åŠ¨é›†ç¾¤ã€Realm ç»„ä»¶ï¼Œå¹¶ä¸”åˆ›å»ºå­å®¹å™¨ï¼Œæäº¤ç»™çº¿ç¨‹æ± </li><li><code>((Lifecycle) pipeline).start()</code>ï¼šéå†æ‰€æœ‰çš„ç®¡é“è¿›è¡Œå¯åŠ¨ <ul><li><code>Valve current = first</code>ï¼šè·å–ç¬¬ä¸€ä¸ªé˜€é—¨</li><li><code>((Lifecycle) current).start()</code>ï¼šå¯åŠ¨é˜€é—¨ï¼Œåº•å±‚ <code>ValveBase#startInternal</code> ä¸­è®¾ç½®å¯åŠ¨çš„çŠ¶æ€</li><li><code>current = current.getNext()</code>ï¼šè·å–ä¸‹ä¸€ä¸ªé˜€é—¨</li></ul></li></ul></li></ul></li><li><p><code>Connector.startInternal()</code>ï¼šConnector çš„åˆå§‹åŒ–</p><ul><li><p><code>protocolHandler.start()</code>ï¼šåè®®å¤„ç†å™¨çš„å¯åŠ¨</p><p><code>endpoint.start()</code>ï¼šç«¯ç‚¹å¯åŠ¨</p><p><code>NioEndpoint.startInternal()</code>ï¼šå¯åŠ¨ NIO çš„ç«¯ç‚¹</p><ul><li><code>createExecutor()</code>ï¼šåˆ›å»º Worker çº¿ç¨‹ç»„ï¼Œ10 ä¸ªçº¿ç¨‹ï¼Œç”¨æ¥è¿›è¡Œä»»åŠ¡å¤„ç†</li><li><code>initializeConnectionLatch()</code>ï¼šç”¨æ¥è¿›è¡Œè¿æ¥é™æµï¼Œ<strong>æœ€å¤§ 8*1024 æ¡è¿æ¥</strong></li><li><code>poller = new Poller()</code>ï¼š<strong>åˆ›å»º Poller å¯¹è±¡</strong>ï¼Œå¼€å¯äº†ä¸€ä¸ªå¤šè·¯å¤ç”¨å™¨ Selector</li><li><code>Thread pollerThread = new Thread(poller, getName() + &quot;-ClientPoller&quot;)</code>ï¼šåˆ›å»ºå¹¶å¯åŠ¨ Poller çº¿ç¨‹ï¼ŒPoller å®ç°äº† Runnable æ¥å£ï¼Œæ˜¯ä¸€ä¸ªä»»åŠ¡å¯¹è±¡ï¼Œ<strong>çº¿ç¨‹ start åè¿›å…¥ Poller#run æ–¹æ³•</strong></li><li><code>pollerThread.setDaemon(true)</code>ï¼šè®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹</li><li><code>startAcceptorThread()</code>ï¼šå¯åŠ¨æ¥æ”¶è€…çº¿ç¨‹ <ul><li><code>acceptor = new Acceptor&lt;&gt;(this)</code>ï¼š<strong>åˆ›å»º Acceptor å¯¹è±¡</strong></li><li><code>Thread t = new Thread(acceptor, threadName)</code>ï¼šåˆ›å»ºå¹¶å¯åŠ¨ Acceptor æ¥å—è€…çº¿ç¨‹</li></ul></li></ul></li></ul></li></ul></li></ul><hr><h4 id="å¤„ç†è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#å¤„ç†è¿‡ç¨‹" aria-hidden="true">#</a> å¤„ç†è¿‡ç¨‹</h4><ol><li>Acceptor ç›‘å¬å®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œæ¯ 50ms è°ƒç”¨ä¸€æ¬¡ <strong><code>serverSocket.accept</code></strong>ï¼Œè·å– Socket åæŠŠå°è£…æˆ NioSocketWrapperï¼ˆæ˜¯ SocketWrapperBase çš„å­ç±»ï¼‰ï¼Œå¹¶è®¾ç½®ä¸ºéé˜»å¡æ¨¡å¼ï¼ŒæŠŠ NioSocketWrapper å°è£…æˆ PollerEvent æ”¾å…¥åŒæ­¥é˜Ÿåˆ—ä¸­</li><li>Poller å¾ªç¯åˆ¤æ–­åŒæ­¥é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰å°±ç»ªçš„äº‹ä»¶ï¼Œå¦‚æœæœ‰åˆ™é€šè¿‡ <code>selector.selectedKeys()</code> è·å–å°±ç»ªäº‹ä»¶ï¼Œè·å– SocketChannel ä¸­æºå¸¦çš„ attachmentï¼ˆNioSocketWrapperï¼‰ï¼Œåœ¨ processKey æ–¹æ³•ä¸­æ ¹æ®äº‹ä»¶ç±»å‹è¿›è¡Œ processSocketï¼Œå°† Wrapper å¯¹è±¡å°è£…æˆ SocketProcessor å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªä»»åŠ¡å¯¹è±¡ï¼Œæäº¤åˆ° Worker çº¿ç¨‹æ± è¿›è¡Œæ‰§è¡Œ</li><li><code>SocketProcessorBase.run()</code> åŠ é”è°ƒç”¨ <code>SocketProcessor#doRun</code>ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä»åè®®å¤„ç†å™¨ ProtocolHandler ä¸­è·å– AbstractProtocolï¼Œç„¶å<strong>åˆ›å»º Http11Processor å¯¹è±¡å¤„ç†è¯·æ±‚</strong></li><li><code>Http11Processor#service</code> ä¸­è°ƒç”¨ <code>CoyoteAdapter#service</code> ï¼ŒæŠŠç”Ÿæˆçš„ Tomcat ä¸‹çš„ Request å’Œ Response å¯¹è±¡é€šè¿‡æ–¹æ³• postParseRequest åŒ¹é…åˆ°å¯¹åº”çš„ Servlet çš„è¯·æ±‚å“åº”ï¼Œå°†è¯·æ±‚ä¼ é€’åˆ°å¯¹åº”çš„ Engine å®¹å™¨ä¸­è°ƒç”¨ Pipelineï¼Œç®¡é“ä¸­åŒ…å«è‹¥å¹²ä¸ª Valveï¼Œæ‰§è¡Œå®Œæ‰€æœ‰çš„ Valve æœ€åæ‰§è¡Œ StandardEngineValveï¼Œç»§ç»­è°ƒç”¨ Host å®¹å™¨çš„ Pipelineï¼Œæ‰§è¡Œ Host çš„ Valveï¼Œå†ä¼ é€’ç»™ Context çš„ Pipelineï¼Œæœ€åä¼ é€’åˆ° Wrapper å®¹å™¨</li><li><code>StandardWrapperValve#invoke</code> ä¸­åˆ›å»ºäº† Servlet å¯¹è±¡å¹¶æ‰§è¡Œåˆå§‹åŒ–ï¼Œå¹¶ä¸ºå½“å‰è¯·æ±‚å‡†å¤‡ä¸€ä¸ª FilterChain è¿‡æ»¤å™¨é“¾æ‰§è¡Œ doFilter æ–¹æ³•ï¼Œ<code>ApplicationFilterChain#doFilter</code> æ˜¯ä¸€ä¸ª<strong>è´£ä»»é“¾çš„é©±åŠ¨æ–¹æ³•</strong>ï¼Œé€šè¿‡è°ƒç”¨ internalDoFilter æ¥è·å–è¿‡æ»¤å™¨é“¾çš„ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨æ‰§è¡Œ doFilterï¼Œæ‰§è¡Œå®Œæ‰€æœ‰çš„è¿‡æ»¤å™¨åæ‰§è¡Œ <code>servlet.service</code> çš„æ–¹æ³•</li><li>æœ€åè°ƒç”¨ HttpServlet#service()ï¼Œæ ¹æ®è¯·æ±‚çš„æ–¹æ³•æ¥è°ƒç”¨ doGetã€doPost ç­‰ï¼Œæ‰§è¡Œåˆ°è‡ªå®šä¹‰çš„ä¸šåŠ¡æ–¹æ³•</li></ol><hr><h2 id="servlet-1" tabindex="-1"><a class="header-anchor" href="#servlet-1" aria-hidden="true">#</a> Servlet</h2><h3 id="socket" tabindex="-1"><a class="header-anchor" href="#socket" aria-hidden="true">#</a> Socket</h3><p>Socket æ˜¯ä½¿ç”¨ TCP/IP æˆ–è€… UDP åè®®åœ¨æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œä¼ è¾“çš„æŠ€æœ¯ï¼Œæ˜¯ç½‘ç»œç¼–ç¨‹çš„åŸºç¡€</p><ul><li><strong>Servlet æ˜¯ä½¿ç”¨ HTTP åè®®åœ¨æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ä¹‹é—´é€šä¿¡çš„æŠ€æœ¯ï¼Œæ˜¯ Socket çš„ä¸€ç§åº”ç”¨</strong></li><li><strong>HTTP åè®®ï¼šæ˜¯åœ¨ TCP/IP åè®®ä¹‹ä¸Šè¿›ä¸€æ­¥å°è£…çš„ä¸€å±‚åè®®ï¼Œå…³æ³¨æ•°æ®ä¼ è¾“çš„æ ¼å¼æ˜¯å¦è§„èŒƒï¼Œåº•å±‚çš„æ•°æ®ä¼ è¾“è¿˜æ˜¯è¿ç”¨äº† Socket å’Œ TCP/IP</strong></li></ul><p>Tomcat å’Œ Servlet çš„å…³ç³»ï¼šServlet çš„è¿è¡Œç¯å¢ƒå«åš Web å®¹å™¨æˆ– Servlet æœåŠ¡å™¨ï¼Œ<strong>Tomcat æ˜¯ Web åº”ç”¨æœåŠ¡å™¨ï¼Œæ˜¯ä¸€ä¸ª Servlet/JSP å®¹å™¨</strong>ã€‚Tomcat ä½œä¸º Servlet å®¹å™¨ï¼Œè´Ÿè´£å¤„ç†å®¢æˆ·è¯·æ±‚ï¼ŒæŠŠè¯·æ±‚ä¼ é€ç»™ Servletï¼Œå¹¶å°† Servlet çš„å“åº”ä¼ é€å›ç»™å®¢æˆ·ã€‚è€Œ Servlet æ˜¯ä¸€ç§è¿è¡Œåœ¨æ”¯æŒ Java è¯­è¨€çš„æœåŠ¡å™¨ä¸Šçš„ç»„ä»¶ï¼ŒServlet ç”¨æ¥æ‰©å±• Java Web æœåŠ¡å™¨åŠŸèƒ½ï¼Œæä¾›éå¸¸å®‰å…¨çš„ã€å¯ç§»æ¤çš„ã€æ˜“äºä½¿ç”¨çš„ CGI æ›¿ä»£å“<br><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Tomcatä¸Servletçš„å…³ç³».png" alt="" loading="lazy"></p><hr><h3 id="åŸºæœ¬ä»‹ç»-1" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä»‹ç»-1" aria-hidden="true">#</a> åŸºæœ¬ä»‹ç»</h3><h4 id="servletç±»" tabindex="-1"><a class="header-anchor" href="#servletç±»" aria-hidden="true">#</a> Servletç±»</h4><p>Servletæ˜¯SUNå…¬å¸æä¾›çš„ä¸€å¥—è§„èŒƒï¼Œåç§°å°±å«Servletè§„èŒƒï¼Œå®ƒä¹Ÿæ˜¯JavaEEè§„èŒƒä¹‹ä¸€ã€‚é€šè¿‡APIæ¥ä½¿ç”¨Servletã€‚</p><ol><li><p>Servletæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨webæœåŠ¡ç«¯çš„javaå°ç¨‹åºï¼Œç”¨äºæ¥æ”¶å’Œå“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚ä¸€ä¸ªæœåŠ¡å™¨åŒ…å«å¤šä¸ªServlet</p></li><li><p>é€šè¿‡å®ç°Servletæ¥å£ï¼Œç»§æ‰¿GenericServletæˆ–è€…HttpServletï¼Œå®ç°ServletåŠŸèƒ½</p></li><li><p>æ¯æ¬¡è¯·æ±‚éƒ½ä¼šæ‰§è¡Œserviceæ–¹æ³•ï¼Œåœ¨serviceæ–¹æ³•ä¸­è¿˜æœ‰å‚æ•°ServletRequestå’ŒServletResponse</p></li><li><p>æ”¯æŒé…ç½®ç›¸å…³åŠŸèƒ½</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Servletç±»å…³ç³»æ€»è§†å›¾.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li></ol><hr><h4 id="æ‰§è¡Œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œæµç¨‹" aria-hidden="true">#</a> æ‰§è¡Œæµç¨‹</h4><p>åˆ›å»º Web å·¥ç¨‹ â†’ ç¼–å†™æ™®é€šç±»ç»§æ‰¿ Servlet ç›¸å…³ç±» â†’ é‡å†™æ–¹æ³•</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Servletå…¥é—¨æ¡ˆä¾‹æ‰§è¡Œ.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Servletæ‰§è¡Œè¿‡ç¨‹åˆ†æï¼š</p><p>é€šè¿‡æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚é¦–å…ˆåˆ°è¾¾TomcatæœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨è§£æè¯·æ±‚URLï¼Œç„¶ååœ¨éƒ¨ç½²çš„åº”ç”¨åˆ—è¡¨ä¸­æ‰¾åˆ°åº”ç”¨ã€‚ç„¶åæ‰¾åˆ°web.xmlé…ç½®æ–‡ä»¶ï¼Œåœ¨web.xmlä¸­æ‰¾åˆ°FirstServletçš„é…ç½®ï¼ˆ<code>&lt;url-pattern&gt;/&lt;url-pattern&gt;</code>ï¼‰ï¼Œæ‰¾åˆ°åæ‰§è¡Œserviceæ–¹æ³•ï¼Œæœ€åç”±FirstServletå“åº”å®¢æˆ·æµè§ˆå™¨ã€‚æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Servletæ‰§è¡Œè¿‡ç¨‹å›¾.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h4 id="å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å®ç°æ–¹å¼" aria-hidden="true">#</a> å®ç°æ–¹å¼</h4><p>å®ç° Servlet åŠŸèƒ½æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p><ul><li><p>ç¬¬ä¸€ç§ï¼šå®ç° Servlet æ¥å£ï¼Œæ¥å£ä¸­çš„æ–¹æ³•å¿…é¡»å…¨éƒ¨å®ç°ã€‚<br> ä½¿ç”¨æ­¤ç§æ–¹å¼ï¼Œè¡¨ç¤ºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•åœ¨éœ€æ±‚æ–¹é¢éƒ½æœ‰é‡å†™çš„å¿…è¦ã€‚æ­¤ç§æ–¹å¼æ”¯æŒæœ€å¤§ç¨‹åº¦çš„è‡ªå®šä¹‰ã€‚</p></li><li><p>ç¬¬äºŒç§ï¼šç»§æ‰¿ GenericServletï¼Œservice æ–¹æ³•å¿…é¡»é‡å†™ï¼Œå…¶ä»–æ–¹å¯æ ¹æ®éœ€æ±‚ï¼Œé€‰æ‹©æ€§é‡å†™ã€‚<br> ä½¿ç”¨æ­¤ç§æ–¹å¼ï¼Œè¡¨ç¤ºåªåœ¨æ¥æ”¶å’Œå“åº”å®¢æˆ·ç«¯è¯·æ±‚è¿™æ–¹é¢æœ‰é‡å†™çš„éœ€æ±‚ï¼Œè€Œå…¶ä»–æ–¹æ³•å¯æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æ€§é‡å†™ï¼Œä½¿æˆ‘ä»¬çš„å¼€å‘Servletå˜å¾—ç®€å•ã€‚ä½†æ˜¯ï¼Œæ­¤ç§æ–¹å¼æ˜¯å’Œ HTTP åè®®æ— å…³çš„ã€‚</p></li><li><p>ç¬¬ä¸‰ç§ï¼šç»§æ‰¿ HttpServletï¼Œå®ƒæ˜¯ javax.servlet.http åŒ…ä¸‹çš„ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ˜¯ GenericServlet çš„å­ç±»ã€‚é€‰æ‹©ç»§æ‰¿ HttpServlet æ—¶ï¼Œ<strong>éœ€è¦é‡å†™ doGet å’Œ doPost æ–¹æ³•</strong>ï¼Œæ¥æ¥æ”¶ get æ–¹å¼å’Œ post æ–¹å¼çš„è¯·æ±‚ï¼Œä¸è¦è¦†ç›– service æ–¹æ³•ã€‚ä½¿ç”¨æ­¤ç§æ–¹å¼ï¼Œè¡¨ç¤ºæˆ‘ä»¬çš„è¯·æ±‚å’Œå“åº”éœ€è¦å’Œ HTTP åè®®ç›¸å…³ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡ HTTP åè®®æ¥è®¿é—®ã€‚æ¯æ¬¡è¯·æ±‚å’Œå“åº”éƒ½ç¬¦åˆ HTTP åè®®çš„è§„èŒƒã€‚è¯·æ±‚çš„æ–¹å¼å°±æ˜¯ HTTP åè®®æ‰€æ”¯æŒçš„æ–¹å¼ï¼ˆGET POST PUT DELETE TRACE OPTIONS HEAD )ã€‚</p></li></ul><hr><h3 id="ç›¸å…³é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³é—®é¢˜" aria-hidden="true">#</a> ç›¸å…³é—®é¢˜</h3><h4 id="å¼‚æ­¥å¤„ç†" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥å¤„ç†" aria-hidden="true">#</a> å¼‚æ­¥å¤„ç†</h4><p>Servlet 3.0 ä¸­çš„å¼‚æ­¥å¤„ç†æŒ‡çš„æ˜¯å…è®¸Servleté‡æ–°å‘èµ·ä¸€æ¡æ–°çº¿ç¨‹å»è°ƒç”¨ è€—æ—¶ä¸šåŠ¡æ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ç­‰å¾…</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Servlet3.0çš„å¼‚æ­¥å¤„ç†.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h4 id="ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> ç”Ÿå‘½å‘¨æœŸ</h4><p>servletä»åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹ï¼š</p><ul><li><p>å‡ºç”Ÿï¼šï¼ˆåˆå§‹åŒ–ï¼‰è¯·æ±‚ç¬¬ä¸€æ¬¡åˆ°è¾¾ Servlet æ—¶ï¼Œåˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”åˆå§‹åŒ–æˆåŠŸã€‚Only one time</p></li><li><p>æ´»ç€ï¼šï¼ˆæœåŠ¡ï¼‰æœåŠ¡å™¨æä¾›æœåŠ¡çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œè¯¥å¯¹è±¡ä¸€ç›´å­˜åœ¨ï¼Œæ¯æ¬¡åªæ˜¯æ‰§è¡Œ service æ–¹æ³•</p></li><li><p>æ­»äº¡ï¼šï¼ˆé”€æ¯ï¼‰å½“æœåŠ¡åœæ­¢æ—¶ï¼Œæˆ–è€…æœåŠ¡å™¨å®•æœºæ—¶ï¼Œå¯¹è±¡åˆ é™¤ï¼Œ</p></li></ul><p>serrvletç”Ÿå‘½å‘¨æœŸæ–¹æ³•:<br><code>init(ServletConfig config)</code> â†’ <code>service(ServletRequest req, ServletResponse res)</code> â†’ <code>destroy()</code></p><p>é»˜è®¤æƒ…å†µä¸‹, æœ‰äº†ç¬¬ä¸€æ¬¡è¯·æ±‚, ä¼šè°ƒç”¨ init() æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ã€è°ƒç”¨ä¸€æ¬¡ã€‘ï¼Œä»»ä½•ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½ä¼šè°ƒç”¨ service() æ–¹æ³•å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨æ­£å¸¸å…³é—­æˆ–è€…é¡¹ç›®ä»æœåŠ¡å™¨ç§»é™¤, è°ƒç”¨ destory() æ–¹æ³•è¿›è¡Œé”€æ¯ã€è°ƒç”¨ä¸€æ¬¡ã€‘</p><p><strong>æ‰©å±•</strong>ï¼šservlet æ˜¯å•ä¾‹å¤šçº¿ç¨‹çš„ï¼Œå°½é‡ä¸è¦åœ¨ servlet é‡Œé¢ä½¿ç”¨å…¨å±€(æˆå‘˜)å˜é‡ï¼Œå¯èƒ½ä¼šå¯¼è‡´çº¿ç¨‹ä¸å®‰å…¨</p><ul><li>å•ä¾‹ï¼šServlet å¯¹è±¡åªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œé”€æ¯ä¸€æ¬¡ï¼ŒServlet å¯¹è±¡åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚</li><li>å¤šçº¿ç¨‹ï¼šæœåŠ¡å™¨ä¼šé’ˆå¯¹æ¯æ¬¡è¯·æ±‚, å¼€å¯ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ service() æ–¹æ³•å¤„ç†è¿™ä¸ªè¯·æ±‚</li></ul><hr><h4 id="çº¿ç¨‹å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#çº¿ç¨‹å®‰å…¨" aria-hidden="true">#</a> çº¿ç¨‹å®‰å…¨</h4><p>Servletè¿ç”¨äº†å•ä¾‹æ¨¡å¼ï¼Œæ•´ä¸ªåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦åˆ†æè¿™ä¸ªå”¯ä¸€çš„å®ä¾‹ä¸­çš„ç±»æˆå‘˜æ˜¯å¦çº¿ç¨‹å®‰å…¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    <span class="token comment">//1.å®šä¹‰ç”¨æˆ·åæˆå‘˜å˜é‡</span>
    <span class="token comment">//private String username = null;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">//synchronized (this) {</span>
            <span class="token comment">//2.è·å–ç”¨æˆ·å</span>
            username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//3.è·å–è¾“å‡ºæµå¯¹è±¡</span>
            <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//4.å“åº”ç»™å®¢æˆ·ç«¯æµè§ˆå™¨</span>
            pw<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Welcome:&quot;</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//5.å…³æµ</span>
            pw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯åŠ¨ä¸¤ä¸ªæµè§ˆå™¨ï¼Œè¾“å…¥ä¸åŒçš„å‚æ•°(<a href="http://localhost:8080/ServletDemo/username=aaa" target="_blank" rel="noopener noreferrer">http://localhost:8080/ServletDemo/username=aaa<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æˆ–è€…bbb)ï¼Œè®¿é—®ä¹‹åå‘ç°è¾“å‡ºçš„ç»“æœéƒ½æ˜¯ä¸€æ ·ï¼Œæ‰€ä»¥å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><p>åœ¨Servletä¸­å®šä¹‰äº†ç±»æˆå‘˜ä¹‹åï¼Œå¤šä¸ªæµè§ˆå™¨éƒ½ä¼šå…±äº«ç±»æˆå‘˜çš„æ•°æ®ï¼Œå…¶ä¸­ä»»ä½•ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æ•°æ®ï¼Œéƒ½ä¼šå½±å“å…¶ä»–çº¿ç¨‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºServletå®ƒä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å› ä¸ºServletæ˜¯å•ä¾‹ï¼Œå•ä¾‹å¯¹è±¡çš„ç±»æˆå‘˜åªä¼šéšç±»å®ä¾‹åŒ–æ—¶åˆå§‹åŒ–ä¸€æ¬¡ï¼Œä¹‹åçš„æ“ä½œéƒ½æ˜¯æ”¹å˜ï¼Œè€Œä¸ä¼šé‡æ–°åˆå§‹åŒ–ã€‚</p><p>è§£å†³åŠæ³•ï¼šå¦‚æœç±»æˆå‘˜æ˜¯å…±ç”¨çš„ï¼Œåªåœ¨åˆå§‹åŒ–æ—¶èµ‹å€¼ï¼Œå…¶ä½™æ—¶é—´éƒ½æ˜¯è·å–ã€‚æˆ–è€…åŠ é”synchronized</p><hr><h4 id="æ˜ å°„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#æ˜ å°„æ–¹å¼" aria-hidden="true">#</a> æ˜ å°„æ–¹å¼</h4><p>Servletæ”¯æŒä¸‰ç§æ˜ å°„æ–¹å¼ï¼Œä¸‰ç§æ˜ å°„æ–¹å¼çš„ä¼˜å…ˆçº§ä¸ºï¼šç¬¬ä¸€ç§&gt;ç¬¬äºŒç§&gt;ç¬¬ä¸‰ç§ã€‚</p><ol><li><p>å…·ä½“åç§°æ–¹å¼<br> è¿™ç§æ–¹å¼ï¼Œåªæœ‰å’Œæ˜ å°„é…ç½®ä¸€æ¨¡ä¸€æ ·æ—¶ï¼ŒServletæ‰ä¼šæ¥æ”¶å’Œå“åº”æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚<br> è®¿é—®URLï¼š<a href="http://localhost:8080/servlet/servletDemo" target="_blank" rel="noopener noreferrer">http://localhost:8080/servlet/servletDemo<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.itheima.servlet.ServletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/servletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>/å¼€å¤´+é€šé…ç¬¦çš„æ–¹å¼<br> è¿™ç§æ–¹å¼ï¼Œåªè¦ç¬¦åˆç›®å½•ç»“æ„å³å¯ï¼Œä¸ç”¨è€ƒè™‘ç»“å°¾æ˜¯ä»€ä¹ˆ<br> è®¿é—®URLï¼š<a href="http://localhost:8080/servlet/" target="_blank" rel="noopener noreferrer">http://localhost:8080/servlet/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> + ä»»ä½•å­—ç¬¦</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.itheima.servlet.ServletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/servlet/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>é€šé…ç¬¦+å›ºå®šæ ¼å¼ç»“å°¾<br> è¿™ç§æ–¹å¼ï¼Œåªè¦ç¬¦åˆå›ºå®šç»“å°¾æ ¼å¼å³å¯ï¼Œå…¶å‰é¢çš„è®¿é—®URIæ— é¡»å…³å¿ƒï¼ˆæ³¨æ„åè®®ï¼Œä¸»æœºå’Œç«¯å£å¿…é¡»æ­£ç¡®ï¼‰<br> è®¿é—®URLï¼š<a href="http://localhost:8080/%E4%BB%BB%E4%BD%95%E5%AD%97%E7%AC%A6%E4%BB%BB%E4%BD%95%E7%9B%AE%E5%BD%95" target="_blank" rel="noopener noreferrer">http://localhost:8080/ä»»ä½•å­—ç¬¦ä»»ä½•ç›®å½•<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> + .do (<a href="http://localhost:8080/seazean/i.do" target="_blank" rel="noopener noreferrer">http://localhost:8080/seazean/i.do<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo05<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.itheima.servlet.ServletDemo05<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo05<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.do<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h4 id="å¤šè·¯å¾„æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#å¤šè·¯å¾„æ˜ å°„" aria-hidden="true">#</a> å¤šè·¯å¾„æ˜ å°„</h4><p>ä¸€ä¸ªServletçš„å¤šç§è·¯å¾„é…ç½®çš„æ”¯æŒã€‚ç»™ä¸€ä¸ªServleté…ç½®å¤šä¸ªè®¿é—®æ˜ å°„ï¼Œä»è€Œæ ¹æ®ä¸åŒè¯·æ±‚çš„URLå®ç°ä¸åŒçš„åŠŸèƒ½</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">/*å¤šè·¯æ˜ å°„*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo06</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> money <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–è®¿é—®çš„èµ„æºè·¯å¾„</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;/vip&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//å¦‚æœè®¿é—®èµ„æºè·¯å¾„æ˜¯/vip å•†å“ä»·æ ¼ä¸º9æŠ˜</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å•†å“åŸä»·ä¸ºï¼š&quot;</span> <span class="token operator">+</span> money <span class="token operator">+</span> <span class="token string">&quot;ã€‚ä¼˜æƒ åæ˜¯ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>money<span class="token operator">*</span><span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;/svip&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//å¦‚æœè®¿é—®èµ„æºè·¯å¾„æ˜¯/svip å•†å“ä»·æ ¼ä¸º5æŠ˜</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å•†å“åŸä»·ä¸ºï¼š&quot;</span> <span class="token operator">+</span> money <span class="token operator">+</span> <span class="token string">&quot;ã€‚ä¼˜æƒ åæ˜¯ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>money<span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//å¦‚æœè®¿é—®èµ„æºè·¯å¾„æ˜¯å…¶ä»–  å•†å“ä»·æ ¼åŸæ ·æ˜¾ç¤º</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å•†å“ä»·æ ¼ä¸ºï¼š&quot;</span> <span class="token operator">+</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--æ¼”ç¤ºServletå¤šè·¯å¾„æ˜ å°„--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>vip<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.itheima.servlet.ServletDemo06<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>vip<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/vip<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>svip<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.itheima.servlet.ServletDemo06<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>svip<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/svip<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>other<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.itheima.servlet.ServletDemo06<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>other<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/other<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·å°±å¯ä»¥æ ¹æ®ä¸åŒçš„ç½‘é¡µæ˜¾ç¤ºä¸åŒçš„æ•°æ®ã€‚</p><hr><h4 id="å¯åŠ¨æ—¶åˆ›å»º" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨æ—¶åˆ›å»º" aria-hidden="true">#</a> å¯åŠ¨æ—¶åˆ›å»º</h4><ul><li>ç¬¬ä¸€ç§ï¼šåº”ç”¨åŠ è½½æ—¶åˆ›å»ºServletï¼Œå®ƒçš„ä¼˜åŠ¿æ˜¯åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œå°±æŠŠéœ€è¦çš„å¯¹è±¡éƒ½åˆ›å»ºå®Œæˆäº†ï¼Œä»è€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å‡å°‘äº†åˆ›å»ºå¯¹è±¡çš„æ—¶é—´ï¼Œæé«˜äº†é¦–æ¬¡æ‰§è¡Œçš„æ•ˆç‡ã€‚å®ƒçš„å¼Šç«¯æ˜¯åœ¨åº”ç”¨åŠ è½½æ—¶å°±åˆ›å»ºäº†Servletå¯¹è±¡ï¼Œå› æ­¤ï¼Œå¯¼è‡´å†…å­˜ä¸­å……æ–¥ç€å¤§é‡ç”¨ä¸ä¸Šçš„Servletå¯¹è±¡ï¼Œé€ æˆäº†å†…å­˜çš„æµªè´¹ã€‚</li><li>ç¬¬äºŒç§ï¼šè¯·æ±‚ç¬¬ä¸€æ¬¡è®¿é—®æ˜¯åˆ›å»ºServletï¼Œå®ƒçš„ä¼˜åŠ¿å°±æ˜¯å‡å°‘äº†å¯¹æœåŠ¡å™¨å†…å­˜çš„æµªè´¹ï¼Œå› ä¸ºä¸€ç›´æ²¡æœ‰è¢«è®¿é—®è¿‡çš„Servletå¯¹è±¡éƒ½æ²¡æœ‰åˆ›å»ºï¼Œå› æ­¤ä¹Ÿæé«˜äº†æœåŠ¡å™¨çš„å¯åŠ¨æ—¶é—´ã€‚è€Œå®ƒçš„å¼Šç«¯å°±æ˜¯è¦åœ¨åº”ç”¨åŠ è½½æ—¶å°±åšçš„åˆå§‹åŒ–æ“ä½œï¼Œå®ƒéƒ½æ²¡æ³•å®Œæˆï¼Œä»è€Œè¦è€ƒè™‘å…¶ä»–æŠ€æœ¯å®ç°ã€‚</li></ul><p>åœ¨web.xmlä¸­æ˜¯æ”¯æŒå¯¹Servletçš„åˆ›å»ºæ—¶æœºè¿›è¡Œé…ç½®çš„ï¼Œé…ç½®çš„æ–¹å¼å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--é…ç½®ServletDemo3--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.itheima.web.servlet.ServletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--é…ç½®Servletçš„åˆ›å»ºé¡ºåºï¼Œå½“é…ç½®æ­¤æ ‡ç­¾æ—¶ï¼ŒServletå°±ä¼šæ”¹ä¸ºåº”ç”¨åŠ è½½æ—¶åˆ›å»º
        é…ç½®é¡¹çš„å–å€¼åªèƒ½æ˜¯æ­£æ•´æ•°ï¼ˆåŒ…æ‹¬0ï¼‰ï¼Œæ•°å€¼è¶Šå°ï¼Œè¡¨æ˜åˆ›å»ºçš„ä¼˜å…ˆçº§è¶Šé«˜--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/servletDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é»˜è®¤servlet" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤servlet" aria-hidden="true">#</a> é»˜è®¤Servlet</h4><p>é»˜è®¤ Servlet æ˜¯ç”±æœåŠ¡å™¨æä¾›çš„ä¸€ä¸ª Servletï¼Œå®ƒé…ç½®åœ¨ Tomcat çš„ conf ç›®å½•ä¸‹çš„ web.xml ä¸­ã€‚</p><p>å®ƒçš„æ˜ å°„è·¯å¾„æ˜¯<code>&lt;url-pattern&gt;/&lt;url-pattern&gt;</code>ï¼Œæˆ‘ä»¬åœ¨å‘é€è¯·æ±‚æ—¶ï¼Œé¦–å…ˆä¼šåœ¨æˆ‘ä»¬åº”ç”¨ä¸­çš„ web.xml ä¸­æŸ¥æ‰¾æ˜ å°„é…ç½®ã€‚ä½†æ˜¯å½“æ‰¾ä¸åˆ°å¯¹åº”çš„ Servlet è·¯å¾„æ—¶ï¼Œå°±å»æ‰¾é»˜è®¤çš„ Servletï¼Œç”±é»˜è®¤ Servlet å¤„ç†ã€‚</p><hr><h3 id="servletconfig" tabindex="-1"><a class="header-anchor" href="#servletconfig" aria-hidden="true">#</a> ServletConfig</h3><p>ServletConfig æ˜¯ Servlet çš„é…ç½®å‚æ•°å¯¹è±¡ã€‚åœ¨ Servlet è§„èŒƒä¸­ï¼Œå…è®¸ä¸ºæ¯ä¸ª Servlet éƒ½æä¾›ä¸€äº›åˆå§‹åŒ–é…ç½®ï¼Œæ¯ä¸ª Servlet éƒ½æœ‰è‡ªå·±çš„ServletConfigï¼Œä½œç”¨æ˜¯<strong>åœ¨ Servlet åˆå§‹åŒ–æœŸé—´ï¼ŒæŠŠä¸€äº›é…ç½®ä¿¡æ¯ä¼ é€’ç»™ Servlet</strong></p><p>ç”Ÿå‘½å‘¨æœŸï¼šåœ¨åˆå§‹åŒ–é˜¶æ®µè¯»å–äº† web.xml ä¸­ä¸º Servlet å‡†å¤‡çš„åˆå§‹åŒ–é…ç½®ï¼Œå¹¶æŠŠé…ç½®ä¿¡æ¯ä¼ é€’ç»™ Servletï¼Œæ‰€ä»¥ç”Ÿå‘½å‘¨æœŸä¸ Servlet ç›¸åŒã€‚å¦‚æœ Servlet é…ç½®äº† <code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code>ï¼ŒServletConfig ä¹Ÿä¼šåœ¨åº”ç”¨åŠ è½½æ—¶åˆ›å»ºã€‚</p><p>è·å– ServletConfigï¼šåœ¨ init æ–¹æ³•ä¸­ä¸º ServletConfig èµ‹å€¼</p><p>å¸¸ç”¨APIï¼š</p><ul><li><code>String getInitParameter(String name)</code>ï¼šæ ¹æ®åˆå§‹åŒ–å‚æ•°çš„åç§°è·å–å‚æ•°çš„å€¼ï¼Œæ ¹æ®<code>&lt;param-name&gt;</code>ï¼Œè·å–<code>&lt;param-value&gt;</code></li><li><code>Enumeration&lt;String&gt; getInitParameterNames()</code> : è·å–æ‰€æœ‰åˆå§‹åŒ–å‚æ•°åç§°çš„æšä¸¾(éå†æ–¹å¼çœ‹ä¾‹å­)</li><li><code>ServletContext getServletContext()</code> : è·å–<strong>ServletContext</strong>å¯¹è±¡</li><li><code>String getServletName()</code> : è·å–Servletåç§°</li></ul><p>ä»£ç å®ç°ï¼š</p><ul><li><p>web.xml é…ç½®ï¼š<br> åˆå§‹åŒ–å‚æ•°ä½¿ç”¨ <code>&lt;servlet&gt;</code> æ ‡ç­¾ä¸­çš„ <code>&lt;init-param&gt; </code>æ ‡ç­¾æ¥é…ç½®ï¼Œå¹¶ä¸”æ¯ä¸ª Servlet éƒ½æ”¯æŒæœ‰å¤šä¸ªåˆå§‹åŒ–å‚æ•°ï¼Œå¹¶ä¸”åˆå§‹åŒ–å‚æ•°éƒ½æ˜¯ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜åœ¨çš„</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--é…ç½®ServletDemo8--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.itheima.web.servlet.ServletDemo8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--é…ç½®åˆå§‹åŒ–å‚æ•°--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--ç”¨äºè·å–åˆå§‹åŒ–å‚æ•°çš„key--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--åˆå§‹åŒ–å‚æ•°çš„å€¼--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--æ¯ä¸ªåˆå§‹åŒ–å‚æ•°éƒ½éœ€è¦ç”¨åˆ°init-paramæ ‡ç­¾--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>servletInfo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>This is Demo8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>servletDemo8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/servletDemo8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//æ¼”ç¤ºServletçš„åˆå§‹åŒ–å‚æ•°å¯¹è±¡</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo8</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
	<span class="token comment">//å®šä¹‰Servleté…ç½®å¯¹è±¡ServletConfig</span>
    <span class="token keyword">private</span> <span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">;</span>

    <span class="token comment">//åœ¨åˆå§‹åŒ–æ—¶ä¸ºServletConfigèµ‹å€¼</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>servletConfig <span class="token operator">=</span> config<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
       * doGetæ–¹æ³•è¾“å‡ºä¸€å¥è¯
       */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.è¾“å‡ºServletConfig</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>servletConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.è·å–Servletçš„åç§°</span>
        <span class="token class-name">String</span> servletName<span class="token operator">=</span> servletConfig<span class="token punctuation">.</span><span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>servletName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.è·å–å­—ç¬¦é›†ç¼–ç </span>
        <span class="token class-name">String</span> encoding <span class="token operator">=</span> servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;encoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>encoding<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//4.è·å–æ‰€æœ‰åˆå§‹åŒ–å‚æ•°åç§°çš„æšä¸¾</span>
        <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span> servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//éå†names</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//å–å‡ºæ¯ä¸ªname</span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//æ ¹æ®keyè·å–value</span>
            <span class="token class-name">String</span> value <span class="token operator">=</span> servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name:&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&quot;,value:&quot;</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//5.è·å–ServletContextå¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> servletConfig<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//è°ƒç”¨doGetæ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ•ˆæœï¼š</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/ServletConfigæ¼”ç¤º.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li></ul><hr><h3 id="servletcontext" tabindex="-1"><a class="header-anchor" href="#servletcontext" aria-hidden="true">#</a> ServletContext</h3><p>ServletContext å¯¹è±¡æ˜¯åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚æœåŠ¡å™¨ä¸ºæ¯ä¸€ä¸ªåº”ç”¨éƒ½åˆ›å»ºäº†ä¸€ä¸ª ServletContext å¯¹è±¡ï¼ŒServletContext å±äºæ•´ä¸ªåº”ç”¨ï¼Œä¸å±€é™äºæŸä¸ª Servletï¼Œå¯ä»¥å®ç°è®©åº”ç”¨ä¸­æ‰€æœ‰ Servlet é—´çš„æ•°æ®å…±äº«ã€‚</p><p>ä¸Šä¸‹æ–‡ä»£è¡¨äº†ç¨‹åºå½“ä¸‹æ‰€è¿è¡Œçš„ç¯å¢ƒï¼Œè”ç³»æ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸èµ„æºè°ƒç”¨ï¼Œæ˜¯ç¨‹åºå¯ä»¥è®¿é—®åˆ°çš„æ‰€æœ‰èµ„æºçš„æ€»å’Œï¼Œèµ„æºå¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨</p><p>ç”Ÿå‘½å‘¨æœŸï¼š</p><ul><li>å‡ºç”Ÿï¼šåº”ç”¨ä¸€åŠ è½½ï¼Œè¯¥å¯¹è±¡å°±è¢«åˆ›å»ºå‡ºæ¥ã€‚ä¸€ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼ˆServlet å’Œ ServletContext éƒ½æ˜¯å•ä¾‹çš„ï¼‰</li><li>æ´»ç€ï¼šåªè¦åº”ç”¨ä¸€ç›´æä¾›æœåŠ¡ï¼Œè¯¥å¯¹è±¡å°±ä¸€ç›´å­˜åœ¨ã€‚</li><li>æ­»äº¡ï¼šåº”ç”¨è¢«å¸è½½ï¼ˆæˆ–è€…æœåŠ¡å™¨åœæ­¢ï¼‰ï¼Œè¯¥å¯¹è±¡æ¶ˆäº¡ã€‚</li></ul><p>åŸŸå¯¹è±¡ï¼šæŒ‡çš„æ˜¯å¯¹è±¡æœ‰ä½œç”¨åŸŸï¼Œå³æœ‰ä½œç”¨èŒƒå›´ï¼Œå¯ä»¥<strong>å®ç°æ•°æ®å…±äº«</strong>ï¼Œä¸åŒä½œç”¨èŒƒå›´çš„åŸŸå¯¹è±¡ï¼Œå…±äº«æ•°æ®çš„èƒ½åŠ›ä¸ä¸€æ ·ã€‚</p><p>Servlet è§„èŒƒä¸­ï¼Œå…±æœ‰4ä¸ªåŸŸå¯¹è±¡ï¼ŒServletContext æ˜¯å…¶ä¸­ä¸€ä¸ªï¼Œweb åº”ç”¨ä¸­æœ€å¤§çš„ä½œç”¨åŸŸï¼Œå« application åŸŸï¼Œå¯ä»¥å®ç°æ•´ä¸ªåº”ç”¨é—´çš„æ•°æ®å…±äº«åŠŸèƒ½ã€‚</p><p>æ•°æ®å…±äº«ï¼š</p><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/ServletContextå…±äº«æ•°æ®.png" style="zoom:50%;"><p>è·å–ServletContextï¼š</p><ul><li><p>Java é¡¹ç›®ç»§æ‰¿ HttpServletï¼ŒHttpServlet ç»§æ‰¿ GenericServletï¼ŒGenericServlet ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥ç›´æ¥ä½¿ç”¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">ServletContext</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ServletRequest ç±»æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ServletContext</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//è·å–ServletContextå¯¹è±¡</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p>å¸¸ç”¨APIï¼š</p><ul><li><code>String getInitParameter(String name)</code> : æ ¹æ®åç§°è·å–å…¨å±€é…ç½®çš„å‚æ•°</li><li><code>String getContextPath</code> : è·å–å½“å‰åº”ç”¨è®¿é—®çš„è™šæ‹Ÿç›®å½•</li><li><code>String getRealPath(String path)</code> : æ ¹æ®è™šæ‹Ÿç›®å½•è·å–åº”ç”¨éƒ¨ç½²çš„ç£ç›˜ç»å¯¹è·¯å¾„</li><li><code>void setAttribute(String name, Object object)</code> : å‘åº”ç”¨åŸŸå¯¹è±¡ä¸­å­˜å‚¨æ•°æ®</li><li><code>Object getAttribute(String name)</code> : æ ¹æ®åç§°è·å–åŸŸå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œæ²¡æœ‰åˆ™è¿”å›null</li><li><code>void removeAttribute(String name)</code> : æ ¹æ®åç§°ç§»é™¤åº”ç”¨åŸŸå¯¹è±¡ä¸­çš„æ•°æ®</li></ul><p>ä»£ç å®ç°ï¼š</p><ul><li><p>web.xmlé…ç½®ï¼š<br> é…ç½®çš„æ–¹å¼ï¼Œéœ€è¦åœ¨<code>&lt;web-app&gt;</code>æ ‡ç­¾ä¸­ä½¿ç”¨<code>&lt;context-param&gt;</code>æ¥é…ç½®åˆå§‹åŒ–å‚æ•°ï¼Œå®ƒçš„é…ç½®æ˜¯é’ˆå¯¹æ•´ä¸ªåº”ç”¨çš„é…ç½®ï¼Œè¢«ç§°ä¸ºåº”ç”¨çš„åˆå§‹åŒ–å‚æ•°é…ç½®ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--é…ç½®åº”ç”¨åˆå§‹åŒ–å‚æ•°--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--ç”¨äºè·å–åˆå§‹åŒ–å‚æ•°çš„key--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>servletContextInfo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--åˆå§‹åŒ–å‚æ•°çš„å€¼--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>This is application scope<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--æ¯ä¸ªåº”ç”¨åˆå§‹åŒ–å‚æ•°éƒ½éœ€è¦ç”¨åˆ°context-paramæ ‡ç­¾--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>globalEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContextDemo</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//è·å–ServletContextå¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–å…¨å±€é…ç½®çš„globalEncoding</span>
        <span class="token class-name">String</span> value <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;globalEncoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//UTF-8</span>

        <span class="token comment">//è·å–åº”ç”¨çš„è®¿é—®è™šæ‹Ÿç›®å½•</span>
        <span class="token class-name">String</span> contextPath <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>contextPath<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//servlet</span>

        <span class="token comment">//æ ¹æ®è™šæ‹Ÿç›®å½•è·å–åº”ç”¨éƒ¨ç½²çš„ç£ç›˜ç»å¯¹è·¯å¾„</span>
        <span class="token comment">//è·å–b.txtæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ webç›®å½•ä¸‹</span>
        <span class="token class-name">String</span> b <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/b.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–c.txtæ–‡ä»¶çš„ç»å¯¹è·¯å¾„  /WEB-INFç›®å½•ä¸‹</span>
        <span class="token class-name">String</span> c <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/c.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–a.txtæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ //srcç›®å½•ä¸‹</span>
        <span class="token class-name">String</span> a <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/classes/a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//å‘åŸŸå¯¹è±¡ä¸­å­˜å‚¨æ•°æ®</span>
        context<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//ç§»é™¤åŸŸå¯¹è±¡ä¸­usernameçš„æ•°æ®</span>
        <span class="token comment">//context.removeAttribute(&quot;username&quot;);</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//E:\Database\Java\Project\JavaEE\out\artifacts\Servlet_war_exploded\b.txt</span>
<span class="token comment">//E:\Database\Java\Project\JavaEE\out\artifacts\Servlet_war_exploded\WEB-INF\c.txt</span>
<span class="token comment">//E:\Database\Java\Project\JavaEE\out\artifacts\Servlet_war_exploded\WEB-INF\classes\a.txt</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="æ³¨è§£å¼€å‘" tabindex="-1"><a class="header-anchor" href="#æ³¨è§£å¼€å‘" aria-hidden="true">#</a> æ³¨è§£å¼€å‘</h3><p>Servlet3.0 ç‰ˆæœ¬ï¼ä¸éœ€è¦é…ç½® web.xml</p><ul><li><p>æ³¨è§£æ¡ˆä¾‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doPost</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Servlet Demo1 Annotation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>WebServletæ³¨è§£ï¼ˆ@since Servlet 3.0 (Section 8.1.1)ï¼‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">WebServlet</span> <span class="token punctuation">{</span>
    <span class="token comment">//æŒ‡å®šServletçš„åç§°ã€‚ç›¸å½“äºxmlé…ç½®ä¸­&lt;servlet&gt;æ ‡ç­¾ä¸‹çš„&lt;servlet-name&gt;</span>
    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//ç”¨äºæ˜ å°„Servletè®¿é—®çš„urlæ˜ å°„ï¼Œç›¸å½“äºxmlé…ç½®æ—¶çš„&lt;url-pattern&gt;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">//ç›¸å½“äºxmlé…ç½®æ—¶çš„&lt;url-pattern&gt;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">urlPatterns</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">//ç”¨äºé…ç½®Servletçš„å¯åŠ¨æ—¶æœºï¼Œç›¸å½“äºxmlé…ç½®çš„&lt;load-on-startup&gt;</span>
    <span class="token keyword">int</span> <span class="token function">loadOnStartup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">//ç”¨äºé…ç½®Servletçš„åˆå§‹åŒ–å‚æ•°ï¼Œç›¸å½“äºxmlé…ç½®çš„&lt;init-param&gt;</span>
    <span class="token class-name">WebInitParam</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">initParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">//ç”¨äºé…ç½®Servletæ˜¯å¦æ”¯æŒå¼‚æ­¥ï¼Œç›¸å½“äºxmlé…ç½®çš„&lt;async-supported&gt;</span>
    <span class="token keyword">boolean</span> <span class="token function">asyncSupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">//ç”¨äºæŒ‡å®šServletçš„å°å›¾æ ‡</span>
    <span class="token class-name">String</span> <span class="token function">smallIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//ç”¨äºæŒ‡å®šServletçš„å¤§å›¾æ ‡</span>
    <span class="token class-name">String</span> <span class="token function">largeIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//ç”¨äºæŒ‡å®šServletçš„æè¿°ä¿¡æ¯</span>
    <span class="token class-name">String</span> <span class="token function">description</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//ç”¨äºæŒ‡å®šServletçš„æ˜¾ç¤ºåç§°</span>
    <span class="token class-name">String</span> <span class="token function">displayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ‰‹åŠ¨åˆ›å»ºå®¹å™¨ï¼šï¼ˆäº†è§£ï¼‰</p></li></ul><hr><h2 id="request" tabindex="-1"><a class="header-anchor" href="#request" aria-hidden="true">#</a> Request</h2><h3 id="è¯·æ±‚å“åº”" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚å“åº”" aria-hidden="true">#</a> è¯·æ±‚å“åº”</h3><p>WebæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œä¼šé’ˆå¯¹æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªç”¨äºä»£è¡¨è¯·æ±‚çš„requestå¯¹è±¡ã€å’Œä»£è¡¨å“åº”çš„responseå¯¹è±¡ã€‚</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Servletè¯·æ±‚å“åº”å›¾.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h3 id="è¯·æ±‚å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚å¯¹è±¡" aria-hidden="true">#</a> è¯·æ±‚å¯¹è±¡</h3><p>è¯·æ±‚ï¼šå®¢æˆ·æœºå¸Œæœ›ä»æœåŠ¡å™¨ç«¯ç´¢å–ä¸€äº›èµ„æºï¼Œå‘æœåŠ¡å™¨å‘å‡ºè¯¢é—®</p><p>è¯·æ±‚å¯¹è±¡ï¼šåœ¨ JavaEE å·¥ç¨‹ä¸­ï¼Œç”¨äºå‘é€è¯·æ±‚çš„å¯¹è±¡ï¼Œå¸¸ç”¨çš„å¯¹è±¡æ˜¯ ServletRequest å’Œ HttpServletRequest ï¼Œå®ƒä»¬çš„åŒºæ˜¯æ˜¯å¦ä¸ HTTP åè®®æœ‰å…³</p><p>Request ä½œç”¨ï¼š</p><ul><li>æ“ä½œè¯·æ±‚ä¸‰éƒ¨åˆ†(è¡Œ,å¤´,ä½“)</li><li>è¯·æ±‚è½¬å‘</li><li>ä½œä¸ºåŸŸå¯¹è±¡å­˜æ•°æ®</li></ul><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Requestè¯·æ±‚å¯¹è±¡çš„ç±»è§†å›¾.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h3 id="è¯·æ±‚è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚è·¯å¾„" aria-hidden="true">#</a> è¯·æ±‚è·¯å¾„</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>String getLocalAddr()</td><td>è·å–æœ¬æœºï¼ˆæœåŠ¡å™¨ï¼‰åœ°å€</td></tr><tr><td>String getLocalName()</td><td>è·å–æœ¬æœºï¼ˆæœåŠ¡å™¨ï¼‰åç§°</td></tr><tr><td>int getLocalPort()</td><td>è·å–æœ¬æœºï¼ˆæœåŠ¡å™¨ï¼‰ç«¯å£</td></tr><tr><td>String getRemoteAddr()</td><td>è·å–è®¿é—®è€…IP</td></tr><tr><td>String getRemoteHost</td><td>è·å–è®¿é—®è€…ä¸»æœº</td></tr><tr><td>int getRemotePort()</td><td>è·å–è®¿é—®è€…ç«¯å£</td></tr><tr><td>String getMethod();</td><td>è·å¾—è¯·æ±‚æ–¹å¼</td></tr><tr><td>String getRequestURI()</td><td>è·å–ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆ/request/servletDemo01ï¼‰</td></tr><tr><td>String getRequestURL()</td><td>è·å–ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆ<a href="http://localhost:8080/request/servletDemo01%EF%BC%89" target="_blank" rel="noopener noreferrer">http://localhost:8080/request/servletDemo01ï¼‰<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>String getQueryString()</td><td>è·å–è¯·æ±‚æ¶ˆæ¯çš„æ•°æ®<br>ï¼ˆGETæ–¹å¼ URLä¸­å¸¦å‚å­—ç¬¦ä¸²ï¼šusername=aaa&amp;password=123ï¼‰</td></tr><tr><td>String getContextPath()</td><td>è·å–è™šæ‹Ÿç›®å½•åç§°ï¼ˆ/requestï¼‰</td></tr><tr><td>String getServletPath</td><td>è·å–Servletæ˜ å°„è·¯å¾„<br>ï¼ˆ<code>&lt;url-pattern&gt;</code>æˆ–@WebServletå€¼: /servletDemo01ï¼‰</td></tr><tr><td>String getRealPath(String path)</td><td>æ ¹æ®è™šæ‹Ÿç›®å½•è·å–åº”ç”¨éƒ¨ç½²çš„ç£ç›˜ç»å¯¹è·¯å¾„</td></tr></tbody></table><p>URL = URI + HOST</p><p>URL = HOST + ContextPath + ServletPath</p><hr><h3 id="è·å–è¯·æ±‚å¤´" tabindex="-1"><a class="header-anchor" href="#è·å–è¯·æ±‚å¤´" aria-hidden="true">#</a> è·å–è¯·æ±‚å¤´</h3><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>String getHeader(String name)</td><td>è·å¾—æŒ‡å®šè¯·æ±‚å¤´çš„å€¼ã€‚<br>å¦‚æœæ²¡æœ‰è¯¥è¯·æ±‚å¤´è¿”å›nullï¼Œæœ‰å¤šä¸ªå€¼è¿”å›ç¬¬ä¸€ä¸ª</td></tr><tr><td>Enumeration&lt;String&gt; getHeaders(String name)</td><td>è·å–æŒ‡å®šè¯·æ±‚å¤´çš„å¤šä¸ªå€¼</td></tr><tr><td>Enumeration&lt;String&gt; getHeaderNames()</td><td>è·å–æ‰€æœ‰è¯·æ±‚å¤´åç§°çš„æšä¸¾</td></tr></tbody></table><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo02&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo02</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.æ ¹æ®è¯·æ±‚å¤´åç§°è·å–ä¸€ä¸ªå€¼</span>
        <span class="token class-name">String</span> connection <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;connection&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//keep-alive</span>

        <span class="token comment">//2.æ ¹æ®è¯·æ±‚å¤´åç§°è·å–å¤šä¸ªå€¼</span>
        <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> values <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token string">&quot;accept-encoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>values<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> value <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//gzip, deflate, br</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="è¯·æ±‚å‚æ•°" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚å‚æ•°" aria-hidden="true">#</a> è¯·æ±‚å‚æ•°</h3><h4 id="è¯·æ±‚å‚æ•°-1" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚å‚æ•°-1" aria-hidden="true">#</a> è¯·æ±‚å‚æ•°</h4><p>è¯·æ±‚å‚æ•°æ˜¯æ­£æ–‡éƒ¨åˆ†&lt;input&gt;æ ‡ç­¾å†…å®¹ï¼Œ&lt;form&gt;æ ‡ç­¾å±æ€§action=&quot;/request/servletDemo08&quot;ï¼ŒæœåŠ¡å™¨URI</p><table><thead><tr><th>æ³•å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>String getParameter(String name)</td><td>è·å¾—æŒ‡å®šå‚æ•°åçš„å€¼<br>å¦‚æœæ²¡æœ‰è¯¥å‚æ•°åˆ™è¿”å›nullï¼Œå¦‚æœæœ‰å¤šä¸ªè·å¾—ç¬¬ä¸€ä¸ª</td></tr><tr><td>String[] getParameterValues(String name)</td><td>è·å¾—æŒ‡å®šå‚æ•°åæ‰€æœ‰çš„å€¼ã€‚æ­¤æ–¹æ³•ä¸ºå¤é€‰æ¡†æä¾›çš„</td></tr><tr><td>Enumeration&lt;String&gt; getParameterNames()</td><td>è·å¾—æ‰€æœ‰å‚æ•°å</td></tr><tr><td>Map&lt;String,String[]&gt; getParameterMap()</td><td>è·å¾—æ‰€æœ‰çš„è¯·æ±‚å‚æ•°é”®å€¼å¯¹ï¼ˆkey=valueï¼‰</td></tr></tbody></table><hr><h4 id="å°è£…å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å°è£…å‚æ•°" aria-hidden="true">#</a> å°è£…å‚æ•°</h4><p>å°è£…è¯·æ±‚å‚æ•°åˆ°ç±»å¯¹è±¡ï¼š</p><ul><li><p>ç›´æ¥å°è£…ï¼šæœ‰å‚æ„é€ æˆ–è€…setæ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo04&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo04</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.è·å–æ‰€æœ‰çš„æ•°æ®</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hobbies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">&quot;hobby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.å°è£…å­¦ç”Ÿå¯¹è±¡</span>
        <span class="token class-name">Student</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">,</span>hobbies<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.è¾“å‡ºå¯¹è±¡</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hobby<span class="token punctuation">;</span>
        
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!--register.html--&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ³¨å†Œé¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/request/servletDemo05<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        å§“åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        çˆ±å¥½ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>study<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å­¦ä¹ 
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>game<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ¸¸æˆ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ³¨å†Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åå°„æ–¹å¼ï¼š</p><p>è¡¨å•<code>&lt;input&gt;</code>æ ‡ç­¾çš„nameå±æ€§å–å€¼ï¼Œå¿…é¡»å’Œå®ä½“ç±»ä¸­å®šä¹‰çš„å±æ€§åç§°ä¸€è‡´</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//1.è·å–è¯·æ±‚æ­£æ–‡çš„æ˜ å°„å…³ç³»</span>
    <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2.å°è£…å­¦ç”Ÿå¯¹è±¡</span>
    <span class="token class-name">Student</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2.1éå†é›†åˆ</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> name <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//2.2è·å–Studentå¯¹è±¡çš„å±æ€§æè¿°å™¨</span>
            <span class="token comment">//å‚æ•°ä¸€ï¼šæŒ‡å®šè·å–xxxå±æ€§çš„æè¿°å™¨</span>
            <span class="token comment">//å‚æ•°äºŒï¼šæŒ‡å®šå­—èŠ‚ç æ–‡ä»¶</span>
            <span class="token class-name">PropertyDescriptor</span> pd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PropertyDescriptor</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>stu<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//2.3è·å–å¯¹åº”çš„setXxxæ–¹æ³•</span>
            <span class="token class-name">Method</span> writeMethod <span class="token operator">=</span> pd<span class="token punctuation">.</span><span class="token function">getWriteMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//2.4æ‰§è¡Œæ–¹æ³•</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                writeMethod<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>stu<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                writeMethod<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>stu<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//3.è¾“å‡ºå¯¹è±¡</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>commons-beanutilså°è£…</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.è·å–æ‰€æœ‰çš„æ•°æ®</span>
        <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.å°è£…å­¦ç”Ÿå¯¹è±¡</span>
        <span class="token class-name">Student</span> stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">populate</span><span class="token punctuation">(</span>stu<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//3.è¾“å‡ºå¯¹è±¡</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="æµè·å–æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æµè·å–æ•°æ®" aria-hidden="true">#</a> æµè·å–æ•°æ®</h4><p><code>ServletInputStream getInputStream()</code> : è·å–è¯·æ±‚å­—èŠ‚è¾“å…¥æµå¯¹è±¡<br><code>BufferedReader getReader() </code> : è·å–è¯·æ±‚ç¼“å†²å­—ç¬¦è¾“å…¥æµå¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo07&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo07</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//å­—ç¬¦æµ(å¿…é¡»æ˜¯postæ–¹å¼)</span>
        <span class="token comment">/*BufferedReader br = req.getReader();
        String line;
        while((line = br.readLine()) != null) {
            System.out.println(line);
        }*/</span>
        <span class="token comment">//br.close();</span>
        <span class="token comment">//å­—èŠ‚æµ</span>
        <span class="token class-name">ServletInputStream</span> is <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//is.close();</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/request/servletDemo07<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="è¯·æ±‚åŸŸ" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚åŸŸ" aria-hidden="true">#</a> è¯·æ±‚åŸŸ</h3><h4 id="è¯·æ±‚åŸŸ-1" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚åŸŸ-1" aria-hidden="true">#</a> è¯·æ±‚åŸŸ</h4><p>request åŸŸï¼šå¯ä»¥åœ¨ä¸€æ¬¡è¯·æ±‚èŒƒå›´å†…è¿›è¡Œå…±äº«æ•°æ®</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>void setAttribute(String name, Object value)</td><td>å‘è¯·æ±‚åŸŸå¯¹è±¡ä¸­å­˜å‚¨æ•°æ®</td></tr><tr><td>Object getAttribute(String name)</td><td>é€šè¿‡åç§°è·å–è¯·æ±‚åŸŸå¯¹è±¡çš„æ•°æ®</td></tr><tr><td>void removeAttribute(String name)</td><td>é€šè¿‡åç§°ç§»é™¤è¯·æ±‚åŸŸå¯¹è±¡çš„æ•°æ®</td></tr></tbody></table><hr><h4 id="è¯·æ±‚è½¬å‘" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚è½¬å‘" aria-hidden="true">#</a> è¯·æ±‚è½¬å‘</h4><p>è¯·æ±‚è½¬å‘ï¼šå®¢æˆ·ç«¯çš„ä¸€æ¬¡è¯·æ±‚åˆ°è¾¾åï¼Œéœ€è¦å€ŸåŠ©å…¶ä»– Servlet æ¥å®ç°åŠŸèƒ½ï¼Œè¿›è¡Œè¯·æ±‚è½¬å‘ã€‚ç‰¹ç‚¹ï¼š</p><ul><li>æµè§ˆå™¨åœ°å€æ ä¸å˜</li><li>åŸŸå¯¹è±¡ä¸­çš„æ•°æ®ä¸ä¸¢å¤±</li><li>è´Ÿè´£è½¬å‘çš„ Servlet è½¬å‘å‰åå“åº”æ­£æ–‡ä¼šä¸¢å¤±</li><li>ç”±è½¬å‘ç›®çš„åœ°æ¥å“åº”å®¢æˆ·ç«¯</li></ul><p>HttpServletRequest ç±»æ–¹æ³•ï¼š</p><ul><li><code>RequestDispatcher getRequestDispatcher(String path) </code> : è·å–ä»»åŠ¡è°ƒåº¦å¯¹è±¡</li></ul><p>RequestDispatcher ç±»æ–¹æ³•ï¼š</p><ul><li><code>void forward(ServletRequest request, ServletResponse response)</code> : å®ç°è½¬å‘ï¼Œå°†è¯·æ±‚ä» Servlet è½¬å‘åˆ°æœåŠ¡å™¨ä¸Šçš„å¦ä¸€ä¸ªèµ„æºï¼ˆServletï¼ŒJSP æ–‡ä»¶æˆ– HTML æ–‡ä»¶ï¼‰</li></ul><p>è¿‡ç¨‹ï¼šæµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/request/servletDemo09%EF%BC%8C/servletDemo10%E4%B9%9F%E4%BC%9A%E6%89%A7%E8%A1%8C" target="_blank" rel="noopener noreferrer">http://localhost:8080/request/servletDemo09ï¼Œ/servletDemo10ä¹Ÿä¼šæ‰§è¡Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo09&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo09</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//è®¾ç½®å…±äº«æ•°æ®</span>
        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;encoding&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–è¯·æ±‚è°ƒåº¦å¯¹è±¡</span>
        <span class="token class-name">RequestDispatcher</span> rd <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å®ç°è½¬å‘åŠŸèƒ½</span>
        rd<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo10&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo10</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//è·å–å…±äº«æ•°æ®</span>
        <span class="token class-name">Object</span> encoding <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;encoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>encoding<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//gbk</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletDemo10æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="è¯·æ±‚åŒ…å«" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚åŒ…å«" aria-hidden="true">#</a> è¯·æ±‚åŒ…å«</h4><p>è¯·æ±‚åŒ…å«ï¼šåˆå¹¶å…¶ä»–çš„ Servlet ä¸­çš„åŠŸèƒ½ä¸€èµ·å“åº”ç»™å®¢æˆ·ç«¯ã€‚ç‰¹ç‚¹ï¼š</p><ul><li>æµè§ˆå™¨åœ°å€æ ä¸å˜</li><li>åŸŸå¯¹è±¡ä¸­çš„æ•°æ®ä¸ä¸¢å¤±</li><li>è¢«åŒ…å«çš„ Servlet å“åº”å¤´ä¼šä¸¢å¤±</li></ul><p>è¯·æ±‚è½¬å‘çš„æ³¨æ„äº‹é¡¹ï¼šè´Ÿè´£è½¬å‘çš„ Servletï¼Œè½¬å‘å‰åçš„å“åº”æ­£æ–‡ä¸¢å¤±ï¼Œç”±è½¬å‘ç›®çš„åœ°æ¥å“åº”æµè§ˆå™¨</p><p>è¯·æ±‚åŒ…å«çš„æ³¨æ„äº‹é¡¹ï¼šè¢«åŒ…å«è€…çš„å“åº”æ¶ˆæ¯å¤´ä¸¢å¤±ï¼Œå› ä¸ºå®ƒè¢«åŒ…å«è€…åŒ…å«èµ·æ¥äº†</p><p>HttpServletRequest ç±»æ–¹æ³•ï¼š</p><ul><li><code>RequestDispatcher getRequestDispatcher(String path) </code> : è·å–ä»»åŠ¡è°ƒåº¦å¯¹è±¡</li></ul><p>RequestDispatcher ç±»æ–¹æ³•ï¼š</p><ul><li><code>void include(ServletRequest request, ServletResponse response) </code> : å®ç°åŒ…å«ã€‚åŒ…æ‹¬å“åº”ä¸­èµ„æºçš„å†…å®¹ï¼ˆservletï¼ŒJSPé¡µé¢ï¼ŒHTMLæ–‡ä»¶ï¼‰ã€‚</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo11&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo11</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletDemo11æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰§è¡Œäº†</span>
        <span class="token comment">//è·å–è¯·æ±‚è°ƒåº¦å¯¹è±¡</span>
        <span class="token class-name">RequestDispatcher</span> rd <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å®ç°åŒ…å«åŠŸèƒ½</span>
        rd<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo12&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo12</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletDemo12æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºäº†</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="ä¹±ç é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ä¹±ç é—®é¢˜" aria-hidden="true">#</a> ä¹±ç é—®é¢˜</h3><p>è¯·æ±‚ä½“</p><ul><li><p>POSTï¼š<code>void setCharacterEncoding(String env)</code>ï¼šè®¾ç½®è¯·æ±‚ä½“çš„ç¼–ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo08&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo08</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//è®¾ç½®ç¼–ç æ ¼å¼</span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>GETï¼šTomcat8.5 ç‰ˆæœ¬åŠä»¥åï¼ŒTomcat æœåŠ¡å™¨å·²ç»å¸®æˆ‘ä»¬è§£å†³</p></li></ul><hr><h2 id="response" tabindex="-1"><a class="header-anchor" href="#response" aria-hidden="true">#</a> Response</h2><h3 id="å“åº”å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å“åº”å¯¹è±¡" aria-hidden="true">#</a> å“åº”å¯¹è±¡</h3><p>å“åº”ï¼ŒæœåŠ¡å™¨æŠŠè¯·æ±‚çš„å¤„ç†ç»“æœå‘ŠçŸ¥å®¢æˆ·ç«¯</p><p>å“åº”å¯¹è±¡ï¼šåœ¨ JavaEE å·¥ç¨‹ä¸­ï¼Œç”¨äºå‘é€å“åº”çš„å¯¹è±¡</p><ul><li>åè®®æ— å…³çš„å¯¹è±¡æ ‡å‡†æ˜¯ï¼šServletResponse æ¥å£</li><li>åè®®ç›¸å…³çš„å¯¹è±¡æ ‡å‡†æ˜¯ï¼šHttpServletResponse æ¥å£</li></ul><p>Response çš„ä½œç”¨ï¼š</p><ul><li>æ“ä½œå“åº”çš„ä¸‰éƒ¨åˆ†(è¡Œ, å¤´, ä½“)</li></ul><ul><li>è¯·æ±‚é‡å®šå‘</li></ul><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Responseå“åº”ç±»è§†å›¾.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h3 id="æ“ä½œå“åº”è¡Œ" tabindex="-1"><a class="header-anchor" href="#æ“ä½œå“åº”è¡Œ" aria-hidden="true">#</a> æ“ä½œå“åº”è¡Œ</h3><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>int getStatus()</td><td>Gets the current status code of this response</td></tr><tr><td>void setStatus(int sc)</td><td>Sets the status code for this response</td></tr></tbody></table><p>çŠ¶æ€ç ï¼šï¼ˆHTTP--&gt;ç›¸åº”éƒ¨åˆ†ï¼‰</p><table><thead><tr><th style="text-align:center;">çŠ¶æ€ç </th><th style="text-align:center;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center;">1xx</td><td style="text-align:center;">æ¶ˆæ¯</td></tr><tr><td style="text-align:center;">2xx</td><td style="text-align:center;">æˆåŠŸ</td></tr><tr><td style="text-align:center;">3xx</td><td style="text-align:center;">é‡å®šå‘</td></tr><tr><td style="text-align:center;">4xx</td><td style="text-align:center;">å®¢æˆ·ç«¯é”™è¯¯</td></tr><tr><td style="text-align:center;">5xx</td><td style="text-align:center;">æœåŠ¡å™¨é”™è¯¯</td></tr></tbody></table><hr><h3 id="æ“ä½œå“åº”ä½“" tabindex="-1"><a class="header-anchor" href="#æ“ä½œå“åº”ä½“" aria-hidden="true">#</a> æ“ä½œå“åº”ä½“</h3><h4 id="å­—èŠ‚æµå“åº”" tabindex="-1"><a class="header-anchor" href="#å­—èŠ‚æµå“åº”" aria-hidden="true">#</a> å­—èŠ‚æµå“åº”</h4><p>å“åº”ä½“å¯¹åº”<strong>ä¹±ç é—®é¢˜</strong></p><p>é¡¹ç›®ä¸­å¸¸ç”¨çš„ç¼–ç æ ¼å¼æ˜¯UTF-8ï¼Œè€Œæµè§ˆå™¨é»˜è®¤ä½¿ç”¨çš„ç¼–ç æ˜¯gbkã€‚å¯¼è‡´ä¹±ç ï¼</p><p>è§£å†³æ–¹å¼ï¼š<br> ä¸€ï¼šä¿®æ”¹æµè§ˆå™¨çš„ç¼–ç æ ¼å¼(ä¸æ¨èï¼Œä¸èƒ½è®©ç”¨æˆ·åšä¿®æ”¹çš„åŠ¨ä½œ)<br> äºŒï¼šé€šè¿‡è¾“å‡ºæµå†™å‡ºä¸€ä¸ªæ ‡ç­¾ï¼š&lt;meta http-equiv=&#39;content-type&#39;content=&#39;text/html;charset=UTF-8&#39;&gt;<br> ä¸‰ï¼šæŒ‡å®šå“åº”å¤´ä¿¡æ¯ï¼šresponse.setHeader(&quot;Content-Type&quot;,&quot;text/html;charset=UTF-8&quot;)<br> å››ï¼šresponse.setContentType(&quot;text/html;charset=UTF-8&quot;)</p><p>å¸¸ç”¨APIï¼š<br><code>ServletOutputStream getOutputStream()</code> : è·å–å“åº”å­—èŠ‚è¾“å‡ºæµå¯¹è±¡<br><code>void setContenType(&quot;text/html;charset=UTF-8&quot;)</code> : è®¾ç½®å“åº”å†…å®¹ç±»å‹ï¼Œè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo01&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.è®¾ç½®å“åº”å†…å®¹ç±»å‹</span>
		resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.é€šè¿‡å“åº”å¯¹è±¡è·å–å­—èŠ‚è¾“å‡ºæµå¯¹è±¡</span>
        <span class="token class-name">ServletOutputStream</span> sos <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.å®šä¹‰æ¶ˆæ¯</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//4.é€šè¿‡å­—èŠ‚æµè¾“å‡ºå¯¹è±¡</span>
        sos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="å­—ç¬¦æµå“åº”" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦æµå“åº”" aria-hidden="true">#</a> å­—ç¬¦æµå“åº”</h4><p>responseå¾—åˆ°çš„å­—ç¬¦æµå’Œå­—èŠ‚æµäº’æ–¥ï¼Œåªèƒ½é€‰å…¶ä¸€ï¼Œresponseè·å–çš„æµä¸ç”¨å…³é—­ï¼Œç”±æœåŠ¡å™¨å…³é—­å³å¯ã€‚</p><p>å¸¸ç”¨APIï¼š<br><code>PrintWriter getWriter()</code> : è·å–å“åº”å­—èŠ‚è¾“å‡ºæµå¯¹è±¡ï¼Œå¯ä»¥å‘é€æ ‡ç­¾<br><code>void setContenType(&quot;text/html;charset=UTF-8&quot;)</code> : è®¾ç½®å“åº”å†…å®¹ç±»å‹ï¼Œè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//è§£å†³ä¸­æ–‡ä¹±ç </span>
    resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–å­—ç¬¦æµå¯¹è±¡</span>
    <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="å“åº”å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#å“åº”å›¾ç‰‡" aria-hidden="true">#</a> å“åº”å›¾ç‰‡</h4><p>å“åº”å›¾ç‰‡åˆ°æµè§ˆå™¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo03&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo03</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.é€šè¿‡æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æ¥è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span>
        <span class="token class-name">String</span> realPath <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/img/hm.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//E:\Project\JavaEE\out\artifacts\Response_war_exploded\img\hm.png</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>realPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.åˆ›å»ºå­—èŠ‚è¾“å…¥æµå¯¹è±¡ï¼Œå…³è”å›¾ç‰‡è·¯å¾„</span>
        <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>realPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.é€šè¿‡å“åº”å¯¹è±¡è·å–å­—èŠ‚è¾“å‡ºæµå¯¹è±¡</span>
        <span class="token class-name">ServletOutputStream</span> sos <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.å¾ªç¯è¯»å†™</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="æ“ä½œå“åº”å¤´" tabindex="-1"><a class="header-anchor" href="#æ“ä½œå“åº”å¤´" aria-hidden="true">#</a> æ“ä½œå“åº”å¤´</h3><h4 id="å¸¸ç”¨æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨æ–¹æ³•" aria-hidden="true">#</a> å¸¸ç”¨æ–¹æ³•</h4><p>å“åº”å¤´: æ˜¯æœåŠ¡å™¨æŒ‡ç¤ºæµè§ˆå™¨å»åšä»€ä¹ˆ</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>String getHeader(String name)</td><td>è·å–æŒ‡å®šå“åº”å¤´çš„å†…å®¹</td></tr><tr><td>Collection&lt;String&gt; getHeaders(String name)</td><td>è·å–æŒ‡å®šå“åº”å¤´çš„å¤šä¸ªå€¼</td></tr><tr><td>Collection&lt;String&gt; getHeaderNames()</td><td>è·å–æ‰€æœ‰å“åº”å¤´åç§°çš„æšä¸¾</td></tr><tr><td>void setHeader(String name, String value)</td><td>è®¾ç½®å“åº”å¤´</td></tr><tr><td>void setDateHeader(String name, long date)</td><td>è®¾ç½®å…·æœ‰ç»™å®šåç§°å’Œæ—¥æœŸå€¼çš„å“åº”æ¶ˆæ¯å¤´</td></tr><tr><td>void sendRedirect(String location)</td><td>è®¾ç½®é‡å®šå‘</td></tr></tbody></table><p>setHeaderå¸¸ç”¨å“åº”å¤´ï¼š</p><ul><li>Expiresï¼šè®¾ç½®ç¼“å­˜æ—¶é—´</li><li>Refreshï¼šå®šæ—¶è·³è½¬</li><li>Locationï¼šé‡å®šå‘åœ°å€</li><li>Content-Disposition: å‘Šè¯‰æµè§ˆå™¨ä¸‹è½½</li><li>Content-Typeï¼šè®¾ç½®å“åº”å†…å®¹çš„MIMEç±»å‹(æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨å†…å®¹çš„ç±»å‹)</li></ul><hr><h4 id="æ§åˆ¶ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#æ§åˆ¶ç¼“å­˜" aria-hidden="true">#</a> æ§åˆ¶ç¼“å­˜</h4><p>ç¼“å­˜ï¼šå¯¹äºä¸ç»å¸¸å˜åŒ–çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®åˆç†çš„ç¼“å­˜æ—¶é—´ï¼Œé˜²æ­¢æµè§ˆå™¨é¢‘ç¹çš„è¯·æ±‚æœåŠ¡å™¨ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo04&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo04</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> news <span class="token operator">=</span> <span class="token string">&quot;è®¾ç½®ç¼“å­˜æ—¶é—´&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®ç¼“å­˜æ—¶é—´ï¼Œç¼“å­˜ä¸€å°æ—¶</span>
        resp<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Expires&quot;</span><span class="token punctuation">,</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">1000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®ç¼–ç æ ¼å¼</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å†™å‡ºæ•°æ®</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>news<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åªè¾“å‡ºä¸€æ¬¡ï¼Œä¸èƒ½åˆ·æ–°ï¼Œå¿…é¡»ä»ç½‘å€ç›´æ¥è¿›å…¥</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Responseè®¾ç½®ç¼“å­˜æ—¶é—´.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h4 id="å®šæ—¶åˆ·æ–°" tabindex="-1"><a class="header-anchor" href="#å®šæ—¶åˆ·æ–°" aria-hidden="true">#</a> å®šæ—¶åˆ·æ–°</h4><p>å®šæ—¶åˆ·æ–°ï¼šè¿‡äº†æŒ‡å®šæ—¶é—´åï¼Œé¡µé¢è¿›è¡Œè‡ªåŠ¨è·³è½¬</p><p>æ ¼å¼ï¼š<code>setHeader(&quot;Refresh&quot;, &quot;3;URL=https://www.baidu.com&quot;&quot;);</code><br> Refreshè®¾ç½®çš„æ—¶é—´å•ä½æ˜¯ç§’ï¼Œå¦‚æœåˆ·æ–°åˆ°å…¶ä»–åœ°å€ï¼Œéœ€è¦åœ¨æ—¶é—´åé¢æ‹¼æ¥ä¸Šåœ°å€</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo05&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo05</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> news <span class="token operator">=</span> <span class="token string">&quot;æ‚¨çš„ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼Œ3ç§’åè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢...&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®ç¼–ç æ ¼å¼</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å†™å‡ºæ•°æ®</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>news<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è®¾ç½®å“åº”æ¶ˆæ¯å¤´å®šæ—¶åˆ·æ–°</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Refresh&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;3;URL=/response/login.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ä¸‹è½½æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½æ–‡ä»¶" aria-hidden="true">#</a> ä¸‹è½½æ–‡ä»¶</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo06&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo06</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.åˆ›å»ºå­—èŠ‚è¾“å…¥æµå¯¹è±¡ï¼Œå…³è”è¯»å–çš„æ–‡ä»¶</span>
        <span class="token class-name">String</span> realPath <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/img/hm.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç»å¯¹è·¯å¾„</span>
        <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>realPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.è®¾ç½®å“åº”å¤´æ”¯æŒçš„ç±»å‹  åº”ç”¨æ”¯æŒçš„ç±»å‹ä¸ºå­—èŠ‚æµ</span>
        <span class="token comment">/*
            Content-Type æ¶ˆæ¯å¤´åç§°   æ”¯æŒçš„ç±»å‹
            application/octet-stream   æ¶ˆæ¯å¤´å‚æ•°  åº”ç”¨ç±»å‹ä¸ºå­—èŠ‚æµ
         */</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;application/octet-stream&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.è®¾ç½®å“åº”å¤´ä»¥ä¸‹è½½æ–¹å¼æ‰“å¼€  ä»¥é™„ä»¶å½¢å¼å¤„ç†å†…å®¹</span>
        <span class="token comment">/*
            Content-Disposition  æ¶ˆæ¯å¤´åç§°  å¤„ç†çš„å½¢å¼
            attachment;filename=  æ¶ˆæ¯å¤´å‚æ•°  é™„ä»¶å½¢å¼è¿›è¡Œå¤„ç†
         */</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Disposition&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;attachment;filename=&quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//4.è·å–å­—èŠ‚è¾“å‡ºæµå¯¹è±¡</span>
        <span class="token class-name">ServletOutputStream</span> sos <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//5.å¾ªç¯è¯»å†™æ–‡ä»¶</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//6.é‡Šæ”¾èµ„æº</span>
        bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#é‡å®šå‘" aria-hidden="true">#</a> é‡å®šå‘</h4><h5 id="å®ç°é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#å®ç°é‡å®šå‘" aria-hidden="true">#</a> å®ç°é‡å®šå‘</h5><p>è¯·æ±‚é‡å®šå‘ï¼šå®¢æˆ·ç«¯çš„ä¸€æ¬¡è¯·æ±‚åˆ°è¾¾åï¼Œéœ€è¦å€ŸåŠ©å…¶ä»– Servlet æ¥å®ç°åŠŸèƒ½ã€‚ç‰¹ç‚¹ï¼š</p><ol><li>é‡å®šå‘ä¸¤æ¬¡è¯·æ±‚</li><li>é‡å®šå‘çš„åœ°å€æ è·¯å¾„æ”¹å˜</li><li><strong>é‡å®šå‘çš„è·¯å¾„å†™ç»å¯¹è·¯å¾„</strong>ï¼ˆå¸¦åŸŸå /ip åœ°å€ï¼Œå¦‚æœæ˜¯åŒä¸€ä¸ªé¡¹ç›®ï¼Œå¯ä»¥çœç•¥åŸŸå /ip åœ°å€ï¼‰</li><li>é‡å®šå‘çš„è·¯å¾„å¯ä»¥æ˜¯é¡¹ç›®å†…éƒ¨çš„,ä¹Ÿå¯ä»¥æ˜¯é¡¹ç›®ä»¥å¤–çš„ï¼ˆç™¾åº¦ï¼‰</li><li>é‡å®šå‘ä¸èƒ½é‡å®šå‘åˆ° WEB-INF ä¸‹çš„èµ„æº</li><li>æŠŠæ•°æ®å­˜åˆ° request åŸŸé‡Œé¢ï¼Œé‡å®šå‘ä¸å¯ç”¨</li></ol><p>å®ç°æ–¹å¼ï¼š</p><ul><li><p>æ–¹å¼ä¸€ï¼š</p><ol><li>è®¾ç½®å“åº”çŠ¶æ€ç ï¼š<code>resp.setStatus(302)</code></li><li>è®¾ç½®é‡å®šå‘çš„è·¯å¾„ï¼ˆå“åº”åˆ°å“ªé‡Œï¼Œé€šè¿‡å“åº”å¤´ location æ¥æŒ‡å®šï¼‰ <ul><li><code>response.setHeader(&quot;Location&quot;,&quot;http://www.baidu.com&quot;);</code></li><li><code>response.setHeader(&quot;Location&quot;,&quot;/response/servletDemo08);</code></li></ul></li></ol></li><li><p>æ–¹å¼äºŒï¼š</p><ul><li><code> resp.sendRedirect(&quot;é‡å®šå‘çš„è·¯å¾„&quot;);</code></li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo07&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo07</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//è®¾ç½®è¯·æ±‚åŸŸæ•°æ®</span>
        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è®¾ç½®é‡å®šå‘</span>
        resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/servletDemo07&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// resp.sendRedirect(&quot;https://www.baidu.com&quot;);</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo08&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo08</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletDemo08æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="é‡å®šå‘å’Œè½¬å‘" tabindex="-1"><a class="header-anchor" href="#é‡å®šå‘å’Œè½¬å‘" aria-hidden="true">#</a> é‡å®šå‘å’Œè½¬å‘</h5><p>è¯·æ±‚é‡å®šå‘è·³è½¬çš„ç‰¹ç‚¹ï¼š</p><ol><li>é‡å®šå‘æ˜¯ç”±<strong>æµè§ˆå™¨å‘èµ·</strong>çš„ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æµè§ˆå™¨ä¼šå‘èµ·<strong>ä¸¤æ¬¡è¯·æ±‚</strong></li><li>é‡å®šå‘å¯ä»¥è·³è½¬åˆ°ä»»æ„æœåŠ¡å™¨çš„èµ„æºï¼Œä½†æ˜¯<strong>æ— æ³•è·³è½¬åˆ°WEB-INFä¸­çš„èµ„æº</strong></li><li>é‡å®šå‘ä¸èƒ½å’Œè¯·æ±‚åŸŸå¯¹è±¡å…±äº«æ•°æ®ï¼Œæ•°æ®ä¼šä¸¢å¤±</li><li>é‡å®šå‘æµè§ˆå™¨çš„åœ°å€æ ä¸­çš„åœ°å€ä¼šå˜æˆè·³è½¬åˆ°çš„è·¯å¾„</li></ol><p>è¯·æ±‚è½¬å‘è·³è½¬çš„ç‰¹ç‚¹ï¼š</p><ol><li>è¯·æ±‚è½¬å‘æ˜¯ç”±<strong>æœåŠ¡å™¨å‘èµ·</strong>çš„ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æµè§ˆå™¨åªä¼šå‘èµ·<strong>ä¸€æ¬¡è¯·æ±‚</strong></li><li>è¯·æ±‚è½¬å‘åªèƒ½è·³è½¬åˆ°æœ¬é¡¹ç›®çš„èµ„æºï¼Œä½†æ˜¯<strong>å¯ä»¥è·³è½¬åˆ°WEB-INFä¸­çš„èµ„æº</strong></li><li>è¯·æ±‚è½¬å‘å¯ä»¥å’Œè¯·æ±‚åŸŸå¯¹è±¡å…±äº«æ•°æ®ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±</li><li>è¯·æ±‚è½¬å‘æµè§ˆå™¨åœ°å€æ ä¸å˜</li></ol><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/é‡å®šå‘å’Œè¯·æ±‚è½¬å‘å¯¹æ¯”å›¾.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h3 id="è·¯å¾„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#è·¯å¾„é—®é¢˜" aria-hidden="true">#</a> è·¯å¾„é—®é¢˜</h3><p><strong>å®Œæ•´URLåœ°å€ï¼š</strong></p><ol><li>åè®®ï¼šhttp://</li><li>æœåŠ¡å™¨ä¸»æœºåœ°å€ï¼š127.0.0.1 or localhost</li><li>æœåŠ¡å™¨ç«¯å£å·ï¼š8080</li><li>é¡¹ç›®çš„è™šæ‹Ÿè·¯å¾„(éƒ¨ç½²è·¯å¾„)ï¼š/response</li><li>å…·ä½“çš„é¡¹ç›®ä¸Šèµ„æºè·¯å¾„ /login.html or Demo çš„Servletæ˜ å°„è·¯å¾„</li></ol><p><strong>ç›¸å¯¹è·¯å¾„ï¼š</strong></p><p>ä¸ä»¥&quot;/&quot;å¼€å¤´çš„è·¯å¾„å†™æ³•ï¼Œå®ƒæ˜¯ä»¥ç›®æ ‡è·¯å¾„ç›¸å¯¹å½“å‰æ–‡ä»¶çš„è·¯å¾„ï¼Œå…¶ä¸­&quot;..&quot;è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ã€‚</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>hello world....<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
        ç›®æ ‡èµ„æºçš„url: http://localhost:8080/response/demo05
        å½“å‰èµ„æºçš„url: http://localhost:8080/response/pages/demo.html
        ç›¸å¯¹è·¯å¾„çš„ä¼˜åŠ£:
            1. ä¼˜åŠ¿: æ— è®ºéƒ¨ç½²çš„é¡¹ç›®åæ€ä¹ˆæ”¹å˜ï¼Œæˆ‘çš„è·¯å¾„éƒ½ä¸éœ€è¦æ”¹å˜
            2. åŠ£åŠ¿: å¦‚æœå½“å‰èµ„æºçš„ä½ç½®å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆç›¸å¯¹è·¯å¾„å°±å¿…å®šè¦å‘ç”Ÿæ”¹å˜--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../demo05<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è®¿é—®ServletDemo05<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç»å¯¹è·¯å¾„ï¼š</strong></p><p>ç»å¯¹è·¯å¾„å°±æ˜¯ä»¥&quot;/&quot;å¼€å¤´çš„è·¯å¾„å†™æ³•ï¼Œé¡¹ç›®éƒ¨ç½²çš„è·¯å¾„</p><hr><h2 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie" aria-hidden="true">#</a> Cookie</h2><h3 id="ä¼šè¯æŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#ä¼šè¯æŠ€æœ¯" aria-hidden="true">#</a> ä¼šè¯æŠ€æœ¯</h3><p><strong>ä¼šè¯</strong>ï¼šæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„å¤šæ¬¡è¯·æ±‚å’Œå“åº”</p><p>æµè§ˆå™¨å’ŒæœåŠ¡å™¨å¯èƒ½äº§ç”Ÿå¤šæ¬¡çš„è¯·æ±‚å’Œå“åº”ï¼Œä»æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨å¼€å§‹ï¼Œåˆ°è®¿é—®æœåŠ¡å™¨ç»“æŸï¼ˆå…³é—­æµè§ˆå™¨ã€åˆ°äº†è¿‡æœŸæ—¶é—´ï¼‰ï¼Œè¿™æœŸé—´äº§ç”Ÿçš„å¤šæ¬¡è¯·æ±‚å’Œå“åº”åŠ åœ¨ä¸€èµ·ç§°ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¸€æ¬¡å¯¹è¯</p><p>ä½œç”¨ï¼šä¿å­˜ç”¨æˆ·å„è‡ªçš„æ•°æ®ï¼ˆä»¥æµè§ˆå™¨ä¸ºå•ä½ï¼‰ï¼Œåœ¨å¤šæ¬¡è¯·æ±‚é—´å®ç°æ•°æ®å…±äº«</p><p><strong>å¸¸ç”¨çš„ä¼šè¯ç®¡ç†æŠ€æœ¯</strong>ï¼š</p><ul><li><p>Cookieï¼šå®¢æˆ·ç«¯ä¼šè¯ç®¡ç†æŠ€æœ¯ï¼Œç”¨æˆ·æµè§ˆçš„ä¿¡æ¯ä»¥é”®å€¼å¯¹ï¼ˆkey=valueï¼‰çš„å½¢å¼ä¿å­˜åœ¨æµè§ˆå™¨ä¸Šã€‚å¦‚æœæ²¡æœ‰å…³é—­æµè§ˆå™¨ï¼Œå†æ¬¡è®¿é—®æœåŠ¡å™¨ï¼Œä¼šæŠŠ cookie å¸¦åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°±å¯ä»¥åšç›¸åº”çš„å¤„ç†</p></li><li><p>Sessionï¼šæœåŠ¡ç«¯ä¼šè¯ç®¡ç†æŠ€æœ¯ã€‚å½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚ session å¯¹è±¡æ—¶ï¼ŒæœåŠ¡å™¨ä¸ºæ¯ä¸€ä¸ªæµè§ˆå™¨å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ï¼Œå¹¶å°†é€šè¿‡ç‰¹æ®Šç®—æ³•ç®—å‡ºä¸€ä¸ª session çš„ IDï¼Œç”¨æ¥æ ‡è¯†è¯¥ session å¯¹è±¡ã€‚ç”±äºå†…å­˜ç©ºé—´æ˜¯æ¯ä¸€ä¸ªæµè§ˆå™¨ç‹¬äº«çš„ï¼Œæ‰€æœ‰ç”¨æˆ·åœ¨è®¿é—®çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠä¿¡æ¯ä¿å­˜åœ¨ session å¯¹è±¡ä¸­ï¼ŒåŒæ—¶æœåŠ¡å™¨ä¼šæŠŠ sessionId å†™åˆ° cookie ä¸­ï¼Œå†æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šæŠŠ cookie(sessionId) å¸¦è¿‡æ¥ï¼Œæ‰¾åˆ°å¯¹åº”çš„ session å¯¹è±¡å³å¯</p><p>tomcat ç”Ÿæˆçš„ sessionID å«åš jsessionID</p></li></ul><p>ä¸¤è€…åŒºåˆ«ï¼š</p><ul><li><p>Cookie å­˜å‚¨åœ¨å®¢æˆ·ç«¯ä¸­ï¼Œè€Œ Session å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œç›¸å¯¹æ¥è¯´ Session å®‰å…¨æ€§æ›´é«˜ã€‚å¦‚æœè¦åœ¨ Cookie ä¸­å­˜å‚¨ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œä¸è¦ç›´æ¥å†™å…¥ Cookieï¼Œåº”è¯¥å°† Cookie ä¿¡æ¯åŠ å¯†ç„¶åä½¿ç”¨åˆ°çš„æ—¶å€™å†å»æœåŠ¡å™¨ç«¯è§£å¯†</p></li><li><p>Cookie ä¸€èˆ¬ç”¨æ¥ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œåœ¨ Cookie ä¸­ä¿å­˜å·²ç»ç™»å½•è¿‡å¾—ç”¨æˆ·ä¿¡æ¯ï¼Œä¸‹æ¬¡è®¿é—®ç½‘ç«™çš„æ—¶å€™å°±ä¸éœ€è¦é‡æ–°ç™»å½•ï¼Œå› ä¸ºç”¨æˆ·ç™»å½•çš„æ—¶å€™å¯ä»¥å­˜æ”¾ä¸€ä¸ª Token åœ¨ Cookie ä¸­ï¼Œä¸‹æ¬¡ç™»å½•çš„æ—¶å€™åªéœ€è¦æ ¹æ® Token å€¼æ¥æŸ¥æ‰¾ç”¨æˆ·å³å¯ï¼ˆä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œé‡æ–°ç™»å½•ä¸€èˆ¬è¦å°† Token é‡å†™ï¼‰ï¼Œæ‰€ä»¥ç™»å½•ä¸€æ¬¡ç½‘ç«™åè®¿é—®ç½‘ç«™å…¶ä»–é¡µé¢ä¸éœ€è¦é‡æ–°ç™»å½•</p></li><li><p>Session é€šè¿‡æœåŠ¡ç«¯è®°å½•ç”¨æˆ·çš„çŠ¶æ€ï¼ŒæœåŠ¡ç«¯ç»™ç‰¹å®šçš„ç”¨æˆ·åˆ›å»ºç‰¹å®šçš„ Session ä¹‹åå°±å¯ä»¥æ ‡è¯†è¿™ä¸ªç”¨æˆ·å¹¶ä¸”è·Ÿè¸ªè¿™ä¸ªç”¨æˆ·</p></li><li><p>Cookie åªèƒ½å­˜å‚¨ ASCII ç ï¼Œè€Œ Session å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®</p></li></ul><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://blog.csdn.net/weixin_43625577/article/details/92393581" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_43625577/article/details/92393581<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><hr><h3 id="åŸºæœ¬ä»‹ç»-2" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä»‹ç»-2" aria-hidden="true">#</a> åŸºæœ¬ä»‹ç»</h3><p>Cookieï¼šå®¢æˆ·ç«¯ä¼šè¯ç®¡ç†æŠ€æœ¯ï¼ŒæŠŠè¦å…±äº«çš„æ•°æ®ä¿å­˜åˆ°äº†å®¢æˆ·ç«¯ï¼ˆä¹Ÿå°±æ˜¯æµè§ˆå™¨ç«¯ï¼‰ã€‚æ¯æ¬¡è¯·æ±‚æ—¶ï¼ŒæŠŠä¼šè¯ä¿¡æ¯å¸¦åˆ°æœåŠ¡å™¨ï¼Œä»è€Œå®ç°å¤šæ¬¡è¯·æ±‚çš„æ•°æ®å…±äº«ã€‚</p><p>ä½œç”¨ï¼šä¿å­˜å®¢æˆ·æµè§ˆå™¨è®¿é—®ç½‘ç«™çš„ç›¸å…³å†…å®¹ï¼ˆéœ€è¦å®¢æˆ·ç«¯ä¸ç¦ç”¨ Cookieï¼‰ï¼Œä»è€Œåœ¨æ¯æ¬¡è®¿é—®åŒä¸€ä¸ªå†…å®¹æ—¶ï¼Œå…ˆä»æœ¬åœ°ç¼“å­˜è·å–ï¼Œä½¿èµ„æºå…±äº«ï¼Œæé«˜æ•ˆç‡ã€‚</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Cookieç±»è®²è§£.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h3 id="åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> åŸºæœ¬ä½¿ç”¨</h3><h4 id="å¸¸ç”¨api" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨api" aria-hidden="true">#</a> å¸¸ç”¨API</h4><ul><li><p><strong>Cookieå±æ€§ï¼š</strong></p><table><thead><tr><th>å±æ€§åç§°</th><th>å±æ€§ä½œç”¨</th><th>æ˜¯å¦é‡è¦</th></tr></thead><tbody><tr><td>name</td><td>cookieçš„åç§°</td><td>å¿…è¦å±æ€§</td></tr><tr><td>value</td><td>cookieçš„å€¼ï¼ˆä¸èƒ½æ˜¯ä¸­æ–‡ï¼‰</td><td>å¿…è¦å±æ€§</td></tr><tr><td>path</td><td>cookieçš„è·¯å¾„</td><td>é‡è¦</td></tr><tr><td>domain</td><td>cookieçš„åŸŸå</td><td>é‡è¦</td></tr><tr><td>maxAge</td><td>cookieçš„ç”Ÿå­˜æ—¶é—´</td><td>é‡è¦</td></tr><tr><td>version</td><td>cookieçš„ç‰ˆæœ¬å·</td><td>ä¸é‡è¦</td></tr><tr><td>comment</td><td>cookieçš„è¯´æ˜</td><td>ä¸é‡è¦</td></tr></tbody></table><p>æ³¨æ„ï¼šCookie æœ‰å¤§å°ï¼Œä¸ªæ•°é™åˆ¶ã€‚æ¯ä¸ªç½‘ç«™æœ€å¤šåªèƒ½å­˜20ä¸ª Cookieï¼Œä¸”å¤§å°ä¸èƒ½è¶…è¿‡ 4kbã€‚åŒæ—¶æ‰€æœ‰ç½‘ç«™çš„ Cookie æ€»æ•°ä¸è¶…è¿‡300ä¸ªã€‚</p></li><li><p><strong>Cookieç±»APIï¼š</strong></p><ul><li><p><code>Cookie(String name, String value)</code> : æ„é€ æ–¹æ³•åˆ›å»º Cookie å¯¹è±¡</p></li><li><p>Cookie å±æ€§å¯¹åº”çš„ set å’Œ get æ–¹æ³•ï¼Œname å±æ€§è¢« final ä¿®é¥°ï¼Œæ²¡æœ‰ set æ–¹æ³•</p></li></ul></li><li><p>HttpServletResponse ç±» APIï¼š</p><ul><li><code>void addCookie(Cookie cookie)</code>ï¼šå‘å®¢æˆ·ç«¯æ·»åŠ  Cookieï¼ŒAdds cookie to the response</li></ul></li><li><p>HttpServletRequestç±»APIï¼š</p><ul><li><code>Cookie[] getCookies()</code>ï¼šè·å–æ‰€æœ‰çš„ Cookie å¯¹è±¡ï¼Œclient sent with this request</li></ul></li></ul><hr><h4 id="æœ‰æ•ˆæœŸ" tabindex="-1"><a class="header-anchor" href="#æœ‰æ•ˆæœŸ" aria-hidden="true">#</a> æœ‰æ•ˆæœŸ</h4><p>å¦‚æœä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¡¨ç¤ºè¿™ä¸ª Cookie ç”Ÿå‘½å‘¨æœŸä¸ºæµè§ˆå™¨ä¼šè¯æœŸé—´ï¼Œåªè¦å…³é—­æµè§ˆå™¨çª—å£ Cookie å°±æ¶ˆå¤±ï¼Œè¿™ç§ç”Ÿå‘½æœŸä¸ºæµè§ˆä¼šè¯æœŸçš„ Cookie è¢«ç§°ä¸ºä¼šè¯ Cookieï¼Œä¼šè¯ Cookie ä¸€èˆ¬ä¸ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯ä¿å­˜åœ¨å†…å­˜é‡Œã€‚</p><p>å¦‚æœè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæµè§ˆå™¨å°±ä¼šæŠŠ Cookie ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œå…³é—­åå†æ¬¡æ‰“å¼€æµè§ˆå™¨ï¼Œè¿™äº› Cookie ä¾ç„¶æœ‰æ•ˆç›´åˆ°è¶…è¿‡è®¾å®šçš„è¿‡æœŸæ—¶é—´ã€‚å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„ Cookie å¯ä»¥åœ¨<strong>ä¸åŒçš„æµè§ˆå™¨è¿›ç¨‹é—´å…±äº«</strong>ï¼Œæ¯”å¦‚ä¸¤ä¸ª IE çª—å£ï¼Œè€Œå¯¹äºä¿å­˜åœ¨å†…å­˜çš„ Cookieï¼Œä¸åŒçš„æµè§ˆå™¨æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼</p><p>è®¾ç½® Cookie å­˜æ´»æ—¶é—´ APIï¼š<code>void setMaxAge(int expiry)</code></p><ul><li>-1ï¼šé»˜è®¤ï¼Œä»£è¡¨ Cookie æ•°æ®å­˜åˆ°æµè§ˆå™¨å…³é—­ï¼ˆä¿å­˜åœ¨æµè§ˆå™¨æ–‡ä»¶ä¸­ï¼‰</li><li>0ï¼šä»£è¡¨åˆ é™¤ Cookieï¼Œå¦‚æœè¦åˆ é™¤ Cookie è¦ç¡®ä¿<strong>è·¯å¾„ä¸€è‡´</strong></li><li>æ­£æ•´æ•°ï¼šä»¥ç§’ä¸ºå•ä½ä¿å­˜æ•°æ®æœ‰æœ‰æ•ˆæ—¶é—´ï¼ˆæŠŠç¼“å­˜æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸­ï¼‰</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo01&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.é€šè¿‡å“åº”å¯¹è±¡å†™å‡ºæç¤ºä¿¡æ¯</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;æ¬¢è¿è®¿é—®æœ¬ç½‘ç«™ï¼Œæ‚¨çš„æœ€åè®¿é—®æ—¶é—´ä¸ºï¼š&lt;br&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2.åˆ›å»ºCookieå¯¹è±¡ï¼Œç”¨äºè®°å½•æœ€åè®¿é—®æ—¶é—´</span>
        <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">,</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3.è®¾ç½®æœ€å¤§å­˜æ´»æ—¶é—´</span>
        cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//cookie.setMaxAge(0);    // ç«‹å³æ¸…é™¤</span>

        <span class="token comment">//4.å°†cookieå¯¹è±¡æ·»åŠ åˆ°å®¢æˆ·ç«¯</span>
        resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//5.è·å–cookie</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Cookie</span> c <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//6.è·å–cookieå¯¹è±¡ä¸­çš„valueï¼Œè¿›è¡Œå†™å‡º</span>
                <span class="token class-name">String</span> value <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                pw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="æœ‰æ•ˆè·¯å¾„" tabindex="-1"><a class="header-anchor" href="#æœ‰æ•ˆè·¯å¾„" aria-hidden="true">#</a> æœ‰æ•ˆè·¯å¾„</h4><p><code>setPath(String url)</code> : Cookie è®¾ç½®æœ‰æ•ˆè·¯å¾„</p><p>æœ‰æ•ˆè·¯å¾„ä½œç”¨ :</p><ol><li>ä¿è¯ä¸ä¼šæºå¸¦åˆ«çš„ç½‘ç«™/é¡¹ç›®é‡Œé¢çš„ Cookie åˆ°æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®</li><li>è·¯å¾„ä¸ä¸€æ ·ï¼ŒCookie çš„ key å¯ä»¥ç›¸åŒ</li><li>ä¿è¯è‡ªå·±çš„é¡¹ç›®å¯ä»¥åˆç†çš„åˆ©ç”¨è‡ªå·±é¡¹ç›®çš„ Cookie</li></ol><p>åˆ¤æ–­è·¯å¾„æ˜¯å¦æºå¸¦ Cookieï¼šè¯·æ±‚èµ„æº URI.startWith(cookieçš„path)ï¼Œè¿”å› true å°±å¸¦</p><table><thead><tr><th>è®¿é—®URL</th><th>URIéƒ¨åˆ†</th><th>Cookieçš„Path</th><th>æ˜¯å¦æºå¸¦Cookie</th><th>èƒ½å¦å–åˆ°Cookie</th></tr></thead><tbody><tr><td><a href="http://localhost:8080/servlet/servletDemo02" target="_blank" rel="noopener noreferrer">servletDemo02<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>/servlet/servletDemo02</td><td>/servlet/</td><td>å¸¦</td><td>èƒ½å–åˆ°</td></tr><tr><td><a href="http://localhost:8080/servlet/servletDemo03" target="_blank" rel="noopener noreferrer">servletDemo03<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>/servlet/servletDemo03</td><td>/servlet/</td><td>å¸¦</td><td>èƒ½å–åˆ°</td></tr><tr><td><a href="http://localhost:8080/servlet/aaa/servletDemo03" target="_blank" rel="noopener noreferrer">servletDemo04<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>/servlet/aaa/servletDemo04</td><td>/servlet/</td><td>å¸¦</td><td>èƒ½å–åˆ°</td></tr><tr><td><a href="http://localhost:8080/bbb/servletDemo03" target="_blank" rel="noopener noreferrer">servletDemo05<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>/bbb/servletDemo04</td><td>/servlet/</td><td>ä¸å¸¦</td><td>ä¸èƒ½å–åˆ°</td></tr></tbody></table><p>åªæœ‰å½“è®¿é—®èµ„æºçš„ url åŒ…å«æ­¤ cookie çš„æœ‰æ•ˆ path çš„æ—¶å€™ï¼Œæ‰ä¼šæºå¸¦è¿™ä¸ª cookie</p><p>æƒ³è¦å½“å‰é¡¹ç›®ä¸‹çš„ Servlet å¯ä»¥ä½¿ç”¨è¯¥ cookieï¼Œä¸€èˆ¬è®¾ç½®ï¼š<code>cookie.setPath(request.getContextPath())</code></p><hr><h4 id="å®‰å…¨æ€§" tabindex="-1"><a class="header-anchor" href="#å®‰å…¨æ€§" aria-hidden="true">#</a> å®‰å…¨æ€§</h4><p>å¦‚æœ Cookie ä¸­è®¾ç½®äº† HttpOnly å±æ€§ï¼Œé€šè¿‡ js è„šæœ¬å°†æ— æ³•è¯»å–åˆ° cookie ä¿¡æ¯ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆçš„é˜²æ­¢ XSS æ”»å‡»ï¼Œçªƒå– cookie å†…å®¹ï¼Œè¿™æ ·å°±å¢åŠ äº†å®‰å…¨æ€§ï¼Œå³ä¾¿æ˜¯è¿™æ ·ï¼Œä¹Ÿä¸è¦å°†é‡è¦ä¿¡æ¯å­˜å…¥cookieã€‚</p><p>XSS å…¨ç§° Cross SiteScriptï¼Œè·¨ç«™è„šæœ¬æ”»å‡»ï¼Œæ˜¯Webç¨‹åºä¸­å¸¸è§çš„æ¼æ´ï¼ŒXSS å±äºè¢«åŠ¨å¼ä¸”ç”¨äºå®¢æˆ·ç«¯çš„æ”»å‡»æ–¹å¼ï¼Œæ‰€ä»¥å®¹æ˜“è¢«å¿½ç•¥å…¶å±å®³æ€§ã€‚å…¶åŸç†æ˜¯æ”»å‡»è€…å‘æœ‰ XSS æ¼æ´çš„ç½‘ç«™ä¸­è¾“å…¥(ä¼ å…¥)æ¶æ„çš„ HTML ä»£ç ï¼Œå½“å…¶å®ƒç”¨æˆ·æµè§ˆè¯¥ç½‘ç«™æ—¶ï¼Œè¿™æ®µHTMLä»£ç ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œä»è€Œè¾¾åˆ°æ”»å‡»çš„ç›®çš„ã€‚å¦‚ç›—å–ç”¨æˆ· Cookieã€ç ´åé¡µé¢ç»“æ„ã€é‡å®šå‘åˆ°å…¶å®ƒç½‘ç«™ç­‰ã€‚</p><hr><h2 id="session" tabindex="-1"><a class="header-anchor" href="#session" aria-hidden="true">#</a> Session</h2><h3 id="åŸºæœ¬ä»‹ç»-3" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä»‹ç»-3" aria-hidden="true">#</a> åŸºæœ¬ä»‹ç»</h3><p>Sessionï¼šæœåŠ¡å™¨ç«¯ä¼šè¯ç®¡ç†æŠ€æœ¯ï¼Œæœ¬è´¨ä¹Ÿæ˜¯é‡‡ç”¨å®¢æˆ·ç«¯ä¼šè¯ç®¡ç†æŠ€æœ¯ï¼Œä¸è¿‡åœ¨å®¢æˆ·ç«¯ä¿å­˜çš„æ˜¯ä¸€ä¸ªç‰¹æ®Šæ ‡è¯†ï¼Œå…±äº«çš„æ•°æ®ä¿å­˜åˆ°äº†æœåŠ¡å™¨çš„å†…å­˜å¯¹è±¡ä¸­ã€‚æ¯æ¬¡è¯·æ±‚æ—¶ï¼Œä¼šå°†ç‰¹æ®Šæ ‡è¯†å¸¦åˆ°æœåŠ¡å™¨ç«¯ï¼Œæ ¹æ®æ ‡è¯†æ¥æ‰¾åˆ°å¯¹åº”çš„å†…å­˜ç©ºé—´ï¼Œä»è€Œå®ç°æ•°æ®å…±äº«ã€‚ç®€å•è¯´å®ƒå°±æ˜¯ä¸€ä¸ªæœåŠ¡ç«¯ä¼šè¯å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨ç”¨æˆ·çš„ä¼šè¯æ•°æ®</p><p>Session åŸŸï¼ˆä¼šè¯åŸŸï¼‰å¯¹è±¡æ˜¯ Servlet è§„èŒƒä¸­å››å¤§åŸŸå¯¹è±¡ä¹‹ä¸€ï¼Œå¹¶ä¸”å®ƒä¹Ÿæ˜¯ç”¨äºå®ç°æ•°æ®å…±äº«çš„</p><table><thead><tr><th>åŸŸå¯¹è±¡</th><th>åŠŸèƒ½</th><th>åˆ›å»º</th><th>é”€æ¯</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ServletContext</td><td>åº”ç”¨åŸŸ</td><td>æœåŠ¡å™¨å¯åŠ¨</td><td>æœåŠ¡å™¨å…³é—­</td><td>åœ¨æ•´ä¸ªåº”ç”¨ä¹‹é—´å®ç°æ•°æ®å…±äº«<br>ï¼ˆè®°å½•ç½‘ç«™è®¿é—®æ¬¡æ•°ï¼ŒèŠå¤©å®¤ï¼‰</td></tr><tr><td>ServletRequest</td><td>è¯·æ±‚åŸŸ</td><td>è¯·æ±‚åˆ°æ¥</td><td>å“åº”äº†è¿™ä¸ªè¯·æ±‚</td><td>åœ¨å½“å‰è¯·æ±‚æˆ–è€…è¯·æ±‚è½¬å‘ä¹‹é—´å®ç°æ•°æ®å…±äº«</td></tr><tr><td>HttpSession</td><td>ä¼šè¯åŸŸ</td><td>getSession()</td><td>sessionè¿‡æœŸï¼Œè°ƒç”¨invalidate()ï¼ŒæœåŠ¡å™¨å…³é—­</td><td>åœ¨å½“å‰ä¼šè¯èŒƒå›´ä¸­å®ç°æ•°æ®å…±äº«ï¼Œå¯ä»¥åœ¨å¤šæ¬¡è¯·æ±‚ä¸­å®ç°æ•°æ®å…±äº«ã€‚<br>ï¼ˆéªŒè¯ç æ ¡éªŒ, ä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€ç­‰ï¼‰</td></tr></tbody></table><hr><h3 id="åŸºæœ¬ä½¿ç”¨-1" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨-1" aria-hidden="true">#</a> åŸºæœ¬ä½¿ç”¨</h3><h4 id="è·å–ä¼šè¯" tabindex="-1"><a class="header-anchor" href="#è·å–ä¼šè¯" aria-hidden="true">#</a> è·å–ä¼šè¯</h4><p>HttpServletRequestç±»è·å–Sessionï¼š</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>HttpSession getSession()</td><td>è·å–HttpSessionå¯¹è±¡</td></tr><tr><td>HttpSession getSession(boolean creat)</td><td>è·å–HttpSessionå¯¹è±¡ï¼Œæœªè·å–åˆ°æ˜¯å¦è‡ªåŠ¨åˆ›å»º</td></tr></tbody></table><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Sessionè·å–çš„ä¸¤ä¸ªæ–¹æ³•.png" style="zoom:80%;"><hr><h4 id="å¸¸ç”¨api-1" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨api-1" aria-hidden="true">#</a> å¸¸ç”¨API</h4><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>void setAttribute(String name, Object value)</td><td>è®¾ç½®ä¼šè¯åŸŸä¸­çš„æ•°æ®</td></tr><tr><td>Object getAttribute(String name)</td><td>è·å–æŒ‡å®šåç§°çš„ä¼šè¯åŸŸæ•°æ®</td></tr><tr><td>Enumeration&lt;String&gt; getAttributeNames()</td><td>è·å–æ‰€æœ‰ä¼šè¯åŸŸæ‰€æœ‰å±æ€§çš„åç§°</td></tr><tr><td>void removeAttribute(String name)</td><td>ç§»é™¤ä¼šè¯åŸŸä¸­æŒ‡å®šåç§°çš„æ•°æ®</td></tr><tr><td>String getId()</td><td>è·å–å”¯ä¸€æ ‡è¯†åç§°ï¼ŒJsessionidçš„å€¼</td></tr><tr><td>void invalidate()</td><td>ç«‹å³å¤±æ•ˆsession</td></tr></tbody></table><hr><h4 id="å®ç°ä¼šè¯" tabindex="-1"><a class="header-anchor" href="#å®ç°ä¼šè¯" aria-hidden="true">#</a> å®ç°ä¼šè¯</h4><p>é€šè¿‡ç¬¬ä¸€ä¸ªServletè®¾ç½®å…±äº«çš„æ•°æ®ç”¨æˆ·åï¼Œå¹¶åœ¨ç¬¬äºŒä¸ªServletè·å–åˆ°</p><p>é¡¹ç›®æ‰§è¡Œå®Œä»¥åï¼Œå»æµè§ˆå™¨æŠ“åŒ…ï¼ŒRequest Headers ä¸­çš„ Cookie JSESSIONIDçš„å€¼æ˜¯ä¸€æ ·çš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo01&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.è·å–è¯·æ±‚çš„ç”¨æˆ·å</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.è·å–HttpSessionçš„å¯¹è±¡</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.å°†ç”¨æˆ·åä¿¡æ¯æ·»åŠ åˆ°å…±äº«æ•°æ®ä¸­</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo02&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo02</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.è·å–HttpSessionå¯¹è±¡</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.è·å–å…±äº«æ•°æ®</span>
        <span class="token class-name">Object</span> username <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.å°†æ•°æ®å“åº”ç»™æµè§ˆå™¨</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>username<span class="token operator">+</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="ç”Ÿå‘½å‘¨æœŸ-1" tabindex="-1"><a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸ-1" aria-hidden="true">#</a> ç”Ÿå‘½å‘¨æœŸ</h4><p>Session çš„åˆ›å»ºï¼šä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯ä»¥ä¸º Session åœ¨æœ‰å®¢æˆ·ç«¯è®¿é—®æ—¶å°±è¢«åˆ›å»ºï¼Œäº‹å®æ˜¯ç›´åˆ°æŸ server ç«¯ç¨‹åºï¼ˆå¦‚ Servletï¼‰è°ƒç”¨ <code>HttpServletRequest.getSession(true)</code> è¿™æ ·çš„è¯­å¥æ—¶æ‰ä¼šè¢«åˆ›å»º</p><p>Session åœ¨ä»¥ä¸‹æƒ…å†µä¼šè¢«åˆ é™¤ï¼š</p><ul><li>ç¨‹åºè°ƒç”¨ HttpSession.invalidate()</li><li>è·ç¦»ä¸Šä¸€æ¬¡æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„ session id æ—¶é—´é—´éš”è¶…è¿‡äº† session çš„æœ€å¤§æœ‰æ•ˆæ—¶é—´</li><li>æœåŠ¡å™¨è¿›ç¨‹è¢«åœæ­¢</li></ul><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>å®¢æˆ·ç«¯åªä¿å­˜ sessionID åˆ° cookie ä¸­ï¼Œè€Œä¸ä¼šä¿å­˜ session</li><li>å…³é—­æµè§ˆå™¨åªä¼šä½¿å­˜å‚¨åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨å†…å­˜ä¸­çš„ cookie å¤±æ•ˆï¼Œä¸ä¼šä½¿æœåŠ¡å™¨ç«¯çš„ session å¯¹è±¡å¤±æ•ˆï¼ŒåŒæ ·ä¹Ÿä¸ä¼šä½¿å·²ç»ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šçš„æŒä¹…åŒ–cookieæ¶ˆå¤±</li></ul><p>æ‰“å¼€ä¸¤ä¸ªæµè§ˆå™¨çª—å£è®¿é—®åº”ç”¨ç¨‹åºä¼šä½¿ç”¨çš„æ˜¯ä¸åŒçš„sessionï¼Œé€šå¸¸ session cookie æ˜¯ä¸èƒ½è·¨çª—å£ä½¿ç”¨ï¼Œå½“æ–°å¼€äº†ä¸€ä¸ªæµè§ˆå™¨çª—å£è¿›å…¥ç›¸åŒé¡µé¢æ—¶ï¼Œç³»ç»Ÿä¼šèµ‹äºˆä¸€ä¸ªæ–°çš„ session idï¼Œå®ç°è·¨çª—å£ä¿¡æ¯å…±äº«ï¼š</p><ul><li>å…ˆæŠŠ session id ä¿å­˜åœ¨ persistent cookie ä¸­ï¼ˆé€šè¿‡è®¾ç½®sessionçš„æœ€å¤§æœ‰æ•ˆæ—¶é—´ï¼‰</li><li>åœ¨æ–°çª—å£ä¸­è¯»å‡ºæ¥ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸Šä¸€ä¸ªçª—å£çš„ session idï¼Œè¿™æ ·é€šè¿‡ session cookie å’Œ persistent cookie çš„ç»“åˆå°±å¯ä»¥å®ç°è·¨çª—å£çš„ä¼šè¯è·Ÿè¸ª</li></ul><hr><h3 id="ä¼šè¯é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ä¼šè¯é—®é¢˜" aria-hidden="true">#</a> ä¼šè¯é—®é¢˜</h3><h4 id="ç¦ç”¨cookie" tabindex="-1"><a class="header-anchor" href="#ç¦ç”¨cookie" aria-hidden="true">#</a> ç¦ç”¨Cookie</h4><p>æµè§ˆå™¨ç¦ç”¨Cookieè§£å†³åŠæ³•ï¼š</p><ul><li><p>æ–¹å¼ä¸€ï¼šé€šè¿‡æç¤ºä¿¡æ¯å‘ŠçŸ¥ç”¨æˆ·</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo03&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo03</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.è·å–HttpSessionå¯¹è±¡</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>session <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸ºäº†ä¸å½±å“æ­£å¸¸çš„ä½¿ç”¨ï¼Œè¯·ä¸è¦ç¦ç”¨æµè§ˆå™¨çš„Cookie~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ–¹å¼äºŒï¼šè®¿é—®æ—¶æ‹¼æ¥ jsessionid æ ‡è¯†ï¼Œé€šè¿‡ encodeURL() æ–¹æ³•<strong>é‡å†™åœ°å€</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//å®ç°urlé‡å†™  ç›¸å½“äºåœ¨åœ°å€æ åé¢æ‹¼æ¥äº†ä¸€ä¸ªjsessionid</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;a href=&#39;&quot;</span><span class="token operator">+</span> resp<span class="token punctuation">.</span>encodeURL
                           <span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/session/servletDemo03&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                           <span class="token string">&quot;&#39;&gt;go servletDemo03&lt;/a&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="é’åŒ–æ´»åŒ–" tabindex="-1"><a class="header-anchor" href="#é’åŒ–æ´»åŒ–" aria-hidden="true">#</a> é’åŒ–æ´»åŒ–</h4><p>Session å­˜æ”¾åœ¨æœåŠ¡å™¨ç«¯çš„å†…å­˜ä¸­ï¼Œå¯ä»¥åšæŒä¹…åŒ–ç®¡ç†ã€‚</p><p>é’åŒ–ï¼šåºåˆ—åŒ–ï¼ŒæŒä¹…æ€ã€‚æŠŠé•¿æ—¶é—´ä¸ç”¨ï¼Œä½†è¿˜ä¸åˆ°è¿‡æœŸæ—¶é—´çš„ HttpSession è¿›è¡Œåºåˆ—åŒ–å†™åˆ°ç£ç›˜ä¸Šã€‚</p><p>æ´»åŒ–ï¼šç›¸åçš„çŠ¶æ€</p><p>ä½•æ—¶é’åŒ–ï¼š</p><ul><li>å½“è®¿é—®é‡å¾ˆå¤§æ—¶ï¼ŒæœåŠ¡å™¨ä¼šæ ¹æ®getLastAccessTimeæ¥è¿›è¡Œæ’åºï¼Œå¯¹é•¿æ—¶é—´ä¸ç”¨ï¼Œä½†æ˜¯è¿˜æ²¡åˆ°è¿‡æœŸæ—¶é—´çš„HttpSessionè¿›è¡Œåºåˆ—åŒ–ï¼ˆæŒä¹…åŒ–ï¼‰</li><li>å½“æœåŠ¡å™¨è¿›è¡Œé‡å¯çš„æ—¶å€™ï¼Œä¸ºäº†ä¿æŒå®¢æˆ·HttpSessionä¸­çš„æ•°æ®ï¼Œä¹Ÿè¦å¯¹HttpSessionè¿›è¡Œåºåˆ—åŒ–ï¼ˆæŒä¹…åŒ–ï¼‰</li></ul><p>æ³¨æ„ï¼š</p><ul><li>HttpSessionçš„æŒä¹…åŒ–ç”±æœåŠ¡å™¨æ¥è´Ÿè´£ç®¡ç†ï¼Œæˆ‘ä»¬ä¸ç”¨å…³å¿ƒ</li><li>åªæœ‰å®ç°äº†åºåˆ—åŒ–æ¥å£çš„ç±»æ‰èƒ½è¢«åºåˆ—åŒ–</li></ul><hr><h2 id="jsp" tabindex="-1"><a class="header-anchor" href="#jsp" aria-hidden="true">#</a> JSP</h2><h3 id="jspæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#jspæ¦‚è¿°" aria-hidden="true">#</a> JSPæ¦‚è¿°</h3><p>JSP(Java Server Page)ï¼šæ˜¯ä¸€ç§åŠ¨æ€ç½‘é¡µæŠ€æœ¯æ ‡å‡†ã€‚ï¼ˆé¡µé¢æŠ€æœ¯ï¼‰</p><p>JSPæ˜¯åŸºäºJavaè¯­è¨€çš„ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯Servletï¼Œä¸€ä¸ªç‰¹æ®Šçš„Servletã€‚</p><p>JSPéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥å¤„ç†å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œå¹¶æ ¹æ®è¯·æ±‚å†…å®¹åŠ¨æ€çš„ç”ŸæˆHTMLã€XMLæˆ–å…¶ä»–æ ¼å¼æ–‡æ¡£çš„Webç½‘é¡µï¼Œç„¶åå“åº”ç»™å®¢æˆ·ç«¯ã€‚</p><table><thead><tr><th>ç±»åˆ«</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>HTML</td><td>å¼€å‘é™æ€èµ„æºï¼Œä¸èƒ½åŒ…å«javaä»£ç ï¼Œæ— æ³•æ·»åŠ åŠ¨æ€æ•°æ®ã€‚</td></tr><tr><td>CSS</td><td>ç¾åŒ–é¡µé¢</td></tr><tr><td>JavaScript</td><td>ç»™ç½‘é¡µæ·»åŠ åŠ¨æ€æ•ˆæœ</td></tr><tr><td>Servlet</td><td>ç¼–å†™javaä»£ç ï¼Œå®ç°åå°åŠŸèƒ½å¤„ç†ï¼Œä½†æ˜¯å¾ˆä¸æ–¹ä¾¿ï¼Œå¼€å‘æ•ˆç‡ä½ã€‚</td></tr><tr><td>JSP</td><td>åŒ…æ‹¬äº†æ˜¾ç¤ºé¡µé¢æŠ€æœ¯ï¼ŒåŒæ—¶å…·å¤‡Servletè¾“å‡ºåŠ¨æ€èµ„æºçš„èƒ½åŠ›ã€‚ä½†æ˜¯ä¸é€‚åˆä½œä¸ºæ§åˆ¶å™¨æ¥ç”¨ã€‚</td></tr></tbody></table><h3 id="æ‰§è¡ŒåŸç†-1" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡ŒåŸç†-1" aria-hidden="true">#</a> æ‰§è¡ŒåŸç†</h3><ul><li><p>æ–°å»ºJavaEEå·¥ç¨‹ï¼Œç¼–å†™index.jspæ–‡ä»¶</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;JSPçš„å…¥é—¨&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
      è¿™æ˜¯ç¬¬ä¸€ä¸ªJSPé¡µé¢
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ‰§è¡Œè¿‡ç¨‹ï¼š</p><p>å®¢æˆ·ç«¯æäº¤è¯·æ±‚â€”â€”TomcatæœåŠ¡å™¨è§£æè¯·æ±‚åœ°å€â€”â€”æ‰¾åˆ°JSPé¡µé¢â€”â€”Tomcatå°†JSPé¡µé¢ç¿»è¯‘æˆServletçš„javaæ–‡ä»¶â€”â€”å°†ç¿»è¯‘å¥½çš„.javaæ–‡ä»¶ç¼–è¯‘æˆ.classæ–‡ä»¶â€”â€”è¿”å›åˆ°å®¢æˆ·æµè§ˆå™¨ä¸Š</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/JSPæ‰§è¡Œè¿‡ç¨‹.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>æº¯æºï¼Œæ‰“å¼€JSPç¿»è¯‘åçš„Javaæ–‡ä»¶</p><p><code>public final class index_jsp extends org.apache.jasper.runtime.HttpJspBase</code>ï¼Œ<code>public abstract class HttpJspBase extends HttpServlet implements HttpJspPage</code>ï¼ŒHttpJspBaseæ˜¯ä¸ªæŠ½è±¡ç±»ç»§æ‰¿HttpServletï¼Œæ‰€ä»¥JSPæœ¬è´¨ä¸Šç»§æ‰¿HttpServlet</p><p>åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°äº†è¾“å‡ºé¡µé¢çš„ä»£ç ï¼Œæœ¬è´¨éƒ½æ˜¯ç”¨out.write()è¾“å‡ºçš„JSPè¯­å¥</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/Jspçš„æœ¬è´¨è¯´æ˜.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>æ€»ç»“ï¼š<br> JSPå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„Servletï¼Œä¸»è¦æ˜¯ç”¨äºå±•ç¤ºåŠ¨æ€æ•°æ®ã€‚å®ƒå±•ç¤ºçš„æ–¹å¼æ˜¯ç”¨æµæŠŠæ•°æ®è¾“å‡ºå‡ºæ¥ï¼Œè€Œæˆ‘ä»¬åœ¨ä½¿ç”¨JSPæ—¶ï¼Œæ¶‰åŠHTMLçš„éƒ¨åˆ†ï¼Œéƒ½ä¸HTMLçš„ç”¨æ³•ä¸€è‡´ï¼Œè¿™éƒ¨åˆ†ç§°ä¸ºjspä¸­çš„æ¨¡æ¿å…ƒç´ ï¼Œå†³å®šäº†é¡µé¢çš„å¤–è§‚ã€‚</p></li></ul><hr><h3 id="jspè¯­æ³•" tabindex="-1"><a class="header-anchor" href="#jspè¯­æ³•" aria-hidden="true">#</a> JSPè¯­æ³•</h3><ul><li><p>JSPæ³¨é‡Šï¼š</p><table><thead><tr><th>æ³¨é‡Šç±»å‹</th><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>JSPæ³¨é‡Š</td><td>&lt;%--æ³¨é‡Šå†…å®¹--%&gt;</td><td>è¢«jspæ³¨é‡Šçš„éƒ¨åˆ†ä¸ä¼šè¢«ç¿»è¯‘æˆ.javaæ–‡ä»¶ï¼Œä¸ä¼šåœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤º</td></tr><tr><td>HTMLæ³¨é‡Š</td><td><!--HTMLæ³¨é‡Š--></td><td>åœ¨Jspä¸­å¯ä»¥ä½¿ç”¨htmlçš„æ³¨é‡Šï¼Œä½†æ˜¯åªèƒ½æ³¨é‡Šhtmlå…ƒç´ <br>è¢«htmlæ³¨é‡Šéƒ¨åˆ†ä¼šå‚ä¸ç¿»è¯‘ï¼Œå¹¶ä¸”ä¼šåœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤º</td></tr><tr><td>Javaæ³¨é‡Š</td><td>//; /* */</td><td></td></tr></tbody></table></li><li><p>Javaä»£ç å—</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>&lt;% æ­¤å¤„å†™javaä»£ç  %&gt;
&lt;%--ç”±tomcatè´Ÿè´£ç¿»è¯‘ï¼Œç¿»è¯‘ä¹‹åæ˜¯serviceæ–¹æ³•çš„æˆå‘˜å˜é‡--%&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>JSPè¡¨è¾¾å¼</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>&lt;%=è¡¨è¾¾å¼%&gt;
&lt;%--ç¿»è¯‘æˆService()æ–¹æ³•é‡Œé¢çš„å†…å®¹,ç›¸å½“äºè°ƒç”¨out.print()--%&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>JSPå£°æ˜</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>&lt;%! å£°æ˜çš„å˜é‡æˆ–æ–¹æ³• %&gt;
&lt;%--ç¿»è¯‘æˆServletç±»é‡Œé¢çš„å†…å®¹--%&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è¯­æ³•ç¤ºä¾‹ï¼š</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;jspè¯­æ³•&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%--1. è¿™æ˜¯æ³¨é‡Š--%&gt;

    &lt;%--
        2.javaä»£ç å—
        System.out.println(&quot;Hello JSP&quot;); æ™®é€šè¾“å‡ºè¯­å¥ï¼Œè¾“å‡ºåœ¨æ§åˆ¶å°!!
        out.println(&quot;Hello JSP&quot;);outæ˜¯JspWriterå¯¹è±¡ï¼Œè¾“å‡ºåœ¨é¡µé¢ä¸Š
    --%&gt;
    &lt;%
        System.out.println(&quot;Hello JSP&quot;);
        out.println(&quot;Hello JSP&lt;br&gt;&quot;);
        String str = &quot;hello&lt;br&gt;&quot;;
        out.println(str);
    %&gt;

    &lt;%--
        3.jspè¡¨è¾¾å¼,ç›¸å½“äº out.println(&quot;Hello&quot;);
    --%&gt;
    &lt;%=&quot;Hello&lt;br&gt;&quot;%&gt;

    &lt;%--
        4.jspä¸­çš„å£°æ˜(å˜é‡æˆ–æ–¹æ³•)
        å¦‚æœåŠ !  ä»£è¡¨çš„æ˜¯å£°æ˜çš„æ˜¯æˆå‘˜å˜é‡
        å¦‚æœä¸åŠ !  ä»£è¡¨çš„æ˜¯å£°æ˜çš„æ˜¯å±€éƒ¨å˜é‡,é¡µé¢æ˜¾ç¤ºabc
    --%&gt;
    &lt;%! String s = &quot;abc&quot;;%&gt;
    &lt;% String s = &quot;def&quot;;%&gt;
    &lt;%=s%&gt;
    
    &lt;%! public void getSum(){}%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>æ§åˆ¶å°è¾“å‡ºï¼šHello JSP
é¡µé¢è¾“å‡ºï¼š
	Hello JSP
	hello
	Hello
	def
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="jspæŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#jspæŒ‡ä»¤" aria-hidden="true">#</a> JSPæŒ‡ä»¤</h3><ul><li><p><strong>pageæŒ‡ä»¤ï¼š</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>&lt;%@ page  å±æ€§å=å±æ€§å€¼ å±æ€§å=å±æ€§å€¼... %&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>å±æ€§å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>contentType</td><td>è®¾ç½®å“åº”æ­£æ–‡æ”¯æŒçš„MIMEç±»å‹å’Œç¼–ç æ ¼å¼ï¼šcontentType=&quot;text/html;charset=UTF-8&quot;</td></tr><tr><td>language</td><td>å‘ŠçŸ¥å¼•æ“ï¼Œè„šæœ¬ä½¿ç”¨çš„è¯­è¨€ï¼Œé»˜è®¤ä¸ºJava</td></tr><tr><td>errorPage</td><td>å½“å‰é¡µé¢å‡ºç°å¼‚å¸¸åè·³è½¬çš„é¡µé¢</td></tr><tr><td>isErrorPage</td><td>æ˜¯å¦æŠ“ä½å¼‚å¸¸ã€‚å€¼ä¸ºtrueé¡µé¢ä¸­å°±èƒ½ä½¿ç”¨exceptionå¯¹è±¡ï¼Œæ‰“å°å¼‚å¸¸ä¿¡æ¯ã€‚é»˜è®¤å€¼false</td></tr><tr><td>import</td><td>å¯¼å…¥å“ªäº›åŒ…ï¼ˆç±»ï¼‰&lt;%@ page import=&quot;java.util.ArrayList&quot; %&gt;</td></tr><tr><td>session</td><td>æ˜¯å¦åˆ›å»ºHttpSessionå¯¹è±¡ï¼Œé»˜è®¤æ˜¯true</td></tr><tr><td>buffer</td><td>è®¾å®šJspWriterç”¨sè¾“å‡ºjspå†…å®¹çš„ç¼“å­˜å¤§å°ã€‚é»˜è®¤8kb</td></tr><tr><td>pageEncoding</td><td>ç¿»è¯‘jspæ—¶æ‰€ç”¨çš„ç¼–ç æ ¼å¼ï¼ŒpageEncoding=&quot;UTF-8&quot;ç›¸å½“äºç”¨UTF-8è¯»å–JSP</td></tr><tr><td>isELIgnored</td><td>æ˜¯å¦å¿½ç•¥ELè¡¨è¾¾å¼ï¼Œé»˜è®¤å€¼æ˜¯false</td></tr></tbody></table><p>Noteï¼šå½“ä½¿ç”¨å…¨å±€é”™è¯¯é¡µé¢ï¼Œå°±æ— é¡»é…ç½®errorPageå®ç°è·³è½¬é”™è¯¯é¡µé¢ï¼Œè€Œæ˜¯ç”±æœåŠ¡å™¨è´Ÿè´£è·³è½¬åˆ°é”™è¯¯é¡µé¢</p><ul><li><p>é…ç½®å…¨å±€é”™è¯¯é¡µé¢ï¼šweb.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-page</span><span class="token punctuation">&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exception-type</span><span class="token punctuation">&gt;</span></span>java.lang.Exception<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exception-type</span><span class="token punctuation">&gt;</span></span>    			
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">&gt;</span></span>/error.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-page</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-page</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-code</span><span class="token punctuation">&gt;</span></span>404<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-code</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">&gt;</span></span>/404.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-page</span><span class="token punctuation">&gt;</span></span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>**includeæŒ‡ä»¤ï¼š**åŒ…å«å…¶ä»–é¡µé¢</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>&lt;%@include file=&quot;è¢«åŒ…å«çš„é¡µé¢&quot; %&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å±æ€§ï¼šfileï¼Œä»¥/å¼€å¤´ï¼Œå°±ä»£è¡¨å½“å‰åº”ç”¨</p></li><li><p>**taglibæŒ‡ä»¤ï¼š**å¼•å…¥å¤–éƒ¨æ ‡ç­¾åº“</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>&lt;%taglib uri=&quot;æ ‡ç­¾åº“çš„åœ°å€&quot; prefix=&quot;å‰ç¼€åç§°&quot;%&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>htmlæ ‡ç­¾å’Œjspæ ‡ç­¾ä¸ç”¨å¼•å…¥</p></li></ul><hr><h3 id="éšå¼å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#éšå¼å¯¹è±¡" aria-hidden="true">#</a> éšå¼å¯¹è±¡</h3><h4 id="ä¹å¤§éšå¼å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#ä¹å¤§éšå¼å¯¹è±¡" aria-hidden="true">#</a> ä¹å¤§éšå¼å¯¹è±¡</h4><p>éšå¼å¯¹è±¡ï¼šåœ¨jspä¸­å¯ä»¥ä¸å£°æ˜å°±ç›´æ¥ä½¿ç”¨çš„å¯¹è±¡ã€‚å®ƒåªå­˜åœ¨äºjspä¸­ï¼Œå› ä¸ºjavaç±»ä¸­çš„å˜é‡å¿…é¡»è¦å…ˆå£°æ˜å†ä½¿ç”¨ã€‚<br> jspä¸­çš„éšå¼å¯¹è±¡ä¹Ÿå¹¶ä¸æ˜¯æœªå£°æ˜ï¼Œå®ƒæ˜¯åœ¨ç¿»è¯‘æˆ.javaæ–‡ä»¶æ—¶å£°æ˜çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨jspä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><table><thead><tr><th>éšå¼å¯¹è±¡åç§°</th><th>ç±»å‹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>request</td><td>javax.servlet.http.HttpServletRequest</td><td></td></tr><tr><td>response</td><td>javax.servlet.http.HttpServletResponse</td><td></td></tr><tr><td>session</td><td>javax.servlet.http.HttpSession</td><td>PageæŒ‡ä»¤å¯ä»¥æ§åˆ¶å¼€å…³</td></tr><tr><td>application</td><td>javax.servlet.ServletContext</td><td></td></tr><tr><td>page</td><td>Java.lang.Object</td><td>å½“å‰jspå¯¹åº”çš„servletå¼•ç”¨å®ä¾‹</td></tr><tr><td>config</td><td>javax.servlet.ServletConfig</td><td></td></tr><tr><td>exception</td><td>java.lang.Throwable</td><td>pageæŒ‡ä»¤æœ‰å¼€å…³</td></tr><tr><td>out</td><td>javax.servlet.jsp.JspWriter</td><td>å­—ç¬¦è¾“å‡ºæµï¼Œç›¸å½“äºprintwriter</td></tr><tr><td>pageContext</td><td>javax.servlet.jsp.PageContext</td><td>å¾ˆé‡è¦ï¼Œé¡µé¢åŸŸ</td></tr></tbody></table><h4 id="pagecontext" tabindex="-1"><a class="header-anchor" href="#pagecontext" aria-hidden="true">#</a> PageContext</h4><ul><li><p>PageContextå¯¹è±¡ç‰¹ç‚¹ï¼š</p><ul><li>PageContextdå¯¹è±¡æ˜¯JSPç‹¬æœ‰çš„å¯¹è±¡ï¼ŒServletä¸­æ²¡æœ‰</li><li>PageContextdå¯¹è±¡æ˜¯ä¸€ä¸ª<strong>é¡µé¢åŸŸï¼ˆä½œç”¨èŒƒå›´ï¼‰å¯¹è±¡</strong>ï¼Œè¿˜å¯ä»¥æ“ä½œå…¶ä»–ä¸‰ä¸ªåŸŸå¯¹è±¡ä¸­çš„å±æ€§</li><li>PageContextdå¯¹è±¡<strong>å¯ä»¥è·å–å…¶ä»–å…«ä¸ªéšå¼å¯¹è±¡</strong></li><li>PageContextdå¯¹è±¡æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸéšç€JSPçš„åˆ›å»ºè€Œè¯ç”Ÿï¼Œéšç€JSPçš„ç»“æŸè€Œæ¶ˆå¤±ã€‚æ¯ä¸ªJSPé¡µé¢éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„PageContext</li></ul></li><li><p>PageContextæ–¹æ³•å¦‚ä¸‹ï¼Œé¡µé¢åŸŸæ“ä½œçš„æ–¹æ³•å®šä¹‰åœ¨äº†PageContextçš„çˆ¶ç±»JspContextä¸­</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/PageContextæ–¹æ³•è¯¦è§£.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li></ul><hr><h3 id="å››å¤§åŸŸå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å››å¤§åŸŸå¯¹è±¡" aria-hidden="true">#</a> å››å¤§åŸŸå¯¹è±¡</h3><table><thead><tr><th>åŸŸå¯¹è±¡åç§°</th><th>èŒƒå›´</th><th>çº§åˆ«</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>PageContext</td><td>é¡µé¢èŒƒå›´</td><td>æœ€å°ï¼Œåªèƒ½åœ¨å½“å‰é¡µé¢ç”¨</td><td>å› èŒƒå›´å¤ªå°ï¼Œå¼€å‘ä¸­ç”¨çš„å¾ˆå°‘</td></tr><tr><td>ServletRequest</td><td>è¯·æ±‚èŒƒå›´</td><td>ä¸€æ¬¡è¯·æ±‚æˆ–å½“æœŸè¯·æ±‚è½¬å‘ç”¨</td><td>å½“è¯·æ±‚è½¬å‘ä¹‹åï¼Œå†æ¬¡è½¬å‘æ—¶è¯·æ±‚åŸŸä¸¢å¤±</td></tr><tr><td>HttpSession</td><td>ä¼šè¯èŒƒå›´</td><td>å¤šæ¬¡è¯·æ±‚æ•°æ®å…±äº«æ—¶ä½¿ç”¨</td><td>å¤šæ¬¡è¯·æ±‚å…±äº«æ•°æ®ï¼Œä½†ä¸åŒçš„å®¢æˆ·ç«¯ä¸èƒ½å…±äº«</td></tr><tr><td>ServletContext</td><td>åº”ç”¨èŒƒå›´</td><td>æœ€å¤§ï¼Œæ•´ä¸ªåº”ç”¨éƒ½å¯ä»¥ä½¿ç”¨</td><td>å°½é‡å°‘ç”¨ï¼Œå¦‚æœå¯¹æ•°æ®æœ‰ä¿®æ”¹éœ€è¦åšåŒæ­¥å¤„ç†</td></tr></tbody></table><hr><h3 id="mvcæ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#mvcæ¨¡å‹" aria-hidden="true">#</a> MVCæ¨¡å‹</h3><p>M : modelï¼Œ é€šå¸¸ç”¨äºå°è£…æ•°æ®ï¼Œå°è£…çš„æ˜¯æ•°æ®æ¨¡å‹<br> V : viewï¼Œé€šå¸¸ç”¨äºå±•ç¤ºæ•°æ®ã€‚åŠ¨æ€å±•ç¤ºç”¨jspé¡µé¢ï¼Œé™æ€æ•°æ®å±•ç¤ºç”¨html<br> C : controllerï¼Œé€šå¸¸ç”¨äºå¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯Servlet</p><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/MVCæ¨¡å‹.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h2 id="el" tabindex="-1"><a class="header-anchor" href="#el" aria-hidden="true">#</a> EL</h2><h3 id="elæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#elæ¦‚è¿°" aria-hidden="true">#</a> ELæ¦‚è¿°</h3><p>ELè¡¨è¾¾å¼ï¼šExpression Languageï¼Œæ„ä¸ºè¡¨è¾¾å¼è¯­è¨€ã€‚å®ƒæ˜¯Servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯JSP2.0è§„èŒƒåŠ å…¥çš„å†…å®¹ã€‚</p><p>ELè¡¨è¾¾å¼ä½œç”¨ï¼šåœ¨JSPé¡µé¢ä¸­è·å–æ•°æ®ï¼Œè®©JSPè„±ç¦»javaä»£ç å—å’ŒJSPè¡¨è¾¾å¼</p><p>ELè¡¨è¾¾å¼æ ¼å¼ï¼š <code>${è¡¨è¾¾å¼å†…å®¹}</code></p><p>ELè¡¨è¾¾å¼ç‰¹ç‚¹ï¼š</p><ul><li>æœ‰æ˜ç¡®çš„<strong>è¿”å›å€¼</strong></li><li>æŠŠå†…å®¹è¾“å‡ºåˆ°<strong>é¡µé¢</strong>ä¸Š</li><li><strong>åªèƒ½åœ¨å››å¤§åŸŸå¯¹è±¡ä¸­è·å–æ•°æ®</strong>ï¼Œä¸åœ¨å››å¤§åŸŸå¯¹è±¡ä¸­çš„æ•°æ®å–ä¸åˆ°ã€‚</li></ul><hr><h3 id="elç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#elç”¨æ³•" aria-hidden="true">#</a> ELç”¨æ³•</h3><h4 id="å¤šç§ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¤šç§ç±»å‹" aria-hidden="true">#</a> å¤šç§ç±»å‹</h4><p>ELè¡¨è¾¾å¼å¯ä»¥è·å–ä¸åŒç±»å‹æ•°æ®ï¼Œå‰ææ˜¯æ•°æ®æ”¾å…¥å››å¤§åŸŸå¯¹è±¡ã€‚</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page import=&quot;bean.Student&quot; %&gt;
&lt;%@ page import=&quot;java.util.ArrayList&quot; %&gt;
&lt;%@ page import=&quot;java.util.HashMap&quot; %&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ELè¡¨è¾¾å¼è·å–ä¸åŒç±»å‹æ•°æ®&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%--1.è·å–åŸºæœ¬æ•°æ®ç±»å‹--%&gt;
    &lt;% pageContext.setAttribute(&quot;num&quot;,10); %&gt;
    åŸºæœ¬æ•°æ®ç±»å‹ï¼š${num} &lt;br&gt;

    &lt;%--2.è·å–è‡ªå®šä¹‰å¯¹è±¡ç±»å‹--%&gt;
    &lt;%
        Student stu = new Student(&quot;å¼ ä¸‰&quot;,23);
        pageContext.setAttribute(&quot;stu&quot;,stu);
    %&gt;
    è‡ªå®šä¹‰å¯¹è±¡ï¼š${stu} &lt;br&gt;
    &lt;%--stu.name å®ç°åŸç† getName()--%&gt;
    å­¦ç”Ÿå§“åï¼š${stu.name} &lt;br&gt;
    å­¦ç”Ÿå¹´é¾„ï¼š${stu.age} &lt;br&gt;

    &lt;%--3.è·å–æ•°ç»„ç±»å‹--%&gt;
    &lt;%
        String[] arr = {&quot;hello&quot;,&quot;world&quot;};
        pageContext.setAttribute(&quot;arr&quot;,arr);
    %&gt;
    æ•°ç»„ï¼š${arr}  &lt;br&gt;
    0ç´¢å¼•å…ƒç´ ï¼š${arr[0]} &lt;br&gt;
    1ç´¢å¼•å…ƒç´ ï¼š${arr[1]} &lt;br&gt;

    &lt;%--4.è·å–Listé›†åˆ--%&gt;
    &lt;%
        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;aaa&quot;);
        list.add(&quot;bbb&quot;);
        pageContext.setAttribute(&quot;list&quot;,list);
    %&gt;
    Listé›†åˆï¼š${list} &lt;br&gt;
    0ç´¢å¼•å…ƒç´ ï¼š${list[0]} &lt;br&gt;

    &lt;%--5.è·å–Mapé›†åˆ--%&gt;
    &lt;%
        HashMap&lt;String,Student&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;hm01&quot;,new Student(&quot;å¼ ä¸‰&quot;,23));
        map.put(&quot;hm02&quot;,new Student(&quot;æå››&quot;,24));
        pageContext.setAttribute(&quot;map&quot;,map);
    %&gt;
    Mapé›†åˆï¼š${map}  &lt;br&gt;
    ç¬¬ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ï¼š${map.hm01}  &lt;br&gt;
    ç¬¬ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡çš„å§“åï¼š${map.hm01.name}
&lt;/body&gt;
&lt;/html&gt;

&lt;--é¡µé¢è¾“å‡ºæ•ˆæœ
åŸºæœ¬æ•°æ®ç±»å‹ï¼š10
è‡ªå®šä¹‰å¯¹è±¡ï¼šbean.Student@5f8da92c   (åœ°å€)
å­¦ç”Ÿå§“åï¼šå¼ ä¸‰
å­¦ç”Ÿå¹´é¾„ï¼š23
æ•°ç»„ï¼š[Ljava.lang.String;@4b3bd520
0ç´¢å¼•å…ƒç´ ï¼šhello
1ç´¢å¼•å…ƒç´ ï¼šworld
Listé›†åˆï¼š[aaa, bbb]
0ç´¢å¼•å…ƒç´ ï¼šaaa
Mapé›†åˆï¼š{hm01=bean.Student@4768d250, hm02=bean.Student@67f237d9}
ç¬¬ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ï¼šbean.Student@4768d250
ç¬¬ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡çš„å§“åï¼šå¼ ä¸‰
--&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="å¼‚å¸¸é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¼‚å¸¸é—®é¢˜" aria-hidden="true">#</a> å¼‚å¸¸é—®é¢˜</h4><p>ELè¡¨è¾¾å¼çš„æ³¨æ„äº‹é¡¹ï¼š</p><ol><li>ELè¡¨è¾¾å¼æ²¡æœ‰ç©ºæŒ‡é’ˆå¼‚å¸¸</li><li>ELè¡¨è¾¾å¼æ²¡æœ‰æ•°ç»„ä¸‹æ ‡è¶Šç•Œ</li><li>ELè¡¨è¾¾å¼æ²¡æœ‰å­—ç¬¦ä¸²æ‹¼æ¥</li></ol><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;ELè¡¨è¾¾å¼çš„æ³¨æ„äº‹é¡¹&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    ç¬¬ä¸€ä¸ªï¼šæ²¡æœ‰ç©ºæŒ‡é’ˆå¼‚å¸¸&lt;br/&gt;
    &lt;% String str = null;
        request.setAttribute(&quot;testNull&quot;,str);
    %&gt;
    strï¼š${testNull}
    &lt;hr/&gt;
    ç¬¬äºŒä¸ªï¼šæ²¡æœ‰æ•°ç»„ä¸‹æ ‡è¶Šç•Œ&lt;br/&gt;
    &lt;% String[] strs = new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};
        request.setAttribute(&quot;strs&quot;,strs);
    %&gt;
    å–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š${strs[0]}&lt;br/&gt;
    å–ç¬¬å…­ä¸ªå…ƒç´ ï¼š${strs[5]}&lt;br/&gt;
    &lt;hr/&gt;
    ç¬¬ä¸‰ä¸ªï¼šæ²¡æœ‰å­—ç¬¦ä¸²æ‹¼æ¥&lt;br/&gt;
    &lt;%--${strs[0]+strs[1]}--%&gt;
    æ‹¼æ¥ï¼š${strs[0]}+${strs[1]} &lt;%--æ³¨æ„æ‹¼æ¥--%&gt;
  &lt;/body&gt;
&lt;/html&gt;

&lt;--é¡µé¢è¾“å‡ºæ•ˆæœ
ç¬¬ä¸€ä¸ªï¼šæ²¡æœ‰ç©ºæŒ‡é’ˆå¼‚å¸¸
strï¼š
ç¬¬äºŒä¸ªï¼šæ²¡æœ‰æ•°ç»„ä¸‹æ ‡è¶Šç•Œ
å–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ša
å–ç¬¬å…­ä¸ªå…ƒç´ ï¼š
ç¬¬ä¸‰ä¸ªï¼šæ²¡æœ‰å­—ç¬¦ä¸²æ‹¼æ¥
æ‹¼æ¥ï¼ša+b
--&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="è¿ç®—ç¬¦" tabindex="-1"><a class="header-anchor" href="#è¿ç®—ç¬¦" aria-hidden="true">#</a> è¿ç®—ç¬¦</h4><p>ELè¡¨è¾¾å¼ä¸­è¿ç®—ç¬¦ï¼š</p><ul><li><p>å…³ç³»è¿ç®—ç¬¦ï¼š<img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/ELè¡¨è¾¾å¼å…³ç³»è¿ç®—ç¬¦.png" alt="" loading="lazy"></p></li><li><p>é€»è¾‘è¿ç®—ç¬¦ï¼š</p><table><thead><tr><th>é€»è¾‘è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&amp;&amp; æˆ– and</td><td>äº¤é›†</td></tr><tr><td>|| æˆ– or</td><td>å¹¶é›†</td></tr><tr><td>! æˆ– not</td><td>é</td></tr></tbody></table><p>â€‹</p></li><li><p>å…¶ä»–è¿ç®—ç¬¦</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>empty</td><td>1. åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºnull<br>2. åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²<br>3. åˆ¤æ–­å®¹å™¨å…ƒç´ æ˜¯å¦ä¸º0</td></tr><tr><td>æ¡ä»¶ ? è¡¨è¾¾å¼1 : è¡¨è¾¾å¼2</td><td>ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œæ¡ä»¶?çœŸ:å‡</td></tr></tbody></table></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ELè¡¨è¾¾å¼è¿ç®—ç¬¦&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%--empty--%&gt;
    &lt;%
        String str1 = null;
        String str2 = &quot;&quot;;
        int[] arr = {};
    %&gt;
    ${empty str1} &lt;br&gt;
    ${empty str2} &lt;br&gt;
    ${empty arr} &lt;br&gt;

    &lt;%--ä¸‰å…ƒè¿ç®—ç¬¦ã€‚è·å–æ€§åˆ«çš„æ•°æ®ï¼Œåœ¨å¯¹åº”çš„æŒ‰é’®ä¸Šè¿›è¡Œå‹¾é€‰--%&gt;
    &lt;% pageContext.setAttribute(&quot;gender&quot;,&quot;women&quot;); %&gt;
    &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;men&quot; ${gender==&quot;men&quot;?&quot;checked&quot;:&quot;&quot;}&gt;ç”·
    &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;women&quot; ${gender==&quot;women&quot;?&quot;checked&quot;:&quot;&quot;}&gt;å¥³
&lt;/body&gt;
&lt;/html&gt;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://seazean.oss-cn-beijing.aliyuncs.com/img/Web/ELè¡¨è¾¾å¼è¿ç®—ç¬¦æ•ˆæœå›¾.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h4 id="å››å¤§åŸŸæ•°æ®" tabindex="-1"><a class="header-anchor" href="#å››å¤§åŸŸæ•°æ®" aria-hidden="true">#</a> å››å¤§åŸŸæ•°æ®</h4><p>ELè¡¨è¾¾å¼åªèƒ½ä»ä»å››å¤§åŸŸä¸­è·å–æ•°æ®ï¼Œè°ƒç”¨çš„å°±æ˜¯<code>findAttribute(name,value);</code>æ–¹æ³•ï¼Œæ ¹æ®åç§°ç”±å°åˆ°å¤§åœ¨åŸŸå¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å°±è¿”å›ï¼Œæ‰¾ä¸åˆ°å°±ä»€ä¹ˆéƒ½ä¸æ˜¾ç¤ºã€‚</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ELè¡¨è¾¾å¼ä½¿ç”¨ç»†èŠ‚&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%--è·å–å››å¤§åŸŸå¯¹è±¡ä¸­çš„æ•°æ®--%&gt;
    &lt;%
        //pageContext.setAttribute(&quot;username&quot;,&quot;zhangsan&quot;);
        request.setAttribute(&quot;username&quot;,&quot;zhangsan&quot;);
        //session.setAttribute(&quot;username&quot;,&quot;zhangsan&quot;);
        //application.setAttribute(&quot;username&quot;,&quot;zhangsan&quot;);
    %&gt;
    ${username} &lt;br&gt;

    &lt;%--è·å–JSPä¸­å…¶ä»–å…«ä¸ªéšå¼å¯¹è±¡  è·å–è™šæ‹Ÿç›®å½•åç§°--%&gt;
    &lt;%= request.getContextPath()%&gt;
    ${pageContext.request.contextPath}
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="eléšå¼å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#eléšå¼å¯¹è±¡" aria-hidden="true">#</a> ELéšå¼å¯¹è±¡</h3><h4 id="elè¡¨è¾¾å¼éšå¼å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#elè¡¨è¾¾å¼éšå¼å¯¹è±¡" aria-hidden="true">#</a> ELè¡¨è¾¾å¼éšå¼å¯¹è±¡</h4><p>ELè¡¨è¾¾å¼ä¹Ÿä¸ºæˆ‘ä»¬æä¾›éšå¼å¯¹è±¡ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä¸å£°æ˜ç›´æ¥æ¥ä½¿ç”¨ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒå’ŒJSPçš„éšå¼å¯¹è±¡ä¸æ˜¯åŒä¸€ç§äº‹ç‰©ã€‚</p><table><thead><tr><th>ELä¸­çš„éšå¼å¯¹è±¡</th><th>ç±»å‹</th><th>å¯¹åº”JSPéšå¼å¯¹è±¡</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>PageContext</td><td>Javax.serlvet.jsp.PageContext</td><td>PageContext</td><td>å®Œå…¨ä¸€æ ·</td></tr><tr><td>ApplicationScope</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>åº”ç”¨å±‚èŒƒå›´</td></tr><tr><td>SessionScope</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>ä¼šè¯èŒƒå›´</td></tr><tr><td>RequestScope</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>è¯·æ±‚èŒƒå›´</td></tr><tr><td>PageScope</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>é¡µé¢å±‚èŒƒå›´</td></tr><tr><td>Header</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>è¯·æ±‚æ¶ˆæ¯å¤´keyï¼Œå€¼æ˜¯valueï¼ˆä¸€ä¸ªï¼‰</td></tr><tr><td>HeaderValues</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>è¯·æ±‚æ¶ˆæ¯å¤´keyï¼Œå€¼æ˜¯æ•°ç»„ï¼ˆä¸€ä¸ªå¤´å¤šä¸ªå€¼ï¼‰</td></tr><tr><td>Param</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>è¯·æ±‚å‚æ•°keyï¼Œå€¼æ˜¯valueï¼ˆä¸€ä¸ªï¼‰</td></tr><tr><td>ParamValues</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>è¯·æ±‚å‚æ•°keyï¼Œå€¼æ˜¯æ•°ç»„ï¼ˆä¸€ä¸ªåç§°å¤šä¸ªå€¼ï¼‰</td></tr><tr><td>InitParam</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>å…¨å±€å‚æ•°ï¼Œkeyæ˜¯å‚æ•°åç§°ï¼Œvalueæ˜¯å‚æ•°å€¼</td></tr><tr><td>Cookie</td><td>Java.util.Map</td><td>æ²¡æœ‰</td><td>Keyæ˜¯cookieçš„åç§°ï¼Œvalueæ˜¯cookieå¯¹è±¡</td></tr></tbody></table><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ELè¡¨è¾¾å¼11ä¸ªéšå¼å¯¹è±¡&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%--pageContextå¯¹è±¡ å¯ä»¥è·å–å…¶ä»–ä¸‰ä¸ªåŸŸå¯¹è±¡å’ŒJSPä¸­å…«ä¸ªéšå¼å¯¹è±¡--%&gt;
    ${pageContext.request.contextPath} &lt;br&gt;

    &lt;%--applicationScope sessionScope requestScope pageScope æ“ä½œå››å¤§åŸŸå¯¹è±¡ä¸­çš„æ•°æ®--%&gt;
    &lt;% request.setAttribute(&quot;username&quot;,&quot;zhangsan&quot;); %&gt;
    ${username} &lt;br&gt;
    ${requestScope.username} &lt;br&gt;

    &lt;%--header headerValues  è·å–è¯·æ±‚å¤´æ•°æ®--%&gt;
    ${header[&quot;connection&quot;]} &lt;br&gt;
    ${headerValues[&quot;connection&quot;][0]} &lt;br&gt;

    &lt;%--param paramValues è·å–è¯·æ±‚å‚æ•°æ•°æ®--%&gt;
    ${param.username} &lt;br&gt;
    ${paramValues.hobby[0]} &lt;br&gt;
    ${paramValues.hobby[1]} &lt;br&gt;

    &lt;%--initParam è·å–å…¨å±€é…ç½®å‚æ•°--%&gt;
    ${initParam[&quot;pname&quot;]}  &lt;br&gt;

    &lt;%--cookie è·å–cookieä¿¡æ¯--%&gt;
    ${cookie}  &lt;br&gt; &lt;%--è·å–Mapé›†åˆ--%&gt;
    ${cookie.JSESSIONID}  &lt;br&gt; &lt;%--è·å–mapé›†åˆä¸­ç¬¬äºŒä¸ªå…ƒç´ --%&gt;
    ${cookie.JSESSIONID.name}  &lt;br&gt; &lt;%--è·å–cookieå¯¹è±¡çš„åç§°--%&gt;
    ${cookie.JSESSIONID.value} &lt;%--è·å–cookieå¯¹è±¡çš„å€¼--%&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;--é¡µé¢æ˜¾ç¤º
/el
zhangsan
zhangsan
keep-alive
keep-alive

bbb
{JSESSIONID=javax.servlet.http.Cookie@435c8431, Idea-5a5d203e=javax.servlet.http.Cookie@46be0b58, Idea-be3279e7=javax.servlet.http.Cookie@4ef6e8e8}
javax.servlet.http.Cookie@435c8431
JSESSIONID
E481B2A845A448AD88A71FD43611FF02    
--&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨web.xmlé…ç½®å…¨å±€å‚æ•°</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">******</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--é…ç½®å…¨å±€å‚æ•°--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>pname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>bbb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="è·å–jspéšå¼å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#è·å–jspéšå¼å¯¹è±¡" aria-hidden="true">#</a> è·å–JSPéšå¼å¯¹è±¡</h4><p>é€šè¿‡è·å–é¡µé¢åŸŸå¯¹è±¡ï¼Œè·å–å…¶ä»–JSPå…«ä¸ªéšå¼å¯¹è±¡</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ELè¡¨è¾¾å¼ä½¿ç”¨ç»†èŠ‚&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%--è·å–è™šæ‹Ÿç›®å½•åç§°--%&gt;
    &lt;%= request.getContextPath()%&gt;
    ${pageContext.request.contextPath}
&lt;/body&gt;
&lt;/html&gt;
&lt;--é¡µé¢æ˜¾ç¤º
/el /el
--&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="jstl" tabindex="-1"><a class="header-anchor" href="#jstl" aria-hidden="true">#</a> JSTL</h3><p>JSTLï¼šJava Server Pages Standarded Tag Libraryï¼ŒJSPä¸­æ ‡å‡†æ ‡ç­¾åº“ã€‚</p><p>ä½œç”¨ï¼šæä¾›ç»™å¼€å‘äººå‘˜ä¸€ä¸ªæ ‡å‡†çš„æ ‡ç­¾åº“ï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨è¿™äº›æ ‡ç­¾å–ä»£JSPé¡µé¢ä¸Šçš„Javaä»£ç ï¼Œä»è€Œæé«˜ç¨‹åºçš„å¯è¯»æ€§ï¼Œé™ä½ç¨‹åºçš„ç»´æŠ¤éš¾åº¦ã€‚</p><table><thead><tr><th>ç»„æˆ</th><th>ä½œç”¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Core</td><td>æ ¸å¿ƒæ ‡ç­¾åº“</td><td>é€šç”¨é€»è¾‘å¤„ç†</td></tr><tr><td>Fmt</td><td>å›½é™…åŒ–æœ‰å…³</td><td>éœ€è¦ä¸åŒåœ°åŸŸæ˜¾ç¤ºä¸åŒè¯­è¨€æ—¶ä½¿ç”¨</td></tr><tr><td>Functions</td><td>ELå‡½æ•°</td><td>ELè¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨çš„æ–¹æ³•</td></tr><tr><td>SQL</td><td>æ“ä½œæ•°æ®åº“</td><td></td></tr><tr><td>XML</td><td>æ“ä½œXML</td><td></td></tr></tbody></table><p>ä½¿ç”¨ï¼šæ·»åŠ jaråŒ…ï¼Œé€šè¿‡taglibå¯¼å…¥ï¼Œprefixå±æ€§è¡¨ç¤ºç¨‹åºè°ƒç”¨æ ‡ç­¾ä½¿ç”¨çš„å¼•ç”¨å</p><table><thead><tr><th>æ ‡ç­¾åç§°</th><th>åŠŸèƒ½åˆ†ç±»</th><th>åˆ†ç±»</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>`&lt;c:if test=&quot;${A==B</td><td></td><td>C==D}&quot;&gt;`</td><td>æµç¨‹æ§åˆ¶</td></tr><tr><td><code>&lt;c:choose&gt; ,&lt;c:when&gt;,&lt;c:otherwise&gt;</code></td><td>æµç¨‹æ§åˆ¶</td><td>æ ¸å¿ƒæ ‡ç­¾åº“</td><td>ç”¨äºå¤šä¸ªæ¡ä»¶åˆ¤æ–­</td></tr><tr><td><code>&lt;c:foreache&gt;</code></td><td>è¿­ä»£æ“ä½œ</td><td>æ ¸å¿ƒæ ‡ç­¾åº“</td><td>ç”¨äºå¾ªç¯éå†</td></tr></tbody></table><ul><li><p>æµç¨‹æ§åˆ¶</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;æµç¨‹æ§åˆ¶&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%--å‘åŸŸå¯¹è±¡ä¸­æ·»åŠ æˆç»©æ•°æ®--%&gt;
    ${pageContext.setAttribute(&quot;score&quot;,&quot;T&quot;)}

    &lt;%--å¯¹æˆç»©è¿›è¡Œåˆ¤æ–­--%&gt;
    &lt;c:if test=&quot;${score eq &#39;A&#39;}&quot;&gt;
        ä¼˜ç§€
    &lt;/c:if&gt;

    &lt;%--å¯¹æˆç»©è¿›è¡Œå¤šæ¡ä»¶åˆ¤æ–­--%&gt;
    &lt;c:choose&gt;
        &lt;c:when test=&quot;${score eq &#39;A&#39;}&quot;&gt;ä¼˜ç§€&lt;/c:when&gt;
        &lt;c:when test=&quot;${score eq &#39;B&#39;}&quot;&gt;è‰¯å¥½&lt;/c:when&gt;
        &lt;c:when test=&quot;${score eq &#39;C&#39;}&quot;&gt;åŠæ ¼&lt;/c:when&gt;
        &lt;c:when test=&quot;${score eq &#39;D&#39;}&quot;&gt;è¾ƒå·®&lt;/c:when&gt;
        &lt;c:otherwise&gt;æˆç»©éæ³•&lt;/c:otherwise&gt;
    &lt;/c:choose&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è¿­ä»£æ“ä½œ<br> c:forEachï¼šç”¨æ¥éå†é›†åˆï¼Œå±æ€§ï¼š</p><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>items</td><td>æŒ‡å®šè¦éå†çš„é›†åˆï¼Œå®ƒå¯ä»¥æ˜¯ç”¨ELè¡¨è¾¾å¼å–å‡ºæ¥çš„å…ƒç´ </td></tr><tr><td>var</td><td>æŠŠå½“å‰éå†çš„å…ƒç´ æ”¾å…¥æŒ‡å®šçš„pageåŸŸä¸­ã€‚varçš„å€¼æ˜¯keyï¼Œéå†çš„å…ƒç´ æ˜¯value<br>æ³¨æ„ï¼švarä¸æ”¯æŒELè¡¨è¾¾å¼ï¼Œåªèƒ½æ˜¯å­—ç¬¦ä¸²å¸¸é‡</td></tr><tr><td>begin</td><td>å¼€å§‹éå†çš„ç´¢å¼•</td></tr><tr><td>end</td><td>ç»“æŸéå†çš„ç´¢å¼•</td></tr><tr><td>step</td><td>æ­¥é•¿ï¼Œi+=step</td></tr><tr><td>varStatus</td><td>å®ƒæ˜¯ä¸€ä¸ªè®¡æ•°å™¨å¯¹è±¡ï¼Œæœ‰ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯ç”¨äºè®°å½•ç´¢å¼•ï¼Œä¸€ä¸ªæ˜¯ç”¨äºè®¡æ•°ã€‚ç´¢å¼•æ˜¯ä»0å¼€å§‹ï¼Œè®¡æ•°æ˜¯ä»1å¼€å§‹</td></tr></tbody></table><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page import=&quot;java.util.ArrayList&quot; %&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;å¾ªç¯&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%--å‘åŸŸå¯¹è±¡ä¸­æ·»åŠ é›†åˆ--%&gt;
    &lt;%
        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add(&quot;aa&quot;);
        list.add(&quot;bb&quot;);
        list.add(&quot;cc&quot;);
        list.add(&quot;dd&quot;);
        pageContext.setAttribute(&quot;list&quot;,list);
    %&gt;
    &lt;%--éå†é›†åˆ--%&gt;
    &lt;c:forEach items=&quot;${list}&quot; var=&quot;str&quot;&gt;
        ${str} &lt;br&gt;
    &lt;/c:forEach&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h2 id="filter" tabindex="-1"><a class="header-anchor" href="#filter" aria-hidden="true">#</a> Filter</h2><h3 id="è¿‡æ»¤å™¨" tabindex="-1"><a class="header-anchor" href="#è¿‡æ»¤å™¨" aria-hidden="true">#</a> è¿‡æ»¤å™¨</h3><p>Filterï¼šè¿‡æ»¤å™¨ï¼Œæ˜¯ JavaWeb ä¸‰å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯ Servlet å’Œ Listener</p><p>å·¥ä½œæµç¨‹ï¼šåœ¨ç¨‹åºè®¿é—®æœåŠ¡å™¨èµ„æºæ—¶ï¼Œå½“ä¸€ä¸ªè¯·æ±‚åˆ°æ¥ï¼ŒæœåŠ¡å™¨é¦–å…ˆåˆ¤æ–­æ˜¯å¦æœ‰è¿‡æ»¤å™¨ä¸å»è¯·æ±‚èµ„æºç›¸å…³è”ï¼Œå¦‚æœæœ‰è¿‡æ»¤å™¨å¯ä»¥å°†è¯·æ±‚æ‹¦æˆªä¸‹æ¥ï¼Œå®Œæˆä¸€äº›ç‰¹å®šçš„åŠŸèƒ½ï¼Œå†ç”±è¿‡æ»¤å™¨å†³å®šæ˜¯å¦äº¤ç»™è¯·æ±‚èµ„æºï¼Œå¦‚æœæ²¡æœ‰å°±ç›´æ¥è¯·æ±‚èµ„æºï¼Œå“åº”åŒç†</p><p>ä½œç”¨ï¼šè¿‡æ»¤å™¨ä¸€èˆ¬ç”¨äºå®Œæˆé€šç”¨çš„æ“ä½œï¼Œä¾‹å¦‚ï¼šç™»å½•éªŒè¯ã€ç»Ÿä¸€ç¼–ç å¤„ç†ã€æ•æ„Ÿå­—ç¬¦è¿‡æ»¤ç­‰</p><hr><h3 id="ç›¸å…³ç±»" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³ç±»" aria-hidden="true">#</a> ç›¸å…³ç±»</h3><h4 id="filter-1" tabindex="-1"><a class="header-anchor" href="#filter-1" aria-hidden="true">#</a> Filter</h4><p>Filteræ˜¯ä¸€ä¸ªæ¥å£ï¼Œå¦‚æœæƒ³å®ç°è¿‡æ»¤å™¨çš„åŠŸèƒ½ï¼Œå¿…é¡»å®ç°è¯¥æ¥å£</p><ul><li><p>æ ¸å¿ƒæ–¹æ³•</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>void init(FilterConfig filterConfig)</td><td>åˆå§‹åŒ–ï¼Œå¼€å¯è¿‡æ»¤å™¨</td></tr><tr><td>void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)</td><td>å¯¹è¯·æ±‚èµ„æºå’Œå“åº”èµ„æºè¿‡æ»¤</td></tr><tr><td>void destroy()</td><td>é”€æ¯è¿‡æ»¤å™¨</td></tr></tbody></table></li><li><p>é…ç½®æ–¹å¼</p><p>æ³¨è§£æ–¹å¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token punctuation">)</span>å†…å¡«æ‹¦æˆªè·¯å¾„ï¼Œ<span class="token comment">/*ä»£è¡¨å…¨éƒ¨è·¯å¾„
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®æ–‡ä»¶</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>filterDemo01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>filter.FilterDemo01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>filterDemo01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="filterchain" tabindex="-1"><a class="header-anchor" href="#filterchain" aria-hidden="true">#</a> FilterChain</h4><ul><li><p>FilterChain æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨è¿‡æ»¤å™¨å¯¹è±¡ã€‚ç”±Servletå®¹å™¨æä¾›å®ç°ç±»å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</p></li><li><p>è¿‡æ»¤å™¨å¯ä»¥å®šä¹‰å¤šä¸ªï¼Œå°±ä¼šç»„æˆè¿‡æ»¤å™¨é“¾</p></li><li><p>æ ¸å¿ƒæ–¹æ³•ï¼š<code>void doFilter(ServletRequest request, ServletResponse response)</code> ç”¨æ¥æ”¾è¡Œæ–¹æ³•</p><p>å¦‚æœæœ‰å¤šä¸ªè¿‡æ»¤å™¨ï¼Œåœ¨ç¬¬ä¸€ä¸ªè¿‡æ»¤å™¨ä¸­è°ƒç”¨ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°åˆ°è¾¾æœ€ç»ˆè®¿é—®èµ„æºã€‚<br> å¦‚æœåªæœ‰ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œæ”¾è¡Œæ—¶å°±ä¼šç›´æ¥åˆ°è¾¾æœ€ç»ˆè®¿é—®èµ„æºã€‚</p></li></ul><h4 id="filterconfig" tabindex="-1"><a class="header-anchor" href="#filterconfig" aria-hidden="true">#</a> FilterConfig</h4><p>FilterConfig æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨è¿‡æ»¤å™¨çš„é…ç½®å¯¹è±¡ï¼Œå¯ä»¥åŠ è½½ä¸€äº›åˆå§‹åŒ–å‚æ•°</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>String getFilterName()</td><td>è·å–è¿‡æ»¤å™¨å¯¹è±¡åç§°</td></tr><tr><td>String getInitParameter(String name)</td><td>è·å–æŒ‡å®šåç§°çš„åˆå§‹åŒ–å‚æ•°çš„å€¼ï¼Œä¸å­˜åœ¨è¿”å›null</td></tr><tr><td>Enumeration&lt;String&gt; getInitParameterNames()</td><td>è·å–æ‰€æœ‰å‚æ•°çš„åç§°</td></tr><tr><td>ServletContext getServletContext()</td><td>è·å–åº”ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡</td></tr></tbody></table><hr><h3 id="filterä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#filterä½¿ç”¨" aria-hidden="true">#</a> Filterä½¿ç”¨</h3><h4 id="è®¾ç½®é¡µé¢ç¼–ç " tabindex="-1"><a class="header-anchor" href="#è®¾ç½®é¡µé¢ç¼–ç " aria-hidden="true">#</a> è®¾ç½®é¡µé¢ç¼–ç </h4><p>è¯·æ±‚å…ˆè¢«è¿‡æ»¤å™¨æ‹¦æˆªè¿›è¡Œç›¸å…³æ“ä½œ</p><p>è¿‡æ»¤å™¨æ”¾è¡Œä¹‹åæ‰§è¡Œå®Œç›®æ ‡èµ„æºï¼Œä»ä¼šå›åˆ°è¿‡æ»¤å™¨ä¸­</p><ul><li><p>Filter ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo01</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;filterDemo01æ‹¦æˆªåˆ°è¯·æ±‚...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å¤„ç†ä¹±ç </span>
        servletResponse<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è¿‡æ»¤å™¨æ”¾è¡Œ</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;filterDemo1æ”¾è¡Œä¹‹åï¼Œåˆå›åˆ°äº†doFilteræ–¹æ³•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Servlet ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/servletDemo01&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletDemo01</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletDemo01æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;servletDemo01æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>filterDemo01æ‹¦æˆªåˆ°è¯·æ±‚...
servletDemo01æ‰§è¡Œäº†...
filterDemo1æ”¾è¡Œä¹‹åï¼Œåˆå›åˆ°äº†doFilteræ–¹æ³•  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="å¤šè¿‡æ»¤å™¨é¡ºåº" tabindex="-1"><a class="header-anchor" href="#å¤šè¿‡æ»¤å™¨é¡ºåº" aria-hidden="true">#</a> å¤šè¿‡æ»¤å™¨é¡ºåº</h4><p>å¤šä¸ªè¿‡æ»¤å™¨ä½¿ç”¨çš„é¡ºåºï¼Œå–å†³äºè¿‡æ»¤å™¨æ˜ å°„çš„é¡ºåºã€‚</p><ul><li><p>ä¸¤ä¸ª Filter ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo01</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;filterDemo01æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo02</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;filterDemo02æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Servletä»£ç ï¼š<code>System.out.println(&quot;servletDemo02æ‰§è¡Œäº†...&quot;);</code></p></li><li><p>web.xmlé…ç½®ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>filterDemo01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>filter.FilterDemo01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>filterDemo01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>filterDemo02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>filter.FilterDemo02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>filterDemo02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>filterDemo01æ‰§è¡Œäº†
filterDemo02æ‰§è¡Œäº†
servletDemo02æ‰§è¡Œäº†...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>åœ¨è¿‡æ»¤å™¨çš„é…ç½®ä¸­ï¼Œæœ‰è¿‡æ»¤å™¨çš„å£°æ˜å’Œè¿‡æ»¤å™¨çš„æ˜ å°„ä¸¤éƒ¨åˆ†ï¼Œåˆ°åº•æ˜¯å£°æ˜å†³å®šé¡ºåºï¼Œè¿˜æ˜¯æ˜ å°„å†³å®šé¡ºåºå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼š<code>&lt;filter-mapping&gt;</code>çš„é…ç½®å‰åé¡ºåºå†³å®šè¿‡æ»¤å™¨çš„è°ƒç”¨é¡ºåºï¼Œä¹Ÿå°±æ˜¯ç”±æ˜ å°„é…ç½®é¡ºåºå†³å®šã€‚</p><hr><h4 id="filterç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#filterç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> Filterç”Ÿå‘½å‘¨æœŸ</h4><p>**åˆ›å»ºï¼š**å½“åº”ç”¨åŠ è½½æ—¶å®ä¾‹åŒ–å¯¹è±¡å¹¶æ‰§è¡Œinit()åˆå§‹åŒ–æ–¹æ³•</p><p>**æœåŠ¡ï¼š**å¯¹è±¡æä¾›æœåŠ¡çš„è¿‡ç¨‹ï¼Œæ‰§è¡ŒdoFilter()æ–¹æ³•</p><p><strong>é”€æ¯</strong>ï¼šå½“åº”ç”¨å¸è½½æ—¶æˆ–æœåŠ¡å™¨åœæ­¢æ—¶å¯¹è±¡é”€æ¯ï¼Œæ‰§è¡Œdestroy()æ–¹æ³•</p><ul><li><p>Filterä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo03</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span><span class="token punctuation">{</span>
    <span class="token comment">/*
        åˆå§‹åŒ–æ–¹æ³•
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¯¹è±¡åˆå§‹åŒ–æˆåŠŸäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*
        æä¾›æœåŠ¡æ–¹æ³•
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;filterDemo03æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è¿‡æ»¤å™¨æ”¾è¡Œ</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*
        å¯¹è±¡é”€æ¯æ–¹æ³•ï¼Œå…³é—­TomcatæœåŠ¡å™¨
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¯¹è±¡é”€æ¯äº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Servlet ä»£ç ï¼š<code>System.out.println(&quot;servletDemo03æ‰§è¡Œäº†...&quot;);</code></p></li><li><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>å¯¹è±¡åˆå§‹åŒ–æˆåŠŸäº†...
filterDemo03æ‰§è¡Œäº†...
servletDemo03æ‰§è¡Œäº†...
å¯¹è±¡é”€æ¯äº†
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="filterconfigä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#filterconfigä½¿ç”¨" aria-hidden="true">#</a> FilterConfigä½¿ç”¨</h4><p>Filteråˆå§‹åŒ–å‡½æ•°initçš„å‚æ•°æ˜¯FilterConfig å¯¹è±¡</p><ul><li><p>Filterä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo04</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span><span class="token punctuation">{</span>

	<span class="token comment">//åˆå§‹åŒ–æ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¯¹è±¡åˆå§‹åŒ–æˆåŠŸäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–è¿‡æ»¤å™¨åç§°</span>
        <span class="token class-name">String</span> filterName <span class="token operator">=</span> filterConfig<span class="token punctuation">.</span><span class="token function">getFilterName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>filterName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æ ¹æ®nameè·å–value</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> filterConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;filterDemo04æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>web.xmlé…ç½®</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>filterDemo04<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>filter.FilterDemo04<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>zhangsan<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>filterDemo04<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>å¯¹è±¡åˆå§‹åŒ–æˆåŠŸäº†...
filterDemo04
zhangsan
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="filteræ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#filteræ¡ˆä¾‹" aria-hidden="true">#</a> Filteræ¡ˆä¾‹</h3><p>åœ¨è®¿é—®htmlï¼Œjsï¼Œimageæ—¶ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½é‡æ–°å‘é€è¯·æ±‚è¯»å–èµ„æºï¼Œå°±å¯ä»¥é€šè¿‡è®¾ç½®å“åº”æ¶ˆæ¯å¤´çš„æ–¹å¼ï¼Œè®¾ç½®ç¼“å­˜æ—¶é—´ã€‚ä½†æ˜¯å¦‚æœæ¯ä¸ªServletéƒ½ç¼–å†™ç›¸åŒçš„ä»£ç ï¼Œæ˜¾ç„¶ä¸ç¬¦åˆæˆ‘ä»¬ç»Ÿä¸€è°ƒç”¨å’Œç»´æŠ¤çš„ç†å¿µã€‚</p><p>é™æ€èµ„æºè®¾ç½®ç¼“å­˜æ—¶é—´ï¼šhtmlè®¾ç½®ä¸º1å°æ—¶ï¼Œjsè®¾ç½®ä¸º2å°æ—¶ï¼Œcssè®¾ç½®ä¸º3å°æ—¶</p><ul><li><p>é…ç½®è¿‡æ»¤å™¨</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>StaticResourceNeedCacheFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>filter.StaticResourceNeedCacheFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>css<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>StaticResourceNeedCacheFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>StaticResourceNeedCacheFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>StaticResourceNeedCacheFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.css<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¼–å†™è¿‡æ»¤å™¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticResourceNeedCacheFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">;</span><span class="token comment">//è·å–åˆå§‹åŒ–å‚æ•°</span>
    <span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>filterConfig <span class="token operator">=</span> filterConfig<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> res<span class="token punctuation">,</span>
                         <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.æŠŠdoFilterçš„è¯·æ±‚å’Œå“åº”å¯¹è±¡è½¬æ¢æˆè·Ÿhttpåè®®æœ‰å…³çš„å¯¹è±¡</span>
        <span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">;</span>
        <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> req<span class="token punctuation">;</span>
            response <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> res<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassCastException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ServletException</span><span class="token punctuation">(</span><span class="token string">&quot;non-HTTP request or response&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//2.è·å–è¯·æ±‚èµ„æºURI</span>
        <span class="token class-name">String</span> uri <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.å¾—åˆ°è¯·æ±‚èµ„æºåˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹</span>
        <span class="token class-name">String</span> extend <span class="token operator">=</span> uri<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>uri<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æˆ‘ä»¬åªéœ€è¦åˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯html,css,jsã€‚å…¶ä»–çš„ä¸ç®¡</span>
        <span class="token comment">//4.åˆ¤æ–­åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹çš„èµ„æº</span>
        <span class="token keyword">long</span> time <span class="token operator">=</span> <span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;html&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>extend<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//html ç¼“å­˜1å°æ—¶</span>
            <span class="token class-name">String</span> html <span class="token operator">=</span> filterConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            time <span class="token operator">=</span> time<span class="token operator">*</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>extend<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//js ç¼“å­˜2å°æ—¶</span>
            <span class="token class-name">String</span> js <span class="token operator">=</span> filterConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            time <span class="token operator">=</span> time<span class="token operator">*</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>js<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;css&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>extend<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//css ç¼“å­˜3å°æ—¶</span>
            <span class="token class-name">String</span> css <span class="token operator">=</span> filterConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            time <span class="token operator">=</span> time<span class="token operator">*</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>css<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        <span class="token comment">//5.è®¾ç½®å“åº”æ¶ˆæ¯å¤´</span>
        response<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Expires&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//6.æ”¾è¡Œ</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="æ‹¦æˆªè¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#æ‹¦æˆªè¡Œä¸º" aria-hidden="true">#</a> æ‹¦æˆªè¡Œä¸º</h3><p>Filterè¿‡æ»¤å™¨é»˜è®¤æ‹¦æˆªçš„æ˜¯è¯·æ±‚ï¼Œä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¿˜æœ‰è¯·æ±‚è½¬å‘å’Œè¯·æ±‚åŒ…å«ï¼Œä»¥åŠç”±æœåŠ¡å™¨è§¦å‘è°ƒç”¨çš„å…¨å±€é”™è¯¯é¡µé¢ã€‚é»˜è®¤æƒ…å†µä¸‹è¿‡æ»¤å™¨æ˜¯ä¸å‚ä¸è¿‡æ»¤çš„ï¼Œéœ€è¦é…ç½®web.xml</p><p>å¼€å¯åŠŸèƒ½åï¼Œå½“è®¿é—®é¡µé¢å‘ç”Ÿç›¸å…³è¡Œä¸ºåï¼Œä¼šæ‰§è¡Œè¿‡æ»¤å™¨çš„æ“ä½œ</p><p>äº”ç§æ‹¦æˆªè¡Œä¸ºï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--é…ç½®è¿‡æ»¤å™¨--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>FilterDemo5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>filter.FilterDemo5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--é…ç½®å¼€å¯å¼‚æ­¥æ”¯æŒï¼Œå½“dispatcheré…ç½®ASYNCæ—¶ï¼Œéœ€è¦é…ç½®æ­¤è¡Œ--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>async-supported</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>async-supported</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>FilterDemo5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/error.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--&lt;url-pattern&gt;/index.jsp&lt;/url-pattern&gt;--&gt;</span>
    <span class="token comment">&lt;!--è¿‡æ»¤è¯·æ±‚ï¼šé»˜è®¤å€¼ã€‚--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatcher</span><span class="token punctuation">&gt;</span></span>REQUEST<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatcher</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--è¿‡æ»¤å…¨å±€é”™è¯¯é¡µé¢ï¼šå¼€å¯åï¼Œå½“ç”±æœåŠ¡å™¨è°ƒç”¨å…¨å±€é”™è¯¯é¡µé¢æ—¶ï¼Œè¿‡æ»¤å™¨å·¥ä½œ--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatcher</span><span class="token punctuation">&gt;</span></span>ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatcher</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--è¿‡æ»¤è¯·æ±‚è½¬å‘ï¼šå¼€å¯åï¼Œå½“è¯·æ±‚è½¬å‘æ—¶ï¼Œè¿‡æ»¤å™¨å·¥ä½œã€‚--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatcher</span><span class="token punctuation">&gt;</span></span>FORWARD<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatcher</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--è¿‡æ»¤è¯·æ±‚åŒ…å«ï¼šå½“è¯·æ±‚åŒ…å«æ—¶ï¼Œè¿‡æ»¤å™¨å·¥ä½œã€‚å®ƒåªèƒ½è¿‡æ»¤åŠ¨æ€åŒ…å«ï¼Œjspçš„includeæŒ‡ä»¤æ˜¯é™æ€åŒ…å«--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatcher</span><span class="token punctuation">&gt;</span></span>INCLUDE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatcher</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--è¿‡æ»¤å¼‚æ­¥ç±»å‹ï¼Œå®ƒè¦æ±‚æˆ‘ä»¬åœ¨filteræ ‡ç­¾ä¸­é…ç½®å¼€å¯å¼‚æ­¥æ”¯æŒ--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatcher</span><span class="token punctuation">&gt;</span></span>ASYNC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatcher</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>web.xmlï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>FilterDemo5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>filter.FilterDemo5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--é…ç½®å¼€å¯å¼‚æ­¥æ”¯æŒï¼Œå½“dispatcheré…ç½®ASYNCæ—¶ï¼Œéœ€è¦é…ç½®æ­¤è¡Œ--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>async-supported</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>async-supported</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>FilterDemo5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/error.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatcher</span><span class="token punctuation">&gt;</span></span>ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatcher</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ServletDemo03ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servletDemo03æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>FilterDemo05ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo05</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;filterDemo05æ‰§è¡Œäº†...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ”¾è¡Œ</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è®¿é—®URLï¼š<a href="http://localhost:8080/filter/servletDemo03" target="_blank" rel="noopener noreferrer">http://localhost:8080/filter/servletDemo03<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>æ§åˆ¶å°è¾“å‡ºï¼ˆæ³¨æ„è¾“å‡ºé¡ºåºï¼‰ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>servletDemo03æ‰§è¡Œäº†...
filterDemo05æ‰§è¡Œäº†...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="å¯¹æ¯”servlet" tabindex="-1"><a class="header-anchor" href="#å¯¹æ¯”servlet" aria-hidden="true">#</a> å¯¹æ¯”Servlet</h3><table><thead><tr><th>æ–¹æ³•/ç±»å‹</th><th>Servlet</th><th>Filter</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>åˆå§‹åŒ– æ–¹æ³•</td><td>void init(ServletConfig);</td><td>void init(FilterConfig);</td><td>å‡ ä¹ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨web.xmlä¸­é…ç½®å‚æ•°ï¼Œç”¨è¯¥å¯¹è±¡çš„æ–¹æ³•å¯ä»¥è·å–åˆ°ã€‚</td></tr><tr><td>æä¾›æœåŠ¡æ–¹æ³•</td><td>void service(request,response);</td><td>void dofilter(request,response,FilterChain)</td><td>Filteræ¯”Servletå¤šäº†ä¸€ä¸ªFilterChainï¼Œå®ƒä¸ä»…èƒ½å®ŒæˆServletçš„åŠŸèƒ½ï¼Œè€Œä¸”è¿˜å¯ä»¥å†³å®šç¨‹åºæ˜¯å¦èƒ½ç»§ç»­æ‰§è¡Œã€‚æ‰€ä»¥è¿‡æ»¤å™¨æ¯”Servletæ›´ä¸ºå¼ºå¤§ã€‚ åœ¨Struts2ä¸­ï¼Œæ ¸å¿ƒæ§åˆ¶å™¨å°±æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚</td></tr><tr><td>é”€æ¯æ–¹æ³•</td><td>void destroy();</td><td>void destroy();</td><td>æ–¹æ³•/ç±»å‹</td></tr></tbody></table><hr><h2 id="listener" tabindex="-1"><a class="header-anchor" href="#listener" aria-hidden="true">#</a> Listener</h2><h3 id="è§‚å¯Ÿè€…è®¾è®¡è€…" tabindex="-1"><a class="header-anchor" href="#è§‚å¯Ÿè€…è®¾è®¡è€…" aria-hidden="true">#</a> è§‚å¯Ÿè€…è®¾è®¡è€…</h3><p>æ‰€æœ‰çš„ç›‘å¬å™¨éƒ½æ˜¯åŸºäºè§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼çš„ã€‚</p><p>è§‚å¯Ÿè€…æ¨¡å¼é€šå¸¸ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><ul><li><p>äº‹ä»¶æºï¼šè§¦å‘äº‹ä»¶çš„å¯¹è±¡ã€‚</p></li><li><p>äº‹ä»¶ï¼šè§¦å‘çš„åŠ¨ä½œï¼Œé‡Œé¢å°è£…äº†äº‹ä»¶æºã€‚</p></li><li><p>ç›‘å¬å™¨ï¼šå½“äº‹ä»¶æºè§¦å‘äº‹ä»¶åï¼Œå¯ä»¥å®Œæˆçš„åŠŸèƒ½ã€‚ä¸€èˆ¬æ˜¯ä¸€ä¸ªæ¥å£ï¼Œç”±ä½¿ç”¨è€…æ¥å®ç°ã€‚ï¼ˆæ­¤å¤„çš„æ€æƒ³è¿˜æ¶‰åŠäº†ä¸€ä¸ªç­–ç•¥æ¨¡å¼ï¼‰</p></li></ul><hr><h3 id="ç›‘å¬å™¨åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#ç›‘å¬å™¨åˆ†ç±»" aria-hidden="true">#</a> ç›‘å¬å™¨åˆ†ç±»</h3><p>åœ¨ç¨‹åºå½“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ï¼šå¯¹è±¡çš„åˆ›å»ºé”€æ¯ã€åŸŸå¯¹è±¡ä¸­å±æ€§çš„å˜åŒ–ã€ä¼šè¯ç›¸å…³å†…å®¹è¿›è¡Œç›‘å¬ã€‚</p><p>Servletè§„èŒƒä¸­å…±è®¡8ä¸ªç›‘å¬å™¨ï¼Œ<strong>ç›‘å¬å™¨éƒ½æ˜¯ä»¥æ¥å£å½¢å¼æä¾›</strong>ï¼Œå…·ä½“åŠŸèƒ½éœ€è¦æˆ‘ä»¬è‡ªå·±å®Œæˆ</p><h4 id="ç›‘å¬å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#ç›‘å¬å¯¹è±¡" aria-hidden="true">#</a> ç›‘å¬å¯¹è±¡</h4><ul><li><p>ServletContextListenerï¼šç”¨äºç›‘å¬ServletContextå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>void contextInitialized(ServletContextEvent sce)</td><td>å¯¹è±¡åˆ›å»ºæ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void contextDestroyed(ServletContextEvent sce)</td><td>å¯¹è±¡é”€æ¯æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr></tbody></table><p>å‚æ•°ServletContextEvent ä»£è¡¨äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡ä¸­å°è£…äº†äº‹ä»¶æºServletContextï¼ŒçœŸæ­£çš„äº‹ä»¶æŒ‡çš„æ˜¯åˆ›å»ºæˆ–è€…é”€æ¯ServletContextå¯¹è±¡çš„æ“ä½œ</p></li><li><p>HttpSessionListenerï¼šç”¨äºç›‘å¬HttpSessionå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯</p><table><thead><tr><th>æ–¹æ³•</th><th style="text-align:left;">ä½œç”¨</th></tr></thead><tbody><tr><td>void sessionCreated(HttpSessionEvent se)</td><td style="text-align:left;">å¯¹è±¡åˆ›å»ºæ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void sessionDestroyed(HttpSessionEvent se)</td><td style="text-align:left;">å¯¹è±¡é”€æ¯æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr></tbody></table><p>å‚æ•°HttpSessionEvent ä»£è¡¨äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡ä¸­å°è£…äº†äº‹ä»¶æºHttpSessionï¼ŒçœŸæ­£çš„äº‹ä»¶æŒ‡çš„æ˜¯åˆ›å»ºæˆ–è€…é”€æ¯HttpSessionå¯¹è±¡çš„æ“ä½œ</p></li><li><p>ServletRequestListenerï¼šç”¨äºç›‘å¬ServletRequestå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯</p><table><thead><tr><th>æ–¹æ³•</th><th style="text-align:left;">ä½œç”¨</th></tr></thead><tbody><tr><td>void requestInitialized(ServletRequestEvent sre)</td><td style="text-align:left;">å¯¹è±¡åˆ›å»ºæ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void requestDestroyed(ServletRequestEvent sre)</td><td style="text-align:left;">å¯¹è±¡é”€æ¯æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr></tbody></table><p>å‚æ•°ServletRequestEvent ä»£è¡¨äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡ä¸­å°è£…äº†äº‹ä»¶æºServletRequestï¼ŒçœŸæ­£çš„äº‹ä»¶æŒ‡çš„æ˜¯åˆ›å»ºæˆ–è€…é”€æ¯ServletRequestå¯¹è±¡çš„æ“ä½œ</p></li></ul><hr><h4 id="ç›‘å¬åŸŸå¯¹è±¡å±æ€§" tabindex="-1"><a class="header-anchor" href="#ç›‘å¬åŸŸå¯¹è±¡å±æ€§" aria-hidden="true">#</a> ç›‘å¬åŸŸå¯¹è±¡å±æ€§</h4><ul><li><p>ServletContextAttributeListenerï¼šç”¨äºç›‘å¬ServletContextåº”ç”¨åŸŸä¸­å±æ€§çš„å˜åŒ–</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>void attributeAdded(ServletContextAttributeEvent event)</td><td>åŸŸä¸­æ·»åŠ å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void attributeRemoved(ServletContextAttributeEvent event)</td><td>åŸŸä¸­ç§»é™¤å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void attributeReplaced(ServletContextAttributeEvent event)</td><td>åŸŸä¸­æ›¿æ¢å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr></tbody></table><p>å‚æ•°ServletContextAttributeEvent ä»£è¡¨äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡ä¸­å°è£…äº†äº‹ä»¶æºServletContextï¼ŒçœŸæ­£çš„äº‹ä»¶æŒ‡çš„æ˜¯æ·»åŠ ã€ç§»é™¤ã€æ›¿æ¢åº”ç”¨åŸŸä¸­å±æ€§çš„æ“ä½œ</p></li><li><p>HttpSessionAttributeListenerï¼šç”¨äºç›‘å¬HttpSessionä¼šè¯åŸŸä¸­å±æ€§çš„å˜åŒ–</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>void attributeAdded(HttpSessionBindingEvent event)</td><td>åŸŸä¸­æ·»åŠ å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void attributeRemoved(HttpSessionBindingEvent event)</td><td>åŸŸä¸­ç§»é™¤å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void attributeReplaced(HttpSessionBindingEvent event)</td><td>åŸŸä¸­æ›¿æ¢å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr></tbody></table><p>å‚æ•°HttpSessionBindingEvent ä»£è¡¨äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡ä¸­å°è£…äº†äº‹ä»¶æºHttpSessionï¼ŒçœŸæ­£çš„äº‹ä»¶æŒ‡çš„æ˜¯æ·»åŠ ã€ç§»é™¤ã€æ›¿æ¢åº”ç”¨åŸŸä¸­å±æ€§çš„æ“ä½œ</p></li><li><p>ServletRequestAttributeListenerï¼šç”¨äºç›‘å¬ServletRequestè¯·æ±‚åŸŸä¸­å±æ€§çš„å˜åŒ–</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>void attributeAdded(ServletRequestAttributeEvent srae)</td><td>åŸŸä¸­æ·»åŠ å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void attributeRemoved(ServletRequestAttributeEvent srae)</td><td>åŸŸä¸­ç§»é™¤å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void attributeReplaced(ServletRequestAttributeEvent srae)</td><td>åŸŸä¸­æ›¿æ¢å±æ€§æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr></tbody></table><p>å‚æ•°ServletRequestAttributeEvent ä»£è¡¨äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡ä¸­å°è£…äº†äº‹ä»¶æºServletRequestï¼ŒçœŸæ­£çš„äº‹ä»¶æŒ‡çš„æ˜¯æ·»åŠ ã€ç§»é™¤ã€æ›¿æ¢åº”ç”¨åŸŸä¸­å±æ€§çš„æ“ä½œ</p></li><li><p>é¡µé¢åŸŸå¯¹è±¡æ²¡æœ‰ç›‘å¬å™¨</p></li></ul><hr><h4 id="æ„ŸçŸ¥å‹ç›‘å¬å™¨" tabindex="-1"><a class="header-anchor" href="#æ„ŸçŸ¥å‹ç›‘å¬å™¨" aria-hidden="true">#</a> æ„ŸçŸ¥å‹ç›‘å¬å™¨</h4><p>ç›‘å¬ä¼šè¯ç›¸å…³çš„æ„ŸçŸ¥å‹ç›‘å¬å™¨ï¼Œå’Œä¼šè¯åŸŸç›¸å…³çš„ä¸¤ä¸ªæ„ŸçŸ¥å‹ç›‘å¬å™¨æ˜¯æ— éœ€é…ç½®ï¼ˆæ³¨è§£ï¼‰çš„ï¼Œå¯ä»¥ç›´æ¥ç¼–å†™ä»£ç </p><ul><li><p>HttpSessionBindingListenerï¼šç”¨äºæ„ŸçŸ¥å¯¹è±¡å’Œä¼šè¯åŸŸç»‘å®šçš„ç›‘å¬å™¨</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>void valueBound(HttpSessionBindingEvent event)</td><td>æ•°æ®æ·»åŠ åˆ°ä¼šè¯åŸŸä¸­(ç»‘å®š)æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void valueUnbound(HttpSessionBindingEvent event)</td><td>æ•°æ®ä»ä¼šè¯åŸŸä¸­ç§»é™¤(è§£ç»‘)æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr></tbody></table><p>å‚æ•°HttpSessionBindingEvent ä»£è¡¨äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡ä¸­å°è£…äº†äº‹ä»¶æºHttpSessionï¼ŒçœŸæ­£çš„äº‹ä»¶æŒ‡çš„æ˜¯æ·»åŠ ã€ç§»é™¤ã€æ›¿æ¢åº”ç”¨åŸŸä¸­å±æ€§çš„æ“ä½œ</p></li><li><p>HttpSessionActivationListenerï¼šç”¨äºæ„ŸçŸ¥ä¼šè¯åŸŸä¸­å¯¹è±¡å’Œé’åŒ–å’Œæ´»åŒ–çš„ç›‘å¬å™¨</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>void sessionWillPassivate(HttpSessionEvent se)</td><td>ä¼šè¯åŸŸä¸­æ•°æ®é’åŒ–æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr><tr><td>void sessionDidActivate(HttpSessionEvent se)</td><td>ä¼šè¯åŸŸä¸­æ•°æ®æ´»åŒ–æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</td></tr></tbody></table></li></ul><hr><h3 id="ç›‘å¬å™¨ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ç›‘å¬å™¨ä½¿ç”¨" aria-hidden="true">#</a> ç›‘å¬å™¨ä½¿ç”¨</h3><h4 id="servletcontextlistener" tabindex="-1"><a class="header-anchor" href="#servletcontextlistener" aria-hidden="true">#</a> ServletContextListener</h4><p>ServletContextå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯çš„ç›‘å¬å™¨</p><p>æ³¨è§£æ–¹å¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebListener</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContextListenerDemo</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span> <span class="token punctuation">{</span>
    <span class="token comment">//åˆ›å»ºæ—¶æ‰§è¡Œæ­¤æ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç›‘å¬åˆ°å¯¹è±¡çš„åˆ›å»º....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¯åŠ¨æœåŠ¡å™¨å°±åˆ›å»º</span>

        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> sce<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//é”€æ¯æ—¶æ‰§è¡Œçš„æ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç›‘å¬åˆ°å¯¹è±¡çš„é”€æ¯...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å…³é—­æœåŠ¡å™¨å°±é”€æ¯</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®web.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--é…ç½®ç›‘å¬å™¨--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>listener.ServletContextAttributeListenerDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="servletcontextattributelistener" tabindex="-1"><a class="header-anchor" href="#servletcontextattributelistener" aria-hidden="true">#</a> ServletContextAttributeListener</h4><p>åº”ç”¨åŸŸå¯¹è±¡ä¸­çš„å±æ€§å˜åŒ–çš„ç›‘å¬å™¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContextAttributeListenerDemo</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextAttributeListener</span><span class="token punctuation">{</span>
    <span class="token comment">/*
        å‘åº”ç”¨åŸŸå¯¹è±¡ä¸­æ·»åŠ å±æ€§æ—¶æ‰§è¡Œæ­¤æ–¹æ³•
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeAdded</span><span class="token punctuation">(</span><span class="token class-name">ServletContextAttributeEvent</span> scae<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç›‘å¬åˆ°äº†å±æ€§çš„æ·»åŠ ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–åº”ç”¨åŸŸå¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> scae<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–å±æ€§</span>
        <span class="token class-name">Object</span> value <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//zhangsan </span>
    <span class="token punctuation">}</span>

    <span class="token comment">/*
        å‘åº”ç”¨åŸŸå¯¹è±¡ä¸­æ›¿æ¢å±æ€§æ—¶æ‰§è¡Œæ­¤æ–¹æ³•
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeReplaced</span><span class="token punctuation">(</span><span class="token class-name">ServletContextAttributeEvent</span> scae<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç›‘å¬åˆ°äº†å±æ€§çš„æ›¿æ¢...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–åº”ç”¨åŸŸå¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> scae<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–å±æ€§</span>
        <span class="token class-name">Object</span> value <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//lisi</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/*
        å‘åº”ç”¨åŸŸå¯¹è±¡ä¸­ç§»é™¤å±æ€§æ—¶æ‰§è¡Œæ­¤æ–¹æ³•
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeRemoved</span><span class="token punctuation">(</span><span class="token class-name">ServletContextAttributeEvent</span> scae<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç›‘å¬åˆ°äº†å±æ€§çš„ç§»é™¤...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–åº”ç”¨åŸŸå¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> scae<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–å±æ€§</span>
        <span class="token class-name">Object</span> value <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//null</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContextListenerDemo</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span><span class="token punctuation">{</span>
    <span class="token comment">//ServletContextå¯¹è±¡åˆ›å»ºçš„æ—¶å€™æ‰§è¡Œæ­¤æ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç›‘å¬åˆ°äº†å¯¹è±¡çš„åˆ›å»º...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–å¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> sce<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æ·»åŠ å±æ€§</span>
        servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æ›¿æ¢å±æ€§</span>
        servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//ç§»é™¤å±æ€§</span>
        servletContext<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//ServletContextå¯¹è±¡é”€æ¯çš„æ—¶å€™æ‰§è¡Œæ­¤æ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç›‘å¬åˆ°äº†å¯¹è±¡çš„é”€æ¯...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>ç›‘å¬åˆ°äº†å¯¹è±¡çš„åˆ›å»º...
ç›‘å¬åˆ°äº†å±æ€§çš„æ·»åŠ ...
zhangsan
ç›‘å¬åˆ°äº†å±æ€§çš„æ›¿æ¢
lisi
ç›‘å¬åˆ°å±æ€§çš„ç§»é™¤
null
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/rockbenben/LearnData/edit/main/docs/JavaWeb/Servlet.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><!----></div></footer><nav class="vp-page-nav"><a class="vp-link nav-link prev" href="/JavaWeb/Nginx.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Nginx</div></a><a class="vp-link nav-link next" href="/JavaWeb/VUE.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">VUE<!----></div></a></nav><div id="comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><div class="wl-reaction"><div class="wl-reaction-title">å·²åˆ°è¾¾æ–‡ç« åº•éƒ¨ï¼Œæ¬¢è¿ç•™è¨€ã€è¡¨æƒ…äº’åŠ¨~</div><ul class="wl-reaction-list"><!--[--><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/twemoji/13.1.0/72x72/1f44d.png" alt="èµä¸€ä¸ª"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text">èµä¸€ä¸ª</div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/twemoji/13.1.0/72x72/1f44f.png" alt="æ”¯æŒä¸‹"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text">æ”¯æŒä¸‹</div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/twemoji/13.1.0/72x72/1f60e.png" alt="æœ‰ç‚¹é…·"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text">æœ‰ç‚¹é…·</div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/twemoji/13.1.0/72x72/1f602.png" alt="å•¥ç©æ„"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text">å•¥ç©æ„</div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/twemoji/13.1.0/72x72/1f635-200d-1f4ab.png" alt="çœ‹ä¸æ‡‚"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text">çœ‹ä¸æ‡‚</div></li><!--]--></ul></div><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">ç½‘å€</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.15.5</div></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-3aac6385.js" defer></script>
    <!-- çœ‹æ¿å¨˜åŒºå— -->
    <script src="/live2d-widget/autoload.js"></script>
    <!-- End çœ‹æ¿å¨˜åŒºå— -->
    <script src="https://oss.newzone.top/instantpage.min.js" type="module"></script>
  </body>
</html>
